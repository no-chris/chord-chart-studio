!function(t){function e(e){for(var r,i,c=e[0],u=e[1],l=e[2],f=0,d=[];f<c.length;f++)i=c[f],o[i]&&d.push(o[i][0]),o[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(s&&s(e);d.length;)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,c=1;c<n.length;c++){var u=n[c];0!==o[u]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={0:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var s=u;a.push(["Vtdi",1]),n()}({"5IaM":function(t,e,n){var r=n("3O+N");t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){return'<div class="file-explorer">\n    <div class="file-explorer-actions">\n        <button data-action="new-file">New file</button>\n        <button data-action="delete-file">Delete</button>\n    </div>\n    <hr />\n    <ul class="entry-list"></ul>\n</div>'},useData:!0})},"6joI":function(t,e,n){var r=n("3O+N");t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var a;return'<span class="ucc-bar-content">'+(null!=(a=t.lambda(null!=e?e.barContent:e,e))?a:"")+"</span>"},useData:!0})},"9hQf":function(t,e,n){var r=n("3O+N");t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var a;return'<div class="ucc-song">'+(null!=(a=t.lambda(null!=e?e.song:e,e))?a:"")+"</div>"},useData:!0})},Ewt9:function(t,e,n){var r=n("3O+N");t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){return'<span class="ucc-bar-separator">|</span>'},useData:!0})},G5dE:function(t,e,n){var r=n("3O+N");t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){return'<div class="app-wrapper">\n    <header data-area="app-header"></header>\n    <main>\n        <section class="app-side-bar" data-area="app-side-bar"></section>\n        <section class="app-content" data-area="app-content"></section>\n    </main>\n    <footer data-area="app-footer"></footer>\n</div>\n'},useData:!0})},GuN8:function(t,e,n){},Vtdi:function(t,e,n){"use strict";n.r(e);n("u0UJ");var r=n("wMS7"),o=n.n(r);function a(t){return o.a.sanitize(t,{RETURN_DOM_FRAGMENT:!0}).firstChild}n("+2oP");var i=n("bNQv"),c=n.n(i);n("07d7"),n("5s+n"),n("ls82");var u=n("lSCD"),l=n.n(u),s=(n("ma9I"),n("zKZe"),n("wOJ8")),f=n.n(s);function d(t){var e={_emitter:new f.a,on:function(t,e){this._emitter.on(t,e)},once:function(t,e){this._emitter.once(t,e)},off:function(t,e){this._emitter.off(t,e)},emit:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=this._emitter).emit.apply(e,[t].concat(r))}};return Object.assign(t,e)}function p(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}var h=n("3OWR"),v=n.n(h);function y(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=d({getHost:function(){if(!t)throw new Error("Plugin's host has not been setup, cannot retrieve it");return t},setHost:function(e){if(t)throw new Error("Cannot override Plugin's host");t=e}});return v()(e,n),e}var m=n("tkZw"),g=n.n(m),b=y({render:function(){var t=this.getHost().getAreaBroker().getHeader(),e=a(g()());t.appendChild(e)}}),w=n("niu/"),E=n.n(w),C=y({render:function(){var t=this.getHost().getAreaBroker().getFooter(),e=a(E()());t.appendChild(e)}}),S=(n("Ldrd"),n("83U7"),n("R/66"),n("dNuR")),O=n.n(S),x=n("8Hwm"),k=n.n(x);function A(t){return k.a.sanitize(t)}function N(t){return k.a.sanitize(t,{ALLOWED_TAGS:["#text"],KEEP_CONTENT:!0})}n("iOpb"),n("1wfR"),n("1zki");var j=n("kL1a"),B=n.n(j),T=n("u3z5"),_=new T.Chords;function P(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/\t+/g," ").replace(/  +/g," ").trim().split(" ").map(function(t){return t.replace(/\.*$/g,"")}).every(function(t){return function(t){return B()(t)&&_.isChord(t)}(t)})}n("Ecbk");var D=["2/2","3/2","3/4","4/4","5/4","3/8","6/8","9/8","12/8"];function L(t){return D.includes(t)}n("0T4K"),n("Dzwt");function R(t){if(!L(t))throw new TypeError("Expected time signature string, received: "+t);var e=t.split("/"),n=Number.parseInt(e[0],10),r=Number.parseInt(e[1],10),o=n;return 2===r?o=2*n:8===r&&(o=n/3),{string:t,count:n,value:r,beatCount:o}}n("ZFc4"),n("rmJO"),n("5ktT");var M=n("wfLL"),z=n.n(M),I=n("XhyR"),q=n.n(I),F=new T.Chords;n("IHQ4"),n("cvC6"),n("jDvd"),n("wt4b"),n("GZld"),n("uae+"),n("okNV"),n("7kcN"),n("6tnn"),n("SFce"),n("nXTL"),n("ruy4"),n("rt9K"),n("8iCz"),n("jpAq"),n("aLnL"),n("O0Hx");var K=n("okNX"),H=n.n(K);function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){return!e||"object"!==V(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function J(t){var e="function"==typeof Map?new Map:void 0;return(J=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return U(t,arguments,Z(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),W(r,t)})(t)}function U(t,e,n){return(U=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&W(o,n.prototype),o}).apply(null,arguments)}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Q=function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.string,o=n.duration,a=n.currentBeatCount,i=n.beatCount;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!r||!B()(r))throw new TypeError("IncorrectBeatCountException cannot be created without chord string, received: "+r);if(!o||!H()(o))throw new TypeError("IncorrectBeatCountException cannot be created without chord duration, received: "+o);if(!a||!H()(a))throw new TypeError("IncorrectBeatCountException cannot be created without currentBeatCount, received: "+a);if(!i||!H()(i))throw new TypeError("IncorrectBeatCountException cannot be created without beatCount, received: "+i);return(t=G(this,Z(e).call(this))).name="IncorrectBeatCountException",t.string=r,t.duration=o,t.currentBeatCount=a,t.beatCount=i,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(e,J(Error)),e}();function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){return!e||"object"!==X(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function $(t){var e="function"==typeof Map?new Map:void 0;return($=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return tt(t,arguments,nt(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),et(r,t)})(t)}function tt(t,e,n){return(tt=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=new(Function.bind.apply(t,r));return n&&et(o,n.prototype),o}).apply(null,arguments)}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rt=function(t){function e(){var t,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).string;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),!n||!B()(n))throw new TypeError("InvalidChordRepetitionException cannot be created without chord string, received: "+n);return(t=Y(this,nt(e).call(this))).name="InvalidChordRepetitionException",t.string=n,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)}(e,$(Error)),e}();function ot(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).timeSignature,n=void 0===e?R("4/4"):e,r=n.beatCount,o=t.replace(/  +/g," ").trim().split(" "),a=[],i={allChords:[]},c={},u={},l=0,s=0,f={};if(o.forEach(function(t){if(u=function(t){return F.parse(t)}(t.replace(/\./g,"")),(c={string:t,duration:(t.match(/\./g)||[]).length||r,model:u}).beat=l+1,l+=c.duration,i.allChords.length>0&&(f=i.allChords[i.allChords.length-1],z()(f.model,c.model)))throw new rt({string:c.string});if(i.allChords.push(c),s++,l===r)i.timeSignature=n,a.push(q()(i)),i={allChords:[]},l=0,f={};else if(l>r)throw new Q({message:"",string:c.string,duration:c.duration,currentBeatCount:l,beatCount:r})}),l>0&&l<r)throw new Q({message:"",string:c.string,duration:c.duration,currentBeatCount:l,beatCount:r});return{chordCount:s,allBars:a}}var at=n("voDb"),it=n.n(at);function ct(t,e){var n=q()(t);return n.forEach(function(t){"chord"===t.type&&t.model.allBars.forEach(function(t){t.allChords.forEach(function(t){e(t)})})}),n}var ut="4/4";function lt(t){var e=O()(t)?t:t.split("\n"),n=R(ut),r=e.map(A).map(N).map(function(t){return{string:t}}).map(function(t){if(L(t.string))n=R(t.string),t.type="time-signature",t.model=n;else if(P(t.string))try{t.type="chord",t.model=ot(t.string,{timeSignature:n})}catch(e){t.type="text"}else t.type="text";return t});return{allLines:r,allChords:function(t){var e,n=[];return ct(t,function(t){-1===(e=it()(n,function(e){return z()(e.model,t.model)}))?n.push({model:q()(t.model),occurrences:1}):n[e].occurrences++}),n}(r)}}n("U3YB");var st=n("3Rw9"),ft=n("NClT"),dt=n("nuZ7"),pt=(n("Xs0f"),n("Ajto")),ht=n.n(pt);var vt=n("Sd2d"),yt=n("jMK9"),mt=n("/B3b");function gt(t){return new st.Plugin({key:"onStateChange",view:function(){return{update:function(e){t.emit("statechange",e.state)}}}})}var bt=n("fdPj"),wt=new dt.Schema({nodes:bt.nodes,marks:bt.marks});n("Y7Wg"),n("eWUb"),n("90s2"),n("tjpk");function Et(t){return t.toJSON().doc.content.map(function(t){return t.content?t.content.reduce(function(t,e){return t+=e.text},""):""}).join("\n")}function Ct(t){return k.a.sanitize(t,{ALLOWED_TAGS:["p","#text"],KEEP_CONTENT:!1})}function St(t){var e,n,r,o=(e={},n={_emitter:new ht.a,on:function(t,e){this._emitter.on(t,e)},once:function(t,e){this._emitter.once(t,e)},off:function(t,e){this._emitter.off(t,e)},emit:function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(e=this._emitter).emit.apply(e,[t].concat(r))}},Object.assign(e,n)),a=function(t){return[Object(mt.history)(),Object(vt.keymap)({"Mod-z":mt.undo,"Mod-y":mt.redo}),Object(vt.keymap)(yt.baseKeymap),gt(t)]}(o);return o.on("statechange",function(t){o.emit("change",Et(t))}),Object.assign(o,{load:function(e){var n=function(t){var e=Ct(t).split("\n").map(function(t){return"<p>".concat(t,"</p>")}).join(""),n=document.createElement("div");return n.innerHTML=Ct(e),n}(e),i=st.EditorState.create({doc:dt.DOMParser.fromSchema(wt).parse(n,{preserveWhitespace:"full"}),plugins:a});r?r.updateState(i):r=new ft.EditorView(t,{state:i}),o.emit("statechange",i)},getContent:function(){return Et(r.state)}})}n("4eEA");var Ot={0:{"":[]},2:{2:[3],11:[3,2]},3:{3:[3],12:[2,4],21:[6,0],111:[2,2,0]},4:{4:[3],13:[1,4],22:[3,2],31:[5,0],112:[1,1,3],121:[1,4,0],211:[4,1,0],1111:[2,2,2]}};var xt=2,kt=1;var At=n("cimT"),Nt=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],jt={"C#":"Db","D#":"Eb","F#":"Gb","G#":"Ab","A#":"Bb"},Bt=n.n(At)()(jt);function Tt(t){return Bt[t]||t}function _t(t,e,n){var r=Nt.indexOf(t)+e,o=Math.floor(r/12),a=Nt[r-12*o];return n&&jt[a]||a}function Pt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.transposeValue,o=void 0===r?0:r,a=n.accidentalsType,i=void 0===a?"auto":a,c=n.harmonizeAccidentals,u=void 0===c||c,l=q()(t),s="auto"===i?function(t){var e="",n=0,r=0;return t.forEach(function(t){2===(e=t.model.symbol.rootNote).length&&("b"===e[1]?n+=t.occurrences:r+=t.occurrences)}),n>r?"flat":"sharp"}(e):i;return(u||0!==o)&&(l=ct(l,function(t){t.transposedModel=function(t,e,n){var r=q()(t),o=r.symbol.rootNote,a=r.symbol.bassNote,i=Tt(o);if(r.symbol.rootNote=_t(i,e,n),a){var c=Tt(a);r.symbol.bassNote=_t(c,e,n)}return r}(t.model,o,"flat"===s)})),l}var Dt=n("uVib"),Lt=n.n(Dt),Rt=(n("FxsW"),n("lb95")),Mt=n.n(Rt);var zt=n("6joI"),It=n.n(zt),qt=" ",Ft=0,Kt=2;function Ht(t){var e=0,n=0,r=t.allChords.reduce(function(t,r){var o;return e=H()(r.spacesWithin)?r.spacesWithin:Ft,n=H()(r.spacesAfter)?r.spacesAfter:Kt,t+=(o=r.symbol,Mt()({chordSymbol:o})+qt.repeat(e)+qt.repeat(n))},"");return It()({barContent:r})}var Vt=n("Ewt9"),Gt=n.n(Vt);var Jt=n("d6nv"),Ut=n.n(Jt);var Wt=n("9hQf"),Zt=n.n(Wt),Qt=new T.Chords,Xt=function(t){return Qt.print(t.symbol)};function Yt(t,e){var n=e.alignBars,r=void 0!==n&&n,o=e.transposeValue,a=void 0===o?0:o,i=e.accidentalsType,c=void 0===i?"auto":i,u=e.harmonizeAccidentals,l=void 0===u||u,s=t.allLines,f=function(t){var e=[];return t.filter(function(t){return"chord"===t.type}).forEach(function(t){t.model.allBars.forEach(function(t,n){if(!e[n]){e[n]={};for(var r=1;r<=t.timeSignature.beatCount;r++)e[n][r]=0}t.allChords.forEach(function(t){e[n][t.beat]=Math.max(e[n][t.beat],t.symbol.length)})})}),e}(s=ct(s=Pt(s,t.allChords,{transposeValue:a,accidentalsType:c,harmonizeAccidentals:l}),function(t){t.symbol=t.transposedModel?Xt(t.transposedModel):Xt(t.model)})),d=s.map(function(t){if("chord"===t.type){var e=r?function(t,e){var n,r=q()(t);return r.allBars.forEach(function(t,r){t.allChords.forEach(function(o){if(o.spacesWithin=e[r][o.beat]-o.symbol.length,o.spacesAfter=0,o.beat!==t.timeSignature.beatCount){o.spacesAfter=xt;for(var a=o.beat+1;a<o.beat+o.duration;a++)n=e[r][a],o.spacesAfter+=n||kt,a!==t.timeSignature.beatCount&&n&&(o.spacesAfter+=xt)}})}),r}(t.model,f):(o=t.model,a=q()(o),i=0,c="",u=[],a.allBars.forEach(function(t){i=0,c="",t.allChords.forEach(function(t){c+=t.duration.toString(),i+=t.duration}),u=Ot[i][c];for(var e=0;e<c.length;e++)t.allChords[e].spacesAfter=u[e]}),a);t.rendered=function(t){var e=t.allBars.map(function(t){return Ht(t)}),n=Gt()(),r=n+e.join(n)+n;return Lt()({chordLine:r})}(e)}else"text"===t.type&&(t.rendered=(n=t.string,Ut()({textLine:n})));var n,o,a,i,c,u;return t}).filter(function(t){return t.rendered}).map(function(t){return t.rendered}).join("\n");return Zt()({song:d})}n("GuN8");var $t=n("zrE4"),te=n.n($t),ee=y({render:function(){var t=this.getHost(),e=t.getAreaBroker().getContent(),n=a(te()());e.appendChild(n);var r={alignBars:!0,transposeValue:0},o=document.querySelector("#source"),i=document.querySelector("#preview"),c=St(o);function u(t){var e=a(Yt(lt(t),r));i.childNodes.length?i.replaceChild(e,i.firstChild):i.appendChild(e)}c.on("change",function(e){u(e),t.emit("editorchange",e)}),t.on("optionchange",function(t){v()(r,t),u(c.getContent())}),t.on("activatefile",function(t){return c.load(t.content)})}}),ne=(n("QWBl"),n("FZtP"),n("xweI")),re=n.n(ne),oe=n("gLAU"),ae=n.n(oe),ie=n("DzJC"),ce=n.n(ie),ue=n("4b23"),le=n.n(ue),se=(n("yXV3"),{create:function(t,e){if(localStorage.getItem(t))throw new Error("Already exists key: "+t);if(!t)throw new Error("Cannot create localstorage entry with empty key");localStorage.setItem(t,JSON.stringify(e))},getOneByKey:function(t){var e=localStorage.getItem(t);return e?JSON.parse(e):e},getAllByKeyPrefix:function(t){for(var e,n={},r=0;r<localStorage.length;r++)0===(e=localStorage.key(r)).indexOf(t)&&(n[e]=this.getOneByKey(e));return n},update:function(t,e){if(!localStorage.getItem(t))throw new Error("Cannot find and update key: "+t);localStorage.setItem(t,JSON.stringify(e))},delete:function(t){localStorage.removeItem(t)}}),fe="song:";function de(){return d({create:function(){var t={key:fe+le()(20),title:"untitled",content:""};return se.create(t.key,t),t},getAll:function(){return se.getAllByKeyPrefix(fe)},getOneByKey:function(t){return se.getOneByKey(t)},updateContent:function(t,e){var n=se.getOneByKey(t);n.content=e,se.update(t,n)},updateTitle:function(t,e){var n=se.getOneByKey(t);n.title=e,se.update(t,n)},deleteOne:function(t){se.delete(t)}})}var pe=n("5IaM"),he=n.n(pe),ve=n("a4Sj"),ye=n.n(ve),me=y({render:function(){var t,e=this,n=this.getHost(),r=n.getAreaBroker().getSideBar(),o=document.createDocumentFragment();o.appendChild(a(he()()));var i=o.querySelector('[data-action="new-file"]'),c=o.querySelector('[data-action="delete-file"]'),u=o.querySelector(".entry-list");function l(e){var n=a(ye()(e)),r=u.querySelector('[data-key="'.concat(t,'"'));return r&&r.nextSibling?u.insertBefore(n,r.nextSibling):u.appendChild(n),n}var s=function(r){t=r,u.querySelectorAll(".active").forEach(function(t){return t.classList.remove("active")});var o=u.querySelector('[data-key="'.concat(r,'"'));o&&o.classList.add("active");var a=e.fm.getOneByKey(t);n.emit("activatefile",a)},f=this.fm.getAll(),d=re()(f,function(t){return t.title});d.length&&(d.forEach(function(t){l(t)}),s(d[0].key));var p=function(t){var e=t.querySelector(".entry-title");e.contentEditable=!0,e.focus();var n=new Range;n.selectNodeContents(e);var r=window.getSelection();r.removeAllRanges(),r.addRange(n)};window.addEventListener("click",function(t){u.querySelectorAll('[contenteditable="true"]').forEach(function(e){e.isSameNode(t.target)||(e.contentEditable=!1)})}),i.addEventListener("click",function(){var t=e.fm.create(),n=l(t);s(t.key),ae()(function(){return p(n)})}),c.addEventListener("click",function(){e.fm.deleteOne(t);var n=u.querySelector('[data-key="'.concat(t,'"]'));if(n){var r=n.previousSibling?n.previousSibling:n.nextSibling;u.removeChild(n),r?s(r.dataset.key):t=null}}),u.addEventListener("keypress",function(t){13===t.which&&(t.preventDefault(),t.stopPropagation())}),u.addEventListener("keypress",function(t){13===t.which&&t.target.contentEditable&&(t.target.blur(),t.target.contentEditable=!1)}),u.addEventListener("input",ce()(function(t){var n=t.target.closest("[data-key]");e.fm.updateTitle(n.dataset.key,t.target.innerText)},1e3)),u.addEventListener("click",function(t){if(1===t.detail){var e=t.target.closest("[data-key]");s(e.dataset.key)}}),u.addEventListener("dblclick",function(t){return p(t.target.parentElement)}),n.on("editorchange",function(n){e.fm.updateContent(t,n)}),r.appendChild(o)},init:function(){this.fm=de()}}),ge=(n("qePV"),n("JevA"),n("sfn7")),be=n.n(ge),we=y({render:function(){var t=this.getHost(),e=t.getAreaBroker().getHeader(),n=document.createDocumentFragment();n.appendChild(a(be()())),n.querySelector('[data-option="align-bars"]').addEventListener("change",function(e){t.emit("optionchange",{alignBars:e.target.checked})});var r=n.querySelector('[data-option="transpose-down"]'),o=n.querySelector('[data-option="transpose-up"]'),i=n.querySelector('[data-option="transpose-value"]');function c(e){var n=Number.parseInt(i.innerText)+e;t.emit("optionchange",{transposeValue:n}),i.innerText=n>0?"+"+n:n}r.addEventListener("click",function(){return c(-1)}),o.addEventListener("click",function(){return c(1)});var u=n.querySelector('[data-option="harmonize-accidentals"]');u.addEventListener("change",function(){var e=u.querySelector('input[name="ha"]:checked');t.emit("optionchange",{harmonizeAccidentals:"true"===e.value})});var l=n.querySelector('[data-option="accidentals-type"]');l.addEventListener("change",function(){var e=l.querySelector('input[name="ht"]:checked');t.emit("optionchange",{accidentalsType:e.value})}),e.appendChild(n)}});var Ee=n("G5dE"),Ce=n.n(Ee);document.body.appendChild(a(Ce()()));var Se,Oe,xe,ke,Ae=function(t){var e=[];function n(t){return r.apply(this,arguments)}function r(){var t;return t=regeneratorRuntime.mark(function t(n){var r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o=0;case 1:if(!(o<e.length)){t.next=9;break}if(r=e[o],!l()(r[n])){t.next=6;break}return t.next=6,r[n]();case 6:o++,t.next=1;break;case 9:this.emit(n);case 10:case"end":return t.stop()}},t,this)}),(r=function(){var e=this,n=arguments;return new Promise(function(r,o){var a=t.apply(e,n);function i(t){p(a,r,o,i,c,"next",t)}function c(t){p(a,r,o,i,c,"throw",t)}i(void 0)})}).apply(this,arguments)}return d({getAreaBroker:function(){return t},registerPlugin:function(t){t.setHost(this),e.push(t)},init:function(){return n.call(this,"init")},render:function(){return n.call(this,"render")}})}((Se={header:'[data-area="app-header"]',footer:'[data-area="app-footer"]',sideBar:'[data-area="app-side-bar"]',content:'[data-area="app-content"]'},xe={},c()(Se,function(t,e){Oe="get"+e.charAt(0).toUpperCase()+e.slice(1),xe[Oe]=function(){var n=document.querySelectorAll(t);if(0===n.length)throw new Error("Cannot find area: "+e+" with selector: "+t);if(n.length>1)throw new Error("Multiple areas: "+e+" found with selector: "+t);return n.item(0)}}),xe));(ke=Ae).registerPlugin(b),ke.registerPlugin(C),ke.registerPlugin(ee),ke.registerPlugin(me),ke.registerPlugin(we);var Ne=Ae;Ne.init().then(function(){return Ne.render()})},a4Sj:function(t,e,n){var r=n("3O+N");t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var a,i=null!=e?e:t.nullContext||{},c=n.helperMissing,u=t.escapeExpression;return'<li class="entry" data-key="'+u("function"==typeof(a=null!=(a=n.key||(null!=e?e.key:e))?a:c)?a.call(i,{name:"key",hash:{},data:o}):a)+'">\n    <div class="entry-title">'+u("function"==typeof(a=null!=(a=n.title||(null!=e?e.title:e))?a:c)?a.call(i,{name:"title",hash:{},data:o}):a)+"</div>\n</li>"},useData:!0})},d6nv:function(t,e,n){var r=n("3O+N");t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var a;return'<p class="ucc-text-line">'+(null!=(a=t.lambda(null!=e?e.textLine:e,e))?a:"")+"</p>"},useData:!0})},lb95:function(t,e,n){var r=n("3O+N");t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){return'<span class="ucc-chord-symbol">'+t.escapeExpression(t.lambda(null!=e?e.chordSymbol:e,e))+"</span>"},useData:!0})},"niu/":function(t,e,n){var r=n("3O+N");t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){return'<div class="app-footer">\n    Universal Chord Charts: lib v0.1.0 - demo site v0.4.0\n</div>\n'},useData:!0})},sfn7:function(t,e,n){var r=n("3O+N");t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){return'<div class="rendering-options">\n    <div class="panel">\n        <input type="checkbox" id="align-bars" data-option="align-bars" checked><label for="align-bars">Align bars</label><br />\n    </div>\n    <div class="panel">\n        Transpose: <button data-option="transpose-down">-1</button> <span data-option="transpose-value">0</span> <button data-option="transpose-up">+1</button><br />\n        <div data-option="harmonize-accidentals">\n            Unify flats / sharps\n            <input type="radio" id="harmonize-accidentals-false" name="ha" value="false"><label for="harmonize-accidentals-false">No</label>\n            <input type="radio" id="harmonize-accidentals-true" name="ha" value="true" checked><label for="harmonize-accidentals-true">Yes</label><br/>\n        </div>\n        <div data-option="accidentals-type">\n            Accidentals\n            <input type="radio" id="accidentals-type-auto" name="ht" value="auto" checked><label for="accidentals-type-auto">Auto</label>\n            <input type="radio" id="accidentals-type-flat" name="ht" value="flat"><label for="accidentals-type-flat">Flat</label>\n            <input type="radio" id="accidentals-type-sharp" name="ht" value="sharp"><label for="accidentals-type-sharp">Sharp</label>\n        </div>\n    </div>\n</div>'},useData:!0})},tkZw:function(t,e,n){var r=n("3O+N");t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){return'<div class="app-header">\n    <div class="h2-like">Universal Chords Charts</div>\n    <div>Chords Charts on stero√Øds.</div>\n</div>\n'},useData:!0})},u0UJ:function(t,e,n){},uVib:function(t,e,n){var r=n("3O+N");t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var a;return'<p class="ucc-chord-line">'+(null!=(a=t.lambda(null!=e?e.chordLine:e,e))?a:"")+"</p>"},useData:!0})},zrE4:function(t,e,n){var r=n("3O+N");t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){return'<div class="editor-area">\n    <section class="left">\n        <div id="source"></div>\n    </section>\n\n    <section class="right">\n        <div id="preview"><div></div></div>\n    </section>\n</div>'},useData:!0})}});
//# sourceMappingURL=main.017ce2da97f14cc61616.js.map