{"version":3,"file":"main.js","mappings":"uBAAIA,E,+ECESC,G,UAAY,WACxB,IACC,IAAMC,EAAkBC,aAAaC,QAAQ,SAC7C,IAAKF,EACJ,OAED,OAAOG,KAAKC,MAAMJ,EACnB,CAAE,MAAOK,GACR,MACD,CACD,GAEaC,EAAY,SAACC,GACzB,IACC,IAAMP,EAAkBG,KAAKK,UAAUD,GACvCN,aAAaQ,QAAQ,QAAST,EAC/B,CAAE,MAAOK,GACR,CAEF,E,yLCrBe,SAASK,IACvB,OAAOC,KAAKC,KACb,CCFO,IAAMC,EAAkB,kBAClBC,EAAkB,kBAClBC,EAAkB,kBAClBC,EAAkB,kBCHlBC,EAA6B,4BCA7BC,EAAgC,8BAChCC,EAAgC,8BAChCC,EAAiC,+BCFjCC,EAAqB,SAACd,GAAK,OACvCA,EAAMe,GAAGC,OAAOC,IAAIH,kBAAkB,EAE1BI,EAAsB,SAAClB,GAAK,OACxCA,EAAMe,GAAGC,OAAOC,IAAIC,mBAAmB,EAE3BC,EAAgB,SAACnB,GAAK,OAAKA,EAAMe,GAAGC,OAAOC,IAAIG,UAAU,ECNzDC,EAAgB,SAACrB,GAAK,OAAKA,EAAMsB,YAAYC,QAAQ,EAErDC,EAAe,SAACxB,GAAK,OAAKA,EAAMsB,YAAYG,OAAO,EAEnDC,EAAkB,SAAC1B,GAAK,OAAKA,EAAMsB,YAAYK,YAAY,E,s2CCIxE,IAGaC,GAHmBC,EAAAA,EAAAA,IAAsBC,EAAAA,GAAgBC,IAG1CC,EAC3B,SAAChC,GAAK,OACLiC,IAAKjC,EAAMkC,GAAGC,MAAMC,UAAU,SAAAC,GAAY,MAAQ,CAAEC,MAAdD,EAALC,MAA0BC,GAAjBF,EAAFE,GAAuB,GAAE,IAClE,SAACH,GAAQ,OAAKI,IAAQJ,GAAU,SAACK,GAAC,OAAKA,EAAEH,MAAMI,aAAa,GAAC,IAGjDC,EAAS,SAAC3C,EAAOuC,GAC7B,OAAOvC,EAAMkC,GAAGC,MAAMC,SAASG,EAChC,EAEaK,EAAqB,SAAC5C,EAAOuC,EAAIM,GAC7C,IAAMC,EAAO9C,EAAMkC,GAAGC,MAAMC,SAASG,GAErC,GAAKO,IAEAA,EAAKC,SAAW,CAAC,GAAGF,GAAW,CAGnC,GAAmD,IAA/CG,OAAOC,KAAKH,EAAKC,QAAQF,IAAWK,OAAc,OAEtD,OAAOC,IAAWL,EAAKC,QAAQF,GAChC,CACD,EAEaO,EAAuB,SAACpD,EAAOuC,GAC3C,IAAMO,EAAO9C,EAAMkC,GAAGC,MAAMC,SAASG,GAErC,GAAKO,EAAL,CAEA,IAAMO,EAAcP,EAAKC,SAAW,CAAC,EAE/BO,EAAoB,GAM1B,GALID,EAAYE,MAAMD,EAAkBE,KAAIC,EAAC,CAAC,EAAIJ,EAAYE,OAC1DF,EAAYK,MAAMJ,EAAkBE,KAAIC,EAAC,CAAC,EAAIJ,EAAYK,OAC1DL,EAAYM,OAAOL,EAAkBE,KAAIC,EAAC,CAAC,EAAIJ,EAAYM,QAC3DN,EAAYO,QAAQN,EAAkBE,KAAIC,EAAC,CAAC,EAAIJ,EAAYO,SAE3DN,EAAkBJ,OAIvB,OAFAI,EAAkBO,MAAK,SAACC,EAAGC,GAAC,OAAKD,EAAEE,UAAYD,EAAEC,SAAS,IAEnDV,EAAkBW,QACxB,SAACC,EAAKC,GAAW,OAAKnB,OAAOoB,OAAOF,EAAKC,EAAY,GACrD,CAAC,EAhBe,CAkBlB,ECLA,QAnD0B,CACzBZ,KAAM,CAAC,QAAS,iBAAkB,uBAAwB,cAC1DG,KAAM,CACL,QAEA,iBACA,uBACA,aAEA,YACA,wBACA,YACA,mBACA,oBAEA,eAEA,YAEDC,MAAO,CACN,iBACA,uBACA,aAEA,YACA,wBACA,YACA,mBACA,oBAEA,eACA,uBACA,kBAEA,YAEDC,OAAQ,CACP,cAEA,iBACA,uBACA,aAEA,YACA,wBACA,YACA,mBACA,sB,ouCCnCF,IAAMS,EAAe,CACpBjC,SAAU,CAAC,GA+DZ,SAASkC,EAAiBtE,EAAOuE,EAAQC,GACxC,IAAAC,EAAgCF,EAAOG,QAA/BC,EAAOF,EAAPE,QAASC,EAAGH,EAAHG,IAAKC,EAAKJ,EAALI,MAChBtC,EAAKlB,EAAcmD,GACnBpC,EAAQqB,EAAA,GAAQzD,EAAMoC,UAE5B,GACC,CAAC,iBAAkB,mBAAmB0C,SAASH,IAC/CvC,EAASG,GACR,CACD,IAAMnB,EAAaD,EAAcqD,GAC3BO,EACO,oBAAZJ,EAAgC,cAAgBvD,EAGjD,OADAgB,EAASG,GASX,SAAmByC,EAAWnC,EAAU+B,EAAKC,GAC5C,OAAApB,EAAAA,EAAA,GACIuB,GAAS,IACZjC,QAAOU,EAAAA,EAAA,GACHuB,EAAUjC,SAAO,GAAAkC,EAAA,GACnBpC,EAAQY,EAAAA,EAAA,IACJuB,EAAUjC,SAAW,CAAC,GAAGF,IAAS,GAAAoC,EAAA,CACtCjB,UAAW7D,KACVyE,EAAMC,OAIX,CArBiBK,CAAU9C,EAASG,GAAKwC,EAAgBH,EAAKC,GAC5DpB,EAAAA,EAAA,GACIzD,GAAK,IACRoC,SAAAA,GAEF,CACA,OAAOpC,CACR,CChGO,IAAMmF,EAA2B,qBAC3BC,GAA6B,2BCC7BC,GAAiB,SAACrF,EAAO2E,EAASC,GAC9C,GACE5E,EAAMkC,GAAGa,QAAQ4B,IACjB3E,EAAMkC,GAAGa,QAAQ4B,GAASW,aACsB,IAA1CtF,EAAMkC,GAAGa,QAAQ4B,GAASW,OAAOV,GAIzC,OAAO5E,EAAMkC,GAAGa,QAAQ4B,GAASW,OAAOV,EACzC,EASaW,GAAqB,SAACvF,EAAO2E,GACzC,GAAK3E,EAAMkC,GAAGa,QAAQ4B,IAAa3E,EAAMkC,GAAGa,QAAQ4B,GAASa,SAG7D,OAAOrC,IAAWnD,EAAMkC,GAAGa,QAAQ4B,GAASa,SAC7C,E,gvCCbA,IAAMnB,GAAe,CAAC,EA4CtB,SAASoB,GAAejB,EAAWkB,EAAQC,GAC1C,IAAMC,EAAiBL,GAAmBf,EAAW,kBACjDqB,EAAoBjD,EAAmB4B,EAAWkB,EAAQC,GAU9D,OARKE,IACJA,EAAoBzC,EAAqBoB,EAAWkB,IAAW,CAAC,UAE1DG,EAAkB7B,UAGzB6B,EAAoBC,IAAMD,EAAmBE,EAAqBJ,IAE3D3C,OAAOoB,OAAOwB,EAAgBC,EACtC,CAiCA,MClGA,IAAeG,EAAAA,EAAAA,GAAuB,CACrC7D,MJoJD,WAAsE,IAAtDnC,EAAKiG,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAG5B,EAAcE,EAAM0B,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EAAGzB,EAASyB,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EAC/D,OAAQ1B,EAAO4B,MACd,KAAKC,EACL,KAAKA,EACJ,OA7IH,SAAoBpG,EAAOuE,GAC1B,IAAA8B,EAA+B9B,EAAOG,QAA9BnC,EAAE8D,EAAF9D,GAAID,EAAK+D,EAAL/D,MAAOgE,EAAOD,EAAPC,QAEblE,EAAQqB,EAAA,GAAQzD,EAAMoC,UAO5B,OANAA,EAASG,GAAM,CACdA,GAAAA,EACAD,MAAAA,EACAgE,QAAAA,GAGD7C,EAAAA,EAAA,GACIzD,GAAK,IACRoC,SAAAA,GAEF,CA+HUmE,CAAWvG,EAAOuE,GAC1B,KAAK6B,EACJ,OA/HH,SAAoBpG,EAAOuE,GAC1B,IAAAiC,EAA+BjC,EAAOG,QAA9BnC,EAAEiE,EAAFjE,GAAID,EAAKkE,EAALlE,MAAOgE,EAAOE,EAAPF,QAEnB,IAAMhE,QAA4B,IAAZgE,IAA6BtG,EAAMoC,SAASG,GACjE,OAAOvC,EAGR,IAAMoC,EAAQqB,EAAA,GAAQzD,EAAMoC,UAU5B,OARAA,EAASG,GAAGkB,EAAA,GAAQrB,EAASG,IAEzBD,IACHF,EAASG,GAAID,MAAQA,QAEC,IAAZgE,IACVlE,EAASG,GAAI+D,QAAUA,GAExB7C,EAAAA,EAAA,GACIzD,GAAK,IACRoC,SAAAA,GAEF,CA0GUqE,CAAWzG,EAAOuE,GAC1B,KAAK6B,EACJ,OA1GH,SAAoBpG,EAAOuE,GAC1B,IAAQhC,EAAOgC,EAAOG,QAAdnC,GAER,IAAKA,IAAOvC,EAAMoC,SAASG,GAC1B,OAAOvC,EAGR,IAAMoC,EAAQqB,EAAA,GAAQzD,EAAMoC,UAG5B,cAFOA,EAASG,GAEhBkB,EAAAA,EAAA,GACIzD,GAAK,IACRoC,SAAAA,GAEF,CA4FUsE,CAAW1G,EAAOuE,GAC1B,KAAK7D,EACJ,OAAO4D,EAAiBtE,EAAOuE,EAAQC,GACxC,KAAK7D,EACJ,OAjDH,SAAuBX,EAAOuE,EAAQC,GACrC,IAAMkB,EAASrE,EAAcmD,GACvBmC,EAAWpC,EAAOG,QAAQiB,KAQhC,IANgC/C,EAC/B4B,EACAkB,EACAiB,GAG2B,CAC3B,IAAMC,EAAsBd,IAC3B1C,EAAqBoB,EAAWkB,IAAW,CAAC,EAC5CG,EAAkBc,IAGnB,GAAI3D,OAAOC,KAAK2D,GAAqB1D,OAAQ,CAC5C0D,EAAoB5C,UAAY7D,IAChC,IAAMiC,EAAQqB,EAAA,GAAQzD,EAAMoC,UAU5B,OARAA,EAASsD,GAAOjC,EAAAA,EAAA,GACZrB,EAASsD,IAAO,IACnB3C,QAAOU,EAAAA,EAAA,GACHrB,EAASsD,GAAQ3C,SAAO,GAAAkC,EAAA,GAC1B0B,EAAWC,MAIdnD,EAAAA,EAAA,GACIzD,GAAK,IACRoC,SAAAA,GAEF,CACD,CACA,OAAOpC,CACR,CAcU6G,CAAc7G,EAAOuE,EAAQC,GAEtC,OAAOxE,CACP,EIlKA+C,QDgGD,WAAsE,IAAtD/C,EAAKiG,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAG5B,GAAcE,EAAM0B,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EAAGzB,EAASyB,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EAC/D,OAAQ1B,EAAO4B,MACd,KAAKC,EACJ,OA3FH,SAAwBpG,EAAOuE,GAC9B,IAAA8B,EAAgC9B,EAAOG,QAA/BC,EAAO0B,EAAP1B,QAASC,EAAGyB,EAAHzB,IAAKC,EAAKwB,EAALxB,MAEtB,IACE7E,EAAM2E,KACN3E,EAAM2E,GAASW,aACsB,IAA/BtF,EAAM2E,GAASW,OAAOV,GAE7B,OAAO5E,EAGR,IAAM8G,EAAQrD,GAAAA,GAAA,GACVzD,GAAK,GAAAiF,GAAA,GACPN,EAAOlB,GAAAA,GAAA,GACJzD,EAAM2E,IAAQ,IACjBW,OAAM7B,GAAA,GAAOzD,EAAM2E,GAASW,YAK9B,OAFAwB,EAASnC,GAASW,OAAOV,GAAOC,EAEzBiC,CACR,CAsEUC,CAAe/G,EAAOuE,GAE9B,KAAK5D,EACJ,OAvEH,SAAuBX,EAAOuE,EAAQC,GACrC,IAGMwC,EAAavB,GAAejB,EAHnBnD,EAAcmD,GACZD,EAAOG,QAAQiB,MAIhC,OAAAlC,GAAAA,GAAA,GACIzD,GAAK,IACRiH,eAAcxD,GAAAA,GAAA,GACVzD,EAAMiH,gBAAc,IACvB3B,OAAM7B,GAAA,GACFuD,MAIP,CAwDUH,CAAc7G,EAAOuE,EAAQC,GAErC,KAAKW,EACJ,OAxCH,SAAoBnF,EAAOuE,EAAQC,GAClC,IAAQjC,EAAOgC,EAAOG,QAAdnC,GAGFyE,EAAavB,GAAejB,EAAWjC,EAF1BpB,EAAcqD,IAI3B0C,EACLtE,EAAmB4B,EAAWjC,EAAI,gBAAkB,CAAC,SAC/C2E,EAAgBlD,UAEvB,IAAMmD,EAAqB5B,GAAmBf,EAAW,mBAEnD4C,EAAiBpE,OAAOoB,OAAO+C,EAAoBD,GAEzD,OAAAzD,GAAAA,GAAA,GACIzD,GAAK,IACRkH,gBAAezD,GAAAA,GAAA,GACXzD,EAAMkH,iBAAe,IACxB5B,OAAM7B,GAAA,GACF2D,KAGLH,eAAcxD,GAAAA,GAAA,GACVzD,EAAMiH,gBAAc,IACvB3B,OAAM7B,GAAA,GACFuD,MAIP,CAWUK,CAAWrH,EAAOuE,EAAQC,GAGnC,OAAOxE,CACP,I,gvCEvGD,IAAMqE,GAAe,CACpB9C,SAAU,GACVE,QAAS,GACTE,aAAc,cCfR,IAAM2F,GAA8B,6BAC9BC,GAA6B,4BAC7BC,GAA4B,0BAC5BC,GAAiC,8B,wBCD/B,SAASC,GAAUC,GACjC,OAAOC,KAAAA,SAAmBD,EAAM,CAC/BE,aAAc,CAAC,SACfC,cAAc,GAEhB,C,gvCCFA,IAAMzD,GAAe,CACpBiC,QAAS,GACTyB,WAAW,EACXC,aAAa,EACbC,YAAa,OACb3F,MAAO,I,gvCCER,IAAM+B,GAAe,CACpBvD,oBAAoB,EACpBI,qBAAqB,EACrBE,WAAY,OACZ8G,YAAa,QCbd,UAAelC,EAAAA,EAAAA,GAAuB,CACrC/E,IDec,WAAqD,IAAnCjB,EAAKiG,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAG5B,GAAcE,EAAM0B,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EAChE,OAAQ1B,EAAO4B,MACd,KAAKvF,EACJ,OAAA6C,GAAAA,GAAA,GACIzD,GAAK,IACRc,oBAAqBd,EAAMc,qBAG7B,KAAKD,EACJ,OAAA4C,GAAAA,GAAA,GACIzD,GAAK,IACRkB,qBAAsBlB,EAAMkB,sBAG9B,KAAKP,EACJ,IAAQgF,EAASpB,EAAOG,QAAhBiB,KACR,OAAAlC,GAAAA,GAAA,GACIzD,GAAK,IACRoB,WAAYuE,IAGd,KAAKpF,EACL,KAAKD,EACL,KAAKE,EACJ,OAAAiD,GAAAA,GAAA,GACIzD,GAAK,IACRoB,WAAY,SAIf,OAAOpB,CACR,IE/CA,IAAegG,EAAAA,EAAAA,GAAuB,CACrChF,OAAAA,KCGD,IAAegF,EAAAA,EAAAA,GAAuB,CACrC9D,GAAAA,GACAZ,YPSc,WAAqD,IAAnCtB,EAAKiG,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAG5B,GAAcE,EAAM0B,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EAChE,OAAQ1B,EAAO4B,MACd,KAAK7F,EACJ,IAAQiC,EAAOgC,EAAOG,QAAdnC,GACR,OAAAkB,GAAAA,GAAA,GACIzD,GAAK,IACRuB,SAAUgB,EACVd,QAASc,IAIX,KAAK/B,EACJ,IAAQ+B,EAAOgC,EAAOG,QAAdnC,GACR,OAAAkB,GAAAA,GAAA,GACIzD,GAAK,IACRuB,SAAUgB,EACVd,QAAS,KAIX,KAAKhB,EACJ,OAAAgD,GAAAA,GAAA,GACIzD,GAAK,IACRyB,QAAS,KAIX,KAAKlB,EACJ,OAAAkD,GAAAA,GAAA,GACIzD,GAAK,IACRuB,SAAU,GACVE,QAAS,KAIX,KAAK0D,EACJ,IAAQ5C,EAAOgC,EAAOG,QAAdnC,GACR,OAAAkB,GAAAA,GAAA,GACIzD,GAAK,IACRuB,SAAUgB,EACVd,QAASc,IAAOvC,EAAMyB,QAAUc,EAAK,KAIvC,KAAK6C,GACJ,IAAQ7C,EAAOgC,EAAOG,QAAdnC,GACR,OAAAkB,GAAAA,GAAA,GACIzD,GAAK,IACRyB,QAASc,IAIZ,OAAOvC,CACR,EO7DCmI,aJGc,WAAqD,IAAnCnI,EAAKiG,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAG5B,GAAcE,EAAM0B,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EAChE,OAAQ1B,EAAO4B,MACd,KAAKiC,GACJ,IAAA/B,EAAgC9B,EAAOG,QAA/B4B,EAAOD,EAAPC,QAAO+B,EAAAhC,EAAE/D,MAAAA,OAAK,IAAA+F,EAAG,GAAEA,EAC3B,OAAA5E,GAAAA,GAAA,GACIzD,GAAK,IACRsG,QAASoB,GAAUpB,GACnBhE,MAAOA,EAAQoF,GAAUpF,GAAStC,EAAMsC,QAI1C,KAAK8F,GACJ,IAAQH,EAAgB1D,EAAOG,QAAvBuD,YAER,OAAAxE,GAAAA,GAAA,GACIzD,GAAK,IACRiI,YAAAA,IAIF,KAAKzH,EACL,KAAK4H,GACJ,OAAA3E,GAAAA,GAAA,GACIzD,GAAK,IACRsG,QAAS,GACThE,MAAO,GACP0F,aAAa,IAIf,KAAKI,GACJ,IAAA5B,EAAmDjC,EAAOG,QAAlD4B,EAAOE,EAAPF,QAAS2B,EAAWzB,EAAXyB,YAAa3F,EAAKkE,EAALlE,MAAOyF,EAASvB,EAATuB,UAErC,OAAAtE,GAAAA,GAAA,GACIzD,GAAK,IACRgI,aAAa,EACb1B,QAASA,EAAUoB,GAAUpB,GAAW,GACxChE,MAAOA,EAAQoF,GAAUpF,GAAS,GAClC2F,YAAaA,GAAejI,EAAMiI,YAClCF,UAAAA,IAIH,OAAO/H,CACR,EI9CCe,GAAAA,KCTD,IACCmB,GCDD,CACCa,QCHD,CAECuF,kBAAmB,CAClBhD,OAAQ,CACPiD,MAAO,QACPC,YAAa,aAEdhD,SAAU,CACT+C,MAAO,QACPC,YAAa,cAMftB,gBAAiB,CAChB5B,OAAQ,CACPmD,eAAgB,EAChBC,qBAAsB,OACtBC,WAAY,SAEbnD,SAAU,CACTiD,eAAgB,EAChBC,qBAAsB,OACtBC,WAAY,UAMd1B,eAAgB,CACf3B,OAAQ,CACPsD,UAAW,MACXC,uBAAuB,EACvBC,WAAW,EACXC,kBAAkB,EAClBC,mBAAmB,EAEnBC,SAAU,EACVC,aAAc,EACdC,sBAAsB,EACtBC,gBAAiB,GAElB5D,SAAU,CACToD,UAAW,MACXC,uBAAuB,EACvBC,WAAW,EACXC,kBAAkB,EAClBC,mBAAmB,EAEnBC,SAAU,EACVC,aAAc,EACdC,sBAAsB,EACtBC,gBAAiB,OC3CpB,IAAIC,GAkCG,SAASC,KACf,OAAOD,EACR,CC9Ce,SAASE,GAAapD,EAAMzB,GAC1C,IAAKyB,EACJ,MAAM,IAAIqD,UAAU,kDAErB,MAAO,CACNrD,KAAAA,EACAzB,QAAAA,EAEF,CCJO,ICSD+E,GAAuB,CAK5B,kBAAmB,SAACC,GACnB,IAAML,EAAQC,KAERhH,EAAQqH,GAAWD,EAAQpH,MAAOoH,EAAQE,QAChDP,EAAMQ,SDP0B,SAAC5B,EAAa3B,EAAShE,GAAK,OAC7DiH,GAAaO,GAAyC,CACrDxD,QAAAA,EACA2B,YAAAA,EACA3F,MAAAA,EACAyF,WAAW,GACV,CCEAgC,CAAmBL,EAAQzB,YAAayB,EAAQM,WAAY1H,GAE9D,GAGKqH,GAAa,SAACM,EAAWL,GAC9B,MAAO,KAAOA,EAASA,EAAS,MAAQ,IAAMK,CAC/C,E,24BCvBO,IAAMC,GAAiB,SAACC,GAC9B,IAAMC,E,kWAAW3G,CAAA,GDyBVgG,ICrBP,GAAIU,EAAEE,SAAWC,QAAUH,EAAEI,SAAWD,OAAOE,SAASD,OACvD,OAAO,EAER,IAAMb,EAAUS,EAAEM,KAKlB,MAHyC,mBAA9BL,EAAYV,EAAQvD,OAC9BiE,EAAYV,EAAQvD,MAAMuD,EAAQhF,UAE5B,CACR,E,myDChBA,IACMgG,GAAa,SAAAC,I,sRAAAC,CAAAF,EAAAC,GAAA,I,MAAAE,EAAAC,GAAAJ,GAClB,SAAAA,EAAYK,GAAO,IAAAC,EAE4B,O,4FAF5BC,CAAA,KAAAP,IAClBM,EAAAH,EAAAK,KAAA,KAAMH,IACD/K,MAAQ,CAAEmL,MAAO,KAAMC,UAAW,MAAOJ,CAC/C,CAuBC,O,EAvBAN,G,EAAA,EAAA9F,IAAA,oBAAAC,MAED,SAAkBsG,EAAOC,GACxBC,KAAKC,SAAS,CACbH,MAAOA,EACPC,UAAWA,GAEb,GAAC,CAAAxG,IAAA,SAAAC,MAED,WACC,OAAIwG,KAAKrL,MAAMoL,UAEbG,GAAAA,cAAA,OAAKC,UAAW,iBACfD,GAAAA,cAAA,UAAI,wBACJA,GAAAA,cAAA,WAASE,MAAO,CAAEC,WAAY,YAAcC,MAAM,GAChDN,KAAKrL,MAAMmL,OAASE,KAAKrL,MAAMmL,MAAMS,WACtCL,GAAAA,cAAA,WACCF,KAAKrL,MAAMoL,UAAUS,iBAKnBR,KAAKN,MAAMe,QACnB,M,gFAACpB,CAAA,CA3BiB,CAASa,GAAAA,WA8B5Bb,GAAcqB,UAAY,CACzBD,SAAUE,KAAAA,KAGX,YChCO,IAAMnF,GAAgB,SAAClB,GAAI,OACjC4D,GAAa5I,EAA+B,CAAEgF,KAAAA,GAAO,E,kDCHtD,SAASsG,KACR,OACCV,GAAAA,cAAA,OAAKC,UAAW,QACfD,GAAAA,cAAA,OAAKC,UAAW,mBACfD,GAAAA,cAAA,OAAKC,UAAW,YACfD,GAAAA,cAAA,OAAKC,UAAU,WACdD,GAAAA,cAAA,aAAO,sBACPA,GAAAA,cAAA,OAAKW,KAAMC,GAAU,gBAM3B,CAEA,SAAeZ,GAAAA,KAAWU,I,UChB1B,SAASG,GAAKrB,GACb,IAAQsB,EAAatB,EAAbsB,SAIR,OAAOd,GAAAA,cAAA,KAAGC,UAFQ,CAAC,OAAQ,kBAEIc,KAAK,MAAOD,EAC5C,CAEAD,GAAKL,UAAY,CAChBM,SAAUL,KAAAA,OAAiBO,YAG5B,SAAehB,GAAAA,KAAWa,ICZ1B,SAASI,GAASzB,GACjB,IAAQ0B,EACP1B,EADO0B,MAAOC,EACd3B,EADc2B,KAAMtL,EACpB2J,EADoB3J,WAAYyF,EAChCkE,EADgClE,cAAe8F,EAC/C5B,EAD+C4B,SAAUC,EACzD7B,EADyD6B,WAGpDC,EAAa,CAAC,gBAapB,OAXIF,GACHE,EAAWrJ,KAAK,yBAEboJ,GACHC,EAAWrJ,KAAK,2BAQhB+H,GAAAA,cAAA,MAAIC,UAAWqB,EAAWP,KAAK,KAAMQ,QALtC,WACMF,GAAY/F,EAAczF,EAChC,GAIEmK,GAAAA,cAAA,QAAMC,UAAW,qBAChBD,GAAAA,cAACa,GAAI,CAACC,SAAUK,KAEhBD,EAGJ,CAEAD,GAAST,UAAY,CACpBU,MAAOT,KAAAA,OAAiBO,WACxBG,KAAMV,KAAAA,OAAiBO,WACvBnL,WAAY4K,KAAAA,OAAiBO,WAC7B1F,cAAemF,KAAAA,KAAeO,WAC9BI,SAAUX,KAAAA,KAAeO,WACzBK,WAAYZ,KAAAA,KAAeO,YAG5B,SAAehB,GAAAA,KAAWiB,I,uOClC1B,SAASO,GAAIhC,GACZ,IAAQiC,EAAuDjC,EAAvDiC,YAAaC,EAA0ClC,EAA1CkC,WAAYpG,EAA8BkE,EAA9BlE,cAAeqG,EAAenC,EAAfmC,WAEhD,OACC3B,GAAAA,cAAA,OAAKC,UAAW,WACfD,GAAAA,cAAA,MAAIC,UAAW,mBACbyB,EAAWE,KAAI,SAACC,EAAOxI,GAAG,OAC1B2G,GAAAA,cAACiB,GAAQa,GAAA,CACRzI,IAAKA,EACL+H,WACGO,GAAcE,EAAMhM,aAAe4L,EAEtCJ,YAAaM,EACbrG,cAAeA,GACXuG,GACH,KAKP,CAEAL,GAAIhB,UAAY,CACfiB,YAAahB,KAAAA,OAAiBO,WAC9B1F,cAAemF,KAAAA,KAAeO,WAC9BW,WAAYlB,KAAAA,OACZiB,WAAYjB,KAAAA,QACXA,KAAAA,MAAgB,CACfzJ,GAAIyJ,KAAAA,OAAiBO,WACrBE,MAAOT,KAAAA,OAAiBO,WACxBG,KAAMV,KAAAA,OAAiBO,WACvBnL,WAAY4K,KAAAA,OAAiBO,eAKhC,SAAehB,GAAAA,KAAWwB,ICtC1B,IAAMO,GAAS,SAAHjL,GAA4D,IAAtDyJ,EAAQzJ,EAARyJ,SAAUc,EAAUvK,EAAVuK,WAAYW,EAAUlL,EAAVkL,WAAYT,EAAOzK,EAAPyK,QAAS3G,EAAI9D,EAAJ8D,KACtDqH,EAAgB,CAAC,UAMvB,MAJa,YAATrH,GAAoBqH,EAAchK,KAAK,kBAC9B,cAAT2C,GAAsBqH,EAAchK,KAAK,oBACzCoJ,GAAYY,EAAchK,KAAK,qBAGlC+H,GAAAA,cAAA,UACCC,UAAWgC,EAAclB,KAAK,KAC9BmB,SAAUb,EACVzG,KAAM,SACNuH,KAAMH,EACNT,QAASA,GAERhB,EAGJ,EAEAwB,GAAOvB,UAAY,CAClBD,SAAUE,KAAAA,OAAiBO,WAC3BK,WAAYZ,KAAAA,KACZuB,WAAYvB,KAAAA,OAAiBO,WAC7BpG,KAAM6F,KAAAA,OAAiBO,WACvBO,QAASd,KAAAA,KAAeO,YAGzBe,GAAOK,aAAe,CACrBf,YAAY,GAGb,YC9BA,IAEMgB,GAAY,WAKjB,OACCrC,GAAAA,cAAA,OAAKC,UAAW,aACfD,GAAAA,cAAA,OAAKC,UAAW,yBACfD,GAAAA,cAACa,GAAI,CAACC,SAAU,kBAGjBd,GAAAA,cAAA,OAAKC,UAAW,wBACfD,GAAAA,cAAC+B,GAAM,CACNC,WAAY,YACZpH,KAAM,UACN2G,QAdkB,WACrBxC,OAAOqB,KAJY,yCAIO,UAAUkC,OACrC,GAaI,eAML,EAEAD,GAAU7B,UAAY,CAAC,EAEvB6B,GAAUD,aAAe,CAAC,EAE1B,SAAepC,GAAAA,KAAWqC,IChC1B,SAASE,KACR,IAAMC,ECNe,CACrB,qBAAsB,UACtB,eAAgB,SAChB,aAAc,WDId,OACCxC,GAAAA,cAAA,OAAKC,UAAW,YACfD,GAAAA,cAAA,OAAKC,UAAW,uBAAuB,sBAClBuC,EAAS,sBAC7BxC,GAAAA,cAAA,WAAM,aACKwC,EAAS,cAAc,IAACxC,GAAAA,cAAA,WAAM,eAC5BwC,EAAS,gBAAgB,IAACxC,GAAAA,cAAA,WAAM,UACrC,IACRA,GAAAA,cAAA,KACCW,KAAM,sCACN8B,OAAQ,SACRC,IAAK,cACL,iBAML,CAEA,SAAe1C,GAAAA,KAAWuC,I,iBEVbI,GAAa,SAAC5L,GAAwB,IAAjBgE,EAAOL,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAC3C,IAAK3D,EACJ,MAAM,IAAIkH,UAAU,sCAErB,IAAM9E,EAAU,CACfnC,IAAI4L,EAAAA,GAAAA,KACJ7L,MAAAA,EACAgE,QAAAA,GAED,OAAOiD,GAAanD,EAA6B1B,EAClD,EAEa+B,GAAa,SAAClE,GAAgC,IAAAF,EAAA4D,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAP,CAAC,EAApB3D,EAAKD,EAALC,MAAOgE,EAAOjE,EAAPiE,QACvC,IAAK/D,EACJ,MAAM,IAAIiH,UAAU,sCAOrB,OAAOD,GAAanD,EALJ,CACf7D,GAAAA,EACAD,MAAAA,EACAgE,QAAAA,GAGF,ECvCa8H,GAAa,SAACpO,GAAK,OAAKA,EAAMmI,aAAa7B,OAAO,EAElD+H,GAAiB,SAACrO,GAAK,OAAKA,EAAMmI,aAAaF,WAAW,EAE1DqG,GAAW,SAACtO,GAAK,OAAKA,EAAMmI,aAAa7F,KAAK,EAE9C0F,GAAc,SAAChI,GAAK,OAAKA,EAAMmI,aAAaH,WAAW,EAEvDD,GAAY,SAAC/H,GAAK,OAAKA,EAAMmI,aAAaJ,SAAS,E,aCHhE,SAASwG,GAAMxD,GACd,IAAQe,EAAyBf,EAAzBe,SAAU0C,EAAezD,EAAfyD,WAelB,OAbAC,EAAAA,GAAAA,YAAU,WACT,IAAMC,EAAiB,SAACvE,GACT,WAAVA,EAAEvF,KACL4J,GAEF,EAGA,OAFAlE,OAAOqE,iBAAiB,QAASD,GAE1B,WACNpE,OAAOsE,oBAAoB,QAASF,EACrC,CACD,IAGCnD,GAAAA,cAAA,WAASC,UAAW,sBACnBD,GAAAA,cAAA,OACCC,UAAW,cACXsB,QAAS0B,EACT,cAAa,kBAEdjD,GAAAA,cAAA,OAAKC,UAAW,wBAAyBM,GAG5C,CAEAyC,GAAMxC,UAAY,CACjBD,SAAUE,KAAAA,QAAkBO,WAC5BiC,WAAYxC,KAAAA,KAAeO,YAG5B,YClCA,IAAMsC,GAAS,SAAHxM,GAON,IANLyM,EAAYzM,EAAZyM,aACAC,EAAgB1M,EAAhB0M,iBACAb,EAAU7L,EAAV6L,WACA5L,EAAKD,EAALC,MACAgE,EAAOjE,EAAPiE,QACA6E,EAAK9I,EAAL8I,MAEM6D,EAAc1M,EAAQ,WAAaA,EAAQ,IAAM,cAMvD,OACCiJ,GAAAA,cAAA,OAAKC,UAAW,wBACfD,GAAAA,cAAA,OAAKC,UAAW,oBAAqBwD,GACrCzD,GAAAA,cAAA,OAAKC,UAAW,sBACfD,GAAAA,cAAC+B,GAAM,CACNR,QAASgC,EACTvB,WAAY,SACZpH,KAAM,aACN,UAGDoF,GAAAA,cAAC+B,GAAM,CACNR,QAhBa,WAChBoB,EAAW5L,GAAS,aAAcyM,EACnC,EAeIxB,WAAY,SACZpH,KAAM,UACNyG,WAAwB,KAAZtG,GAA4B,KAAV6E,GAC9B,WAML,EAEA0D,GAAO9C,UAAY,CAClB+C,aAAc9C,KAAAA,KAAeO,WAC7BwC,iBAAkB/C,KAAAA,OAClB1F,QAAS0F,KAAAA,OACTb,MAAOa,KAAAA,OACPkC,WAAYlC,KAAAA,KAAeO,WAC3BjK,MAAO0J,KAAAA,QAGR,Y,qCCpBMiD,GAAe,SAACnM,GAAI,OAAKA,EAAK4K,KAAKwB,OAAO,EAAGpM,EAAK4K,KAAKyB,YAAY,KAAK,EAExEC,GAAc,SAACtM,GAAI,OAAKA,EAAKuM,KA/BV,KA+BiC,EAIpDC,GAAa,SAACxM,GAAI,OACO,IAA9BA,EAAKqD,KAAKoJ,QAAQ,SAAsC,IAArBzM,EAAKqD,KAAKjD,MAAY,EAEpDsM,GAAmB,SAACC,GAAU,MACnC,kCACAC,EAAAA,GAAAA,GAASD,EAAY,CAAEE,MAAO,IAC9B,mCACAD,EAAAA,GAAAA,GA1CwB,MA0CG,CAAEC,MAAO,IACpC,IAAI,EAECC,GAAsB,SAAC9M,GAAI,MAChC,8BAAgCA,EAAKqD,KAAO,GAAG,EAE1C0J,GAAuB,WAAH,MAAS,mBAAmB,EAEtD,SAhDwB,SAACC,GACxB,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC5B,GAAIH,EAAS5M,OAAQ,CACpB,IAAMJ,EAAOgN,EAAS,GAElBV,GAAYtM,GACfmN,EAAOT,GAAiB1M,EAAKuM,OAClBC,GAAWxM,GAGtBA,EAAKoN,OACHC,MAAK,SAACC,GACNJ,EAAQ,CACP1J,QAAS8J,EACT9N,MAAO2M,GAAanM,IAEtB,IACCuN,OAAM,SAAClG,GACP8F,EAAO9F,EACR,IAXD8F,EAAOL,GAAoB9M,GAa7B,MACCmN,EAAOJ,KAET,GACD,ECzBA,IAEMS,GAAa,SAAHjO,GAAuB,IAAjBkO,EAAUlO,EAAVkO,WAWrB,OACChF,GAAAA,cAAA,WACCA,GAAAA,cAAA,SACCiF,QAAS,mBACThF,UAAW,yBACX,eAGDD,GAAAA,cAAA,SACChJ,GAAI,mBACJmL,KAAM,mBACNvH,KAAM,OACNqF,UAAW,sBACXiF,SAvBkB,SAACC,GACrBC,GAAgBD,EAAG1C,OAAO7L,OACxBgO,MAAK,SAACrN,GACNyN,EAAWzN,EAAKwD,QAASxD,EAAKR,MAC/B,IACC+N,OAAM,SAAClG,GACPoG,EAAWpG,EACZ,GACF,EAgBGyG,OA3BiB,kDA+BrB,EAEAN,GAAWvE,UAAY,CACtBwE,WAAYvE,KAAAA,KAAeO,YAG5B,YCpCA,SAASsE,GAAM9F,GACd,IAAQzE,EAAoCyE,EAApCzE,QAASiK,EAA2BxF,EAA3BwF,WAAY3D,EAAe7B,EAAf6B,WAMvBkE,EAAa,CAAC,sBAMpB,OAJIlE,GACHkE,EAAWtN,KAAK,+BAIhB+H,GAAAA,cAAAA,GAAAA,SAAA,KACCA,GAAAA,cAAA,OAAKC,UAAW,oBACfD,GAAAA,cAACa,GAAI,CAACC,SAAU,oBAAqB,mBAErCd,GAAAA,cAACa,GAAI,CAACC,SAAU,qBAEjBd,GAAAA,cAAA,YACCC,UAAWsF,EAAWxE,KAAK,KAC3BmE,SAnBc,SAACtG,GACjBoG,EAAWpG,EAAE6D,OAAOnJ,MACrB,EAkBGA,MAAOyB,EACPmH,SAAUb,EACV,cAAa,cAIjB,CAEAiE,GAAM9E,UAAY,CACjBzF,QAAS0F,KAAAA,OAAiBO,WAC1BK,WAAYZ,KAAAA,KAAeO,WAC3BgE,WAAYvE,KAAAA,KAAeO,YAG5BsE,GAAMlD,aAAe,CAAC,EAEtB,YCzCA,SAASoD,GAAahG,GACrB,IAAQ9C,EAAuB8C,EAAvB9C,YAAakD,EAAUJ,EAAVI,MAErB,OACCI,GAAAA,cAAA,OAAKC,UAAW,qBACfD,GAAAA,cAAA,SAAG,mFAEuBtD,EAAY,KACrCsD,GAAAA,cAAA,WAAM,kDAENA,GAAAA,cAAA,WAAM,kBAGPA,GAAAA,cAAA,SAAG,IAAOJ,EAAM,KAChBI,GAAAA,cAAA,SAAG,0GAON,CAEAwF,GAAahF,UAAY,CACxBZ,MAAOa,KAAAA,OACP/D,YAAa+D,KAAAA,OAAiBO,YAG/BwE,GAAapD,aAAe,CAAC,EAE7B,YC9BA,SAASqD,GAAiBjG,GACzB,IAAQkG,EAAuDlG,EAAvDkG,eAAgBhJ,EAAuC8C,EAAvC9C,YAAa1F,EAA0BwI,EAA1BxI,GAAIkK,EAAsB1B,EAAtB0B,MAAOG,EAAe7B,EAAf6B,WAQ1CsE,EAAkB,CAAC,yBACnBC,EAAkB,CAAC,yBAOzB,OALIvE,IACHsE,EAAgB1N,KAAK,kCACrB2N,EAAgB3N,KAAK,mCAIrB+H,GAAAA,cAAAA,GAAAA,SAAA,KACCA,GAAAA,cAAA,SACCC,UAAW0F,EAAgB5E,KAAK,KAChCnG,KAAM,QACNuH,KAAM,cACNnL,GAAIA,EACJsC,MAAOtC,EACPkO,SAtBc,SAACtG,GACZyC,GACJqE,EAAe9G,EAAE6D,OAAOnJ,MAE1B,EAmBGuM,QAASnJ,IAAgB1F,IAI1BgJ,GAAAA,cAAA,SAAOC,UAAW2F,EAAgB7E,KAAK,KAAMkE,QAASjO,GACpDkK,GAIL,CAEAuE,GAAiBjF,UAAY,CAC5BkF,eAAgBjF,KAAAA,KAAeO,WAC/BtE,YAAa+D,KAAAA,OAAiBO,WAC9BhK,GAAIyJ,KAAAA,OAAiBO,WACrBE,MAAOT,KAAAA,OAAiBO,WACxBK,WAAYZ,KAAAA,KAAeO,YAG5ByE,GAAiBrD,aAAe,CAAC,EAEjC,YC7CA,IAAMV,GAAa,CAClB,CACC1K,GAAI,OACJkK,MAAO,UAER,CACClK,GAAI,WACJkK,MAAO,+BAER,CACClK,GAAI,mBACJkK,MAAO,4CAIT,SAAS4E,GAAoBtG,GAC5B,IAAQkG,EAA4ClG,EAA5CkG,eAAgBhJ,EAA4B8C,EAA5B9C,YAAaqJ,EAAevG,EAAfuG,WAE/BC,EAAWtE,GAAWE,KAAI,SAACC,GAAK,OACrC7B,GAAAA,cAACyF,GAAgB,CAChBC,eAAgBA,EAChB1O,GAAI6K,EAAM7K,GACVqC,IAAKwI,EAAM7K,GACXkK,MAAOW,EAAMX,MACbxE,YAAaA,EACb2E,WAAY0E,GACX,IAGH,OACC/F,GAAAA,cAAA,OAAKC,UAAW,mBAAmB,gBAEjC+F,EAGJ,CAEAF,GAAoBtF,UAAY,CAC/BuF,WAAYtF,KAAAA,KAAeO,WAC3B0E,eAAgBjF,KAAAA,KAAeO,WAC/BtE,YAAa+D,KAAAA,OAAiBO,YAG/B8E,GAAoB1D,aAAe,CAAC,EAEpC,YCnCA,SAAS6D,GAAazG,GACrB,IACC+D,EASG/D,EATH+D,aACAxI,EAQGyE,EARHzE,QACA4H,EAOGnD,EAPHmD,WACAnG,EAMGgD,EANHhD,UACAC,EAKG+C,EALH/C,YACAuI,EAIGxF,EAJHwF,WACAU,EAGGlG,EAHHkG,eACAhJ,EAEG8C,EAFH9C,YACA3F,EACGyI,EADHzI,MAGD,IAAK0F,EAAa,OAAO,KAEzB,IAAI+G,EAAmB,GACnB5D,EAAQ,GAEZ,IACC4D,GAAmB0C,EAAAA,GAAAA,IAAkBnL,EAAS,CAAE2B,YAAAA,GACjD,CAAE,MAAOkC,GACRgB,EAAQhB,EAAET,OACX,CAEA,OACC6B,GAAAA,cAACgD,GAAK,CAACC,WAAYM,GAClBvD,GAAAA,cAAA,OACCC,UAAW,kCACX,cAAa,iBAEbD,GAAAA,cAACsD,GAAM,CACNC,aAAcA,EACdC,iBAAkBA,EAClBzI,QAASA,EACT6E,MAAOA,EACP+C,WAAYA,EACZ5L,MAAOA,IAERiJ,GAAAA,cAAA,OAAKC,UAAW,4BACfD,GAAAA,cAAA,OAAKC,UAAW,wBACfD,GAAAA,cAAC+E,GAAU,CAACC,WAAYA,KAEzBhF,GAAAA,cAAA,OAAKC,UAAW,wBACfD,GAAAA,cAAC8F,GAAmB,CACnBpJ,YAAaA,EACbgJ,eAAgBA,EAChBK,YAA0B,IAAdvJ,MAIfwD,GAAAA,cAAA,OACCC,UACC,gEAGDD,GAAAA,cAAA,OAAKC,UAAW,wBACfD,GAAAA,cAACsF,GAAK,CACLvK,QAASA,EACTiK,WAAYA,EACZ3D,WAAY7E,KAGdwD,GAAAA,cAAA,OAAKC,UAAW,wBACfD,GAAAA,cAAA,OAAKC,UAAW,oBACfD,GAAAA,cAACa,GAAI,CAACC,SAAU,oBAAqB,oBAErCd,GAAAA,cAACa,GAAI,CAACC,SAAU,qBAEjBd,GAAAA,cAAA,OACCC,UAAW,wBACX,cAAa,eAEXL,EAGDI,GAAAA,cAACwF,GAAY,CACZ9I,YAAaA,EACbkD,MAAOA,IAJR4D,MAaR,CAEAyC,GAAazF,UAAY,CACxB+C,aAAc9C,KAAAA,KAAeO,WAC7BjG,QAAS0F,KAAAA,OAAiBO,WAC1B2B,WAAYlC,KAAAA,KAAeO,WAC3BxE,UAAWiE,KAAAA,KAAeO,WAC1BvE,YAAagE,KAAAA,KAAeO,WAC5BgE,WAAYvE,KAAAA,KAAeO,WAC3B0E,eAAgBjF,KAAAA,KAAeO,WAC/BtE,YAAa+D,KAAAA,OAAiBO,WAC9BjK,MAAO0J,KAAAA,QAGRwF,GAAa7D,aAAe,CAAC,EAE7B,YCvGA,IAAe+D,EAAAA,GAAAA,KACd,SAAC1R,GAAK,MAAM,CACXsG,QAAS8H,GAAWpO,GACpB+H,UAAWA,GAAU/H,GACrBgI,YAAaA,GAAYhI,GACzBiI,YAAaoG,GAAerO,GAC5BsC,MAAOgM,GAAStO,GAChB,GAED,CACCuQ,WxBpBwB,SAACjK,EAAShE,GAAK,OACxCiH,GAAaO,GAAwC,CAAExD,QAAAA,EAAShE,MAAAA,GAAQ,EwBoBvE2O,exBlB4B,SAAChJ,GAAW,OACzCsB,GAAaO,GAA6C,CAAE7B,YAAAA,GAAc,EwBkBzE6G,axBH0B,WAAH,OACxBvF,GAAaO,GAAyC,EwBGrDoE,WAAAA,IAbF,CAeEsD,IC7BF,IACC,CACCjP,GAAI,OACJkK,MAAO,OACPC,KAAM,SACNtL,WAAY,QAEb,CACCmB,GAAI,OACJkK,MAAO,cACPC,KAAM,aACNtL,WAAY,QAEb,CACCmB,GAAI,QACJkK,MAAO,oBACPC,KAAM,QACNtL,WAAY,SAEb,CACCmB,GAAI,SACJkK,MAAO,iBACPC,KAAM,WACNtL,WAAY,WCTd,SAASuQ,GAAI5G,GACZ,IACC3J,EAUG2J,EAVH3J,WACAN,EASGiK,EATHjK,mBACAI,EAQG6J,EARH7J,oBACA0Q,EAOG7G,EAPH6G,cACAC,EAMG9G,EANH8G,eACAhL,EAKGkE,EALHlE,cACAqG,EAIGnC,EAJHmC,WAEA4E,EAEG/G,EAFH+G,QACAC,EACGhH,EADHgH,SAGKC,EAAoB,CAAC,WACvBlR,GACHkR,EAAkBxO,KAAK,uBAGxB,IAAMyO,EAAqB,CAAC,YAK5B,OAJI/Q,GACH+Q,EAAmBzO,KAAK,wBAIxB+H,GAAAA,cAAA,OAAKC,UAAW,qBACfD,GAAAA,cAACiG,GAAY,MACbjG,GAAAA,cAAA,WAASC,UAAWwG,EAAkB1F,KAAK,MAC1Cf,GAAAA,cAAA,OACCC,UAAW,kBACXsB,QAAShM,EAAqB8Q,EAAgB,MAE9CrG,GAAAA,cAACU,GAAI,MACJ6F,GAEFvG,GAAAA,cAAA,OACCC,UAAW,oBACXsB,QAAS8E,EACT,cAAa,qBAEbrG,GAAAA,cAAA,QAAMC,UAAW,yBAChBD,GAAAA,cAACa,GAAI,CAACC,SAAU,2BAInBd,GAAAA,cAAA,WAASC,UAAW,kBACnBD,GAAAA,cAAA,WAASC,UAAW,oBACnBD,GAAAA,cAACwB,GAAG,CACHE,WAAYiF,GACZlF,YAAa5L,EACbyF,cAAeA,EACfqG,WAAYA,KAGd3B,GAAAA,cAAA,WAASC,UAAW,qBAClBT,EAAMe,WAGTP,GAAAA,cAAA,WAASC,UAAWyG,EAAmB3F,KAAK,MAC3Cf,GAAAA,cAAA,OACCC,UAAW,qBACXsB,QAAS+E,EACT,cAAa,sBAEbtG,GAAAA,cAAA,QAAMC,UAAW,0BAChBD,GAAAA,cAACa,GAAI,CAACC,SAAU,2BAGlBd,GAAAA,cAAA,OACCC,UAAW,mBACXsB,QAAS5L,EAAsB2Q,EAAiB,MAEhDtG,GAAAA,cAACqC,GAAS,MACTmE,EACDxG,GAAAA,cAACuC,GAAQ,QAKd,CAEA6D,GAAI5F,UAAY,CACfD,SAAUE,KAAAA,QAEVlL,mBAAoBkL,KAAAA,KACpB9K,oBAAqB8K,KAAAA,KACrBkB,WAAYlB,KAAAA,OACZ4F,cAAe5F,KAAAA,KAAeO,WAC9BsF,eAAgB7F,KAAAA,KAAeO,WAE/BnL,WAAY4K,KAAAA,OAAiBO,WAC7B1F,cAAemF,KAAAA,KAAeO,WAE9BuF,QAAS9F,KAAAA,QAAkBO,WAC3BwF,SAAU/F,KAAAA,QAAkBO,YAG7BoF,GAAIhE,aAAe,CAClB7M,oBAAoB,EACpBI,qBAAqB,GAGtB,YCpGA,IAAewQ,EAAAA,GAAAA,KACd,SAAC1R,GAAK,MAAM,CACXoB,WAAYD,EAAcnB,GAC1Bc,mBAAoBA,EAAmBd,GACvCkB,oBAAqBA,EAAoBlB,GACzCkN,WAAY7L,EAAcrB,GAC1B,GAED,CACC4R,cvBd2B,WAAH,OAASrI,GAAa3I,EAA8B,EuBe5EiR,evBb4B,WAAH,OAC1BtI,GAAa1I,EAA+B,EuBa3CgG,cAAAA,IAXF,CAaE8K,I,wCCzBK,I,gzCCcA,SAASQ,GACfC,GAIA,OAAOC,GAAOD,EAHDnM,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EACHA,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,IAAAA,UAAA,GAEwC,OACvD,CAEA,SAASoM,GAAOD,EAASE,EAAeC,EAAgBC,GACvD,GAAID,EACH,OAAQD,EAAc9J,aACrB,IAAK,eACJ,MAAwB,SAAjBgK,EAA0BC,GAAOL,GAAWA,EACpD,IAAK,WACJE,EAAcI,gBAAiBC,EAAAA,GAAAA,MAC/B,IAAMC,EAAQC,GAAWT,EAASE,GAClC,MAAwB,SAAjBE,EAA0BC,GAAOG,GAASA,EAElD,IAAK,iBACJN,EAAcI,gBAAiBI,EAAAA,GAAAA,MAC/B,IAAMC,EACLF,GAAWT,EAAO3O,GAAAA,GAAA,GACd6O,GAAa,IAChBI,gBAAgBI,EAAAA,GAAAA,MAChBE,mBAAoB,QACpBC,oBAAqB,QACrBC,wBAAwB,EACxBC,2BAA2B,EAC3BC,qBAAqBC,EAAAA,GAAAA,GAAoB5P,GAAC,CACzC6P,cAAe,EAACC,EAAAA,GAAAA,MAChBC,iBAAiB,EACjBC,gBACmC,SAAlCnB,EAAcmB,gBACX,WACAnB,EAAcmB,iBACfnB,OAGL,+EACD,MAAwB,SAAjBE,EAA0BC,GAAOM,GAASA,EAKpD,IAAMW,EAAgBb,GAAWT,EAASE,GAC1C,MAAwB,SAAjBE,EAA0BkB,EAAuBA,EAuBlCC,MAAM,sBAG1BxG,KAAI,SAACyG,GAAI,OAAKlM,GAAUkM,EAAK,IAC7BzG,KAAI,SAACyG,GAAI,MAAe,WAATA,EAAoB,GAAKA,CAAI,IAC5CtH,KAAK,KA3BR,CAEA,SAASuG,GAAWT,EAASE,GAC5B,IACC,IAAMuB,GAASC,EAAAA,GAAAA,IAAU1B,GACzB,OAAO2B,EAAAA,GAAAA,IAAaF,EAAMpQ,GAAA,GACtB6O,GAEL,CAAE,MAAOnI,GACR,OAAOA,EAAET,OACV,CACD,CAEA,SAAS+I,GAAOvC,GACf,OAAOA,EACL8D,MAAM,MACN7G,KAAI,SAACyG,GAAI,MAAe,KAATA,EAAc,SAAWA,CAAI,IAC5CzG,KAAI,SAACyG,GAAI,+BAAAK,OAA8BL,EAAI,cAC3CtH,KAAK,GACR,CC1Ee,SAAS4H,KACvB,IACMlU,EADQsJ,KACM6K,WAEdjH,EAAa7L,EAAcrB,GAC3BoU,EAAezR,EAAO3C,EAAOkN,GAE7BoF,EAAgB,CACrB9J,YAAanD,GAAerF,EAAO,oBAAqB,eAExDyI,eAAgBpD,GACfrF,EACA,kBACA,kBAEDyT,gBAAiBpO,GAChBrF,EACA,kBACA,mBAED2I,WAAYtD,GAAerF,EAAO,kBAAmB,cAErD4I,UAAWvD,GAAerF,EAAO,iBAAkB,aACnD6I,sBAAuBxD,GACtBrF,EACA,iBACA,yBAED8I,UAAWzD,GAAerF,EAAO,iBAAkB,aACnD+I,iBAAkB1D,GACjBrF,EACA,iBACA,oBAEDgJ,kBAAmB3D,GAClBrF,EACA,iBACA,sBAIIoQ,EDxCA,SACNgC,GAIA,OAAOC,GAAOD,EAHDnM,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAG,CAAC,EACHA,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,IAAAA,UAAA,GAEwC,OACvD,CCkCqBoO,CAAaD,EAAa9N,QAASgM,GAAe,GAChEgC,EAAwC,aAA9BhC,EAAc9J,YAA6B,MAAQ,MAC7D+L,EAAW,GAAHN,OAAMG,EAAa9R,MAAK,KAAA2R,OAAIK,GAEpCE,EAAO,IAAIC,KAAK,CAACrE,GAAc,CACpCjK,KAAM,2BACNuO,QAAS,YAEVC,EAAAA,GAAAA,QAAOH,EAAMD,EACd,CCrDA,SAASK,GAAa7J,GACrB,IACC8J,EAKG9J,EALH8J,cAAaC,EAKV/J,EAJHgK,aAAAA,OAAY,IAAAD,EAAG,KAAIA,EACnBE,EAGGjK,EAHHiK,aAAYC,EAGTlK,EAFHmK,YAAAA,OAAW,IAAAD,EAAG,SAAQA,EACtBnJ,EACGf,EADHe,SAGD,OACCP,GAAAA,cAACgD,GAAK,CAACC,WAAYwG,GAClBzJ,GAAAA,cAAA,WAASC,UAAW,6BACnBD,GAAAA,cAAA,OAAKC,UAAW,2BAA4BM,GAC5CP,GAAAA,cAAA,OAAKC,UAAW,2BACfD,GAAAA,cAAC+B,GAAM,CACNR,QAASkI,EACT7O,KAAM,YACNoH,WAAY,UAEX2H,GAEF3J,GAAAA,cAAC+B,GAAM,CACNR,QAAS+H,EACT1O,KAAM,UACNoH,WAAY,WAEXwH,KAMP,CAEAH,GAAa7I,UAAY,CACxB8I,cAAe7I,KAAAA,KAAeO,WAC9BwI,aAAc/I,KAAAA,OACdgJ,aAAchJ,KAAAA,KAAeO,WAC7B2I,YAAalJ,KAAAA,OACbF,SAAUE,KAAAA,KAAeO,YAG1B,YC3CA,SAAS4I,GAAmBpK,GAC3B,IAAQxJ,EAAoDwJ,EAApDxJ,SAAUmF,EAA0CqE,EAA1CrE,WAAY0O,EAA8BrK,EAA9BqK,WAAYC,EAAkBtK,EAAlBsK,cAE1C,IAAKD,EACJ,OAAO,KASR,OACC7J,GAAAA,cAACqJ,GAAY,CACZC,cAPoB,WACrBQ,GAAc,GACd3O,EAAWnF,EACZ,EAKEwT,aAAc,SACdC,aAVmB,WAAH,OAASK,GAAc,EAAM,GAW7C,6CAEA9J,GAAAA,cAAA,WAAM,gCAIT,CAEA4J,GAAmBpJ,UAAY,CAC9BrF,WAAYsF,KAAAA,KAAeO,WAC3B6I,WAAYpJ,KAAAA,KAAeO,WAC3BhL,SAAUyK,KAAAA,OAAiBO,WAC3B8I,cAAerJ,KAAAA,KAAeO,YAG/B,YCjCA,SAAS+I,GAAgBvK,GACxB,IAAQ2B,EAAmC3B,EAAnC2B,KAAMwD,EAA6BnF,EAA7BmF,KAAM3L,EAAuBwG,EAAvBxG,OAAQqI,EAAe7B,EAAf6B,WAEtBC,EAAa,CAAC,qBAEhBD,GACHC,EAAWrJ,KAAK,gCAQjB,OACC+H,GAAAA,cAAA,QAAMC,UAAWqB,EAAWP,KAAK,KAAMQ,QAPpB,WACdF,GACJrI,GAEF,GAIEgH,GAAAA,cAAA,QAAMC,UAAW,0BAChBD,GAAAA,cAACa,GAAI,CAACC,SAAUK,IAAQ,IAAEwD,GAI9B,CAEAoF,GAAgBvJ,UAAY,CAC3BW,KAAMV,KAAAA,OAAiBO,WACvB2D,KAAMlE,KAAAA,OAAiBO,WACvBhI,OAAQyH,KAAAA,KAAeO,WACvBK,WAAYZ,KAAAA,KAAeO,YAG5B,SAAehB,GAAAA,KAAW+J,I,uOC9B1B,SAASC,GAAYxK,GACpB,IACCxJ,EAOGwJ,EAPHxJ,SACAgF,EAMGwE,EANHxE,WACAG,EAKGqE,EALHrE,WACA8O,EAIGzK,EAJHyK,aACAC,EAGG1K,EAHH0K,YACAC,EAEG3K,EAFH2K,aAIKC,EAAa,CAClB,CACCjJ,KAAM,SACNwD,KAAM,SACN3L,OAAQkR,EACR7I,YAAY,GAEb,CACCF,KAAM,aACNwD,KAAM,MACN3L,OAAQgC,EACRqG,YAAY,GAEb,CACCF,KAAM,SACNwD,KAAM,SACN3L,OAAQiR,EACR5I,YAAarL,GAEd,CACCmL,KAAM,SACNwD,KAAM,SACN3L,OAAQmC,EACRkG,YAAarL,GAEd,CACCmL,KAAM,QACNwD,KAAM,QACN3L,OA9BEwG,EADH6K,UAgCChJ,YAAarL,GAEd,CACCmL,KAAM,WACNwD,KAAM,SACN3L,OAAQmR,EACR9I,YAAarL,IAIf,OACCgK,GAAAA,cAAA,OAAKC,UAAW,2BACdmK,EAAWxI,KAAI,SAAC5I,EAAQK,GAAG,OAC3B2G,GAAAA,cAAC+J,GAAejI,GAAA,GAAK9I,EAAM,CAAEK,IAAKA,IAAO,IAI7C,CAEA2Q,GAAYxJ,UAAY,CACvBxK,SAAUyK,KAAAA,OACVzF,WAAYyF,KAAAA,KAAeO,WAC3B7F,WAAYsF,KAAAA,KAAeO,WAC3BiJ,aAAcxJ,KAAAA,KAAeO,WAC7BmJ,aAAc1J,KAAAA,KAAeO,WAC7BqJ,UAAW5J,KAAAA,KAAeO,WAC1BkJ,YAAazJ,KAAAA,KAAeO,YAG7B,SAAehB,GAAAA,KAAWgK,I,miCCvE1B,SAASM,GAAU9K,GAClB,IAA+C+K,EAAAC,IAArBC,EAAAA,GAAAA,UAASjL,EAAMzI,OAAM,GAAxCA,EAAKwT,EAAA,GAAEG,EAAQH,EAAA,GAGrBpQ,EAOGqF,EAPHrF,OACAwQ,EAMGnL,EANHmL,WACAC,EAKGpL,EALHoL,UACAxU,EAIGoJ,EAJHpJ,aACA0F,EAGG0D,EAHH1D,WACAmO,EAEGzK,EAFHyK,aACA/O,EACGsE,EADHtE,WAGK2P,EAAY,CAAC,oBACfF,GACHE,EAAU5S,KAAK,+BAEZ2S,GACHC,EAAU5S,KAAK,8BAGhB,IAAM6S,EAAW9K,GAAAA,YAgDjB,SAAS+K,EAAUC,GAGlB9P,EAAWf,EAAQ,CAClBpD,MAHDiU,EAAWA,GAAY5U,IAKvBsU,EAASM,GAETF,EAASG,QAAQC,WAAa,CAC/B,CAEA,OAzDAhI,EAAAA,GAAAA,YAAU,WACL0H,GACHE,EAASG,QAAQ3I,OAEnB,GAAG,CAACsI,EAAWE,IAsDd9K,GAAAA,cAAA,MACCC,UAAW4K,EAAU9J,KAAK,KAC1BQ,QAtDF,WACMoJ,GACJ7O,EAAW3B,EAEb,EAmDEgR,cAjDF,SAA2BvM,GACrBgM,IACJX,EAAa9P,GACbyE,EAAE6D,OAAO2I,SAEX,GA8CEpL,GAAAA,cAAA,SACCC,UAAW,yBACXoL,IAAKP,EACLlQ,KAAM,OACNtB,MAAOvC,EACPuU,SAAUV,EAAY,KAAO,WAC7BW,UAAWX,EAAY,YAAc,KACrC1F,SAzCH,SAAsBtG,GACrB8L,EAAS9L,EAAE6D,OAAOnJ,MACnB,EAwCGkS,OAhCH,SAAoB5M,GACfgM,GAEHG,EADiBnM,EAAE6D,OAAOnJ,MAG5B,EA4BGmS,QAvCH,SAAqB7M,GAChBgM,GACHhM,EAAE6D,OAAO2I,QAEX,EAoCGM,WAtDH,SAAwB9M,GACnBgM,GAAyB,KAAZhM,EAAE+M,QAClB/M,EAAEgN,iBACF7M,OAAO8M,eAAeC,kBAGtBf,EADiBnM,EAAE6D,OAAOnJ,OAG5B,IAkDD,CAEAgR,GAAU9J,UAAY,CACrBzJ,MAAO0J,KAAAA,OAAiBO,WACxB7G,OAAQsG,KAAAA,OAAiBO,WACzB2J,WAAYlK,KAAAA,KAAeO,WAC3B4J,UAAWnK,KAAAA,KAAeO,WAC1B5K,aAAcqK,KAAAA,OAAiBO,WAC/BlF,WAAY2E,KAAAA,KAAeO,WAC3BiJ,aAAcxJ,KAAAA,KAAeO,WAC7B9F,WAAYuF,KAAAA,KAAeO,YAG5B,Y,miCCxGA,SAAS+K,GAAYvM,GACpB,IAAmD+K,EAAAC,IAAfC,EAAAA,GAAAA,WAAS,GAAM,GAA5CZ,EAAUU,EAAA,GAAET,EAAaS,EAAA,GAG/ByB,EAYGxM,EAZHwM,UACAhW,EAWGwJ,EAXHxJ,SACAE,EAUGsJ,EAVHtJ,QACAE,EASGoJ,EATHpJ,aAEA4E,EAOGwE,EAPHxE,WACAG,EAMGqE,EANHrE,WACA8O,EAKGzK,EALHyK,aACAC,EAIG1K,EAJH0K,YACApO,EAGG0D,EAHH1D,WACAZ,EAEGsE,EAFHtE,WACAI,EACGkE,EADHlE,cAGD,OACC0E,GAAAA,cAAA,OAAKC,UAAW,eACfD,GAAAA,cAAC4J,GAAkB,CAClBzO,WAAYA,EACZ0O,WAAYA,EACZ7T,SAAUA,EACV8T,cAAeA,IAEhB9J,GAAAA,cAAA,OAAKC,UAAW,2BACfD,GAAAA,cAAA,QAAMC,UAAW,oBAChBD,GAAAA,cAACa,GAAI,CAACC,SAAU,gBAIlBd,GAAAA,cAAA,OAAKC,UAAW,0BACfD,GAAAA,cAACgK,GAAW,CACXhU,SAAUA,EACVgF,WAAY,kBAAMA,EAAW5E,EAAa,EAC1C+E,WAAY,kBAAM2O,GAAc,EAAK,EACrCG,aAAc,kBAAMA,EAAajU,EAAS,EAC1CkU,YAAa,kBAAMA,GAAa,EAChCC,aAAc,WACb7O,EAAc,UACd2Q,YAAW,kBAAMtD,IAA0B,GAAE,EAC9C,EACA0B,UAAW,WACV/O,EAAc,SACd2Q,YAAW,kBAAMlN,OAAO3G,OAAO,GAAE,EAClC,IAED4H,GAAAA,cAAA,MAAIC,UAAW,2BACb+L,EAAUpK,KAAI,SAACrK,GAAI,OACnByI,GAAAA,cAACsK,GAAS,CACTvT,MAAOQ,EAAKR,MACZX,aAAcA,EACd+D,OAAQ5C,EAAKP,GACb2T,WAAY3U,IAAauB,EAAKP,GAC9B4T,UAAW1U,IAAYqB,EAAKP,GAC5B8E,WAAYA,EACZZ,WAAYA,EACZ+O,aAAcA,EACd5Q,IAAK9B,EAAKP,IACT,MAMR,CAEA+U,GAAYvL,UAAY,CACvBwL,UAAWvL,KAAAA,QACVA,KAAAA,MAAgB,CACf1J,MAAO0J,KAAAA,OAAiBO,WACxBhK,GAAIyJ,KAAAA,OAAiBO,cAErBA,WACFhL,SAAUyK,KAAAA,OAAiBO,WAC3B9K,QAASuK,KAAAA,OAAiBO,WAC1B5K,aAAcqK,KAAAA,OAAiBO,WAE/BlF,WAAY2E,KAAAA,KAAeO,WAC3BhG,WAAYyF,KAAAA,KAAeO,WAC3B7F,WAAYsF,KAAAA,KAAeO,WAC3BiJ,aAAcxJ,KAAAA,KAAeO,WAC7BkJ,YAAazJ,KAAAA,KAAeO,WAC5B9F,WAAYuF,KAAAA,KAAeO,WAC3B1F,cAAemF,KAAAA,KAAeO,YAG/B,YCnFA,IAAemF,EAAAA,GAAAA,KACd,SAAC1R,GAAK,MAAM,CACXuB,SAAUF,EAAcrB,GACxByB,QAASD,EAAaxB,GACtB2B,aAAcD,EAAgB1B,GAC9BuX,UAAW3V,EAAa5B,GACxB,GAED,CACCqH,WTtBwB,SAAC9E,GAAE,OAC5BgH,GAAaO,EAAuC,CAAEvH,GAAAA,GAAK,ESsB1DgE,WxBtBwB,SAACjE,GAAwB,IAAjBgE,EAAOL,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAC3C,IAAK3D,EACJ,MAAM,IAAIkH,UAAU,sCAErB,IAAM9E,EAAU,CACfnC,IAAI4L,EAAAA,GAAAA,KACJ7L,MAAAA,EACAgE,QAAAA,GAED,OAAOiD,GAAanD,EAA6B1B,EAClD,EwBaEgC,WxBawB,SAACnE,GAC1B,OAAOgH,GAAanD,EAA6B,CAAE7D,GAAAA,GACpD,EwBdEkE,WAAAA,GACA+O,aTvB0B,SAACjT,GAAE,OAC9BgH,GAAaO,GAAyC,CAAEvH,GAAAA,GAAK,ESuB5DsE,cAAAA,GACA4O,YrCtByB,WAAH,OACvBlM,GAAaO,GAAyC,CACrD/B,WAAW,GACV,GqCIH,CAiBEuP,I,iBChCa,SAASG,GAAWC,GAClC,OAAO9P,KAAAA,SAAmB8P,EAC3B,CCMA,SAASC,GAAa5M,GACrB,IAAQzE,EAA4ByE,EAA5BzE,QAASiM,EAAmBxH,EAAnBwH,eAgBXhB,EAAWY,GAAa7L,EAdRR,IAAMiF,EAAO,CAClC,cAEA,iBACA,kBACA,aAEA,YACA,wBACA,YACA,mBACA,sBAGqDwH,GAEtD,OACChH,GAAAA,cAAA,OAAKC,UAAW,gBACfD,GAAAA,cAAA,OACCqM,wBAAyB,CACxBC,OAAQJ,GAAWlG,MAKxB,CAEAoG,GAAa5L,UAAY,CACxBwG,eAAgBvG,KAAAA,KAAeO,WAC/B/D,YAAawD,KAAAA,OAAiBO,WAC9BjG,QAAS0F,KAAAA,QAGV2L,GAAahK,aAAe,CAC3BrH,QAAS,GACTiM,gBAAgB,GAGjB,YC7CA,IAAeb,EAAAA,GAAAA,KAAQ,SAAC1R,GAAK,MAAM,CAElCyI,eAAgBpD,GAAerF,EAAO,kBAAmB,kBACzDyT,gBAAiBpO,GAChBrF,EACA,kBACA,wBAED2I,WAAYtD,GAAerF,EAAO,kBAAmB,cAGrDwI,YAAanD,GAAerF,EAAO,oBAAqB,eACxD4I,UAAWvD,GAAerF,EAAO,iBAAkB,aACnD6I,sBAAuBxD,GACtBrF,EACA,iBACA,yBAED8I,UAAWzD,GAAerF,EAAO,iBAAkB,aACnD+I,iBAAkB1D,GACjBrF,EACA,iBACA,oBAEDgJ,kBAAmB3D,GAClBrF,EACA,iBACA,qBAED,GA7BD,CA6BI2X,IC5BJ,SAASG,GAAc/M,GACtB,IAAQqJ,EAAiBrJ,EAAjBqJ,aAIR,OACC7I,GAAAA,cAAA,OAAKC,UAHa,CAAC,iBAGQc,KAAK,MAC/Bf,GAAAA,cAACoM,GAAY,CAACrR,QAAS8N,EAAa9N,UAGvC,CAEAwR,GAAc/L,UAAY,CACzBqI,aAAcpI,KAAAA,OAAiBO,YAGhC,Y,kFCYA,SAjCqB,IAAIwL,GAAAA,GAAO,CAC/BC,MAAO,CACNC,IAAK,CACJ3R,QAAS,UAGV4R,UAAW,CACV5R,QAAS,UACT6R,MAAO,QACPC,SAAU,CAAC,CAAEC,IAAK,MAClBC,MAAK,WACJ,MAAO,CAAC,IAAK,EACd,GAGDC,WAAY,CACXC,QAAQ,EACRL,MAAO,SACPM,YAAY,EACZL,SAAU,CAAC,CAAEC,IAAK,OAGlBC,MAAK,WACJ,MAAO,CAAC,KACT,GAGDpI,KAAM,CACLiI,MAAO,a,UC3BK,SAASO,GAAY1Y,GAGnC,OAFaA,EAAM2Y,SAEPV,IAAI3R,QACd6G,KAAI,SAAC+K,GACL,OAAKA,EAAU5R,QAGR4R,EAAU5R,QAAQrC,QAAO,SAACC,EAAKsS,GAErC,OADAtS,GAAOsS,EAAQtG,MAAQ,IAExB,GAAG,IALK,EAMT,IACC5D,KAAK,KACR,CCRe,SAASsM,GAAWC,GAMlC,OAAOjR,KAAAA,SAAmBiR,EALX,CACdhR,aAAc,CAAC,IAAK,SACpBC,cAAc,GAIhB,C,UC0BA,SAASgR,GAAsB/N,GAC9B,IAoEoBlG,EACd+R,EArEEmC,EAA8ChO,EAA9CgO,eAAgBC,EAA8BjO,EAA9BiO,cAAevS,EAAesE,EAAftE,WAEjCwS,GAAaC,EAAAA,GAAAA,UACbC,GAAYD,EAAAA,GAAAA,UACZE,GAgEcvU,EAhEekU,EAiE7BnC,GAAMsC,EAAAA,GAAAA,WACZzK,EAAAA,GAAAA,YAAU,WACTmI,EAAIJ,QAAU3R,CACf,IACO+R,EAAIJ,SAnDX,SAAS6C,IACR,OAAOJ,EAAWzC,SAAWyC,EAAWzC,QAAQ8C,IAAIC,UACrD,CAEA,SAASC,IACRP,EAAWzC,QAAQ8C,IAAIC,WAAWE,YAAYR,EAAWzC,QAAQ8C,IAClE,CAuBA,OArBA7K,EAAAA,GAAAA,YAAU,WACT,IAnBCsK,GACEE,EAAWzC,SAAW4C,IAAmBL,EAMrCM,MAAmBN,GA4BzBS,QAhByB,CACrBH,KACHG,IAGD,IAAME,EA9DT,SAA2BV,GAC1B,OAAOW,GAAAA,GAAYC,OAAO,CACzB3B,IAAK4B,GAAAA,GACHC,WAAWC,IACXla,OCf8BqQ,EDed8I,ECdbrR,EAAO8P,GAAWvH,GACtB8D,MAAM,MACN7G,KAAI,SAACyG,GAAI,YAAAK,OAAWL,EAAI,WACxBtH,KAAK,IAED0N,EAAMC,SAASC,cAAc,OACnCF,EAAIG,UAAY1C,GAAW9P,GAEpBqS,GDM4B,CAAEI,mBAAoB,SACxDC,QEjBM,EACNC,EAAAA,GAAAA,OACAC,EAAAA,GAAAA,GAAO,CAAE,QAASC,GAAAA,GAAM,QAASC,GAAAA,MACjCF,EAAAA,GAAAA,GAAOG,GAAAA,ODFM,IAAmBxK,EAC3BvI,EAKAqS,CDYP,CAuDuBW,CAAkB3B,GACtCC,EAAWzC,QAtDd,SAA0BkD,EAAajT,EAAYf,GAClD,OAAO,IAAIkV,GAAAA,GAAW,KAAM,CAC3B5a,MAAO0Z,EACPmB,oBAAqB,SAA6BC,GACjD,IAAAC,EACC1P,KAAKrL,MAAMgb,iBAAiBF,GADrB9a,EAAK+a,EAAL/a,MAAOib,EAAYF,EAAZE,aAGf5P,KAAK6P,YAAYlb,GAEbib,EAAaE,MAAK,SAACC,GAAE,OAAKA,EAAGC,UAAU,KAC1C5U,EAAWf,EAAQ,CAAEY,QAASoS,GAAY1Y,IAE5C,GAEF,CAwCwBsb,CACpB5B,EACAjT,EACAsS,GAEDI,EAAU3C,QAAQ+E,YAAYtC,EAAWzC,QAAQ8C,KAGjDR,GAAsBG,WAAaA,EAAWzC,OAC/C,CAGD,IAEOjL,GAAAA,cAAA,OAAKC,UAAW,qBAAsBoL,IAAKuC,GACnD,CAEAL,GAAsBnL,aAAe,CACpCoL,eAAgB,GAChBC,cAAe,IAGhBF,GAAsB/M,UAAY,CACjCgN,eAAgB/M,KAAAA,OAChBgN,cAAehN,KAAAA,OACfvF,WAAYuF,KAAAA,KAAeO,YAG5B,YGjGA,SAASiP,GAAazQ,GACrB,IAAQqJ,EAAoCrJ,EAApCqJ,aAAc3N,EAAsBsE,EAAtBtE,WAEhBgV,EAAoB,CACzB,qBACA,WAJ2C1Q,EAAVxC,MAKjC,uBAGD,OACCgD,GAAAA,cAAAA,GAAAA,SAAA,KACCA,GAAAA,cAAA,OAAKC,UAAW,sBACfD,GAAAA,cAAA,OAAKC,UAAW,2BACfD,GAAAA,cAACa,GAAI,CAACC,SAAU,oBAAqB,qBAErCd,GAAAA,cAAA,KACCW,KACC,qDAED8B,OAAQ,SACRC,IAAK,aACLzC,UAAW,SACX,YAEG,IAEJD,GAAAA,cAACa,GAAI,CAACC,SAAU,qBAEjBd,GAAAA,cAAA,OAAKC,UAAW,4BACfD,GAAAA,cAACa,GAAI,CAACC,SAAU,oBAAqB,iBAErCd,GAAAA,cAACa,GAAI,CAACC,SAAU,sBAGlBd,GAAAA,cAACmQ,GAAAA,EAAU,KACVnQ,GAAAA,cAAA,OAAKC,UAAW,cACfD,GAAAA,cAACoQ,GAAAA,EAAc,CAACxD,MAAO,KACtB5M,GAAAA,cAAA,OAAKC,UAAW,qBACfD,GAAAA,cAACuN,GAAqB,CACrBE,cAAe5E,EAAa9N,QAC5BG,WAAYA,EACZsS,eAAgB3E,EAAa7R,OAIhCgJ,GAAAA,cAACoQ,GAAAA,EAAc,CAACxD,MAAO,KACtB5M,GAAAA,cAAA,OAAKC,UAAWiQ,EAAkBnP,KAAK,MACtCf,GAAAA,cAACuM,GAAa,CAAC1D,aAAcA,QAOpC,CAEAoH,GAAazP,UAAY,CACxBqI,aAAcpI,KAAAA,OACdzD,MAAOyD,KAAAA,OAAiBO,WACxB9F,WAAYuF,KAAAA,KAAeO,YAG5B,YCnEA,IAAemF,EAAAA,GAAAA,KAAQ,SAAC1R,GAAK,MAAM,CAClCuI,MAAOlD,GAAerF,EAAO,oBAAqB,SAClD,GAFD,CAEIwb,ICDJ,SAASI,GAAc7Q,GACtB,IAAQqJ,EAAiBrJ,EAAjBqJ,aAEFyH,EAAmBtQ,GAAAA,YAEnBuQ,EAAY,SAAC3R,IACbA,EAAE4R,SAAW5R,EAAE6R,UAAoC,MAAxB7R,EAAEvF,IAAIlC,gBACrCyH,EAAEgN,iBACF7M,OAAO8M,eAAe6E,kBAAkBJ,EAAiBrF,SAE3D,EASA,OAPA/H,EAAAA,GAAAA,YAAU,WAET,OADAnE,OAAOqE,iBAAiB,UAAWmN,GAC5B,WACNxR,OAAOsE,oBAAoB,UAAWkN,EACvC,CACD,IAGCvQ,GAAAA,cAAA,OACCC,UAAW,iCACXoL,IAAKiF,GAELtQ,GAAAA,cAACoM,GAAY,CACZrR,QAAS8N,EAAa9N,QACtBiM,gBAAgB,IAIpB,CAEAqJ,GAAc7P,UAAY,CACzBqI,aAAcpI,KAAAA,OAAiBO,YAGhC,YCpCA,SAAS2P,GAAanR,GACrB,IAAQxC,EAAgDwC,EAAhDxC,MAAO6L,EAAyCrJ,EAAzCqJ,aAAcnL,EAA2B8B,EAA3B9B,SAAUC,EAAiB6B,EAAjB7B,aAEjCiT,EAAoB,CAAC,wBAC3BA,EAAkB3Y,KAAK,WAAa+E,GACpC4T,EAAkB3Y,KAAK,mBAAqByF,GAE5C,IAAM4D,EAAa,CAAC,gBAGpB,OAFAA,EAAWrJ,KAAK,yBAA2B0F,GAG1CqC,GAAAA,cAAA,OACCC,UAAW2Q,EAAkB7P,KAAK,KAClC,cAAa,wBAEbf,GAAAA,cAAA,OAAKC,UAAW,wBACfD,GAAAA,cAAA,OACCC,UAAWqB,EAAWP,KAAK,KAC3B,cAAa,gBAEbf,GAAAA,cAACoM,GAAY,CAACrR,QAAS8N,EAAa9N,YAKzC,CAEA4V,GAAanQ,UAAY,CACxBxD,MAAOyD,KAAAA,OAAiBO,WACxBtD,SAAU+C,KAAAA,OAAiBO,WAC3B6H,aAAcpI,KAAAA,OAAiBO,WAC/BrD,aAAc8C,KAAAA,OAAiBO,YAGhC,YCnCA,IAAemF,EAAAA,GAAAA,KAAQ,SAAC1R,GAAK,MAAM,CAClCuI,MAAOlD,GAAerF,EAAO,oBAAqB,SAClDiJ,SAAU5D,GAAerF,EAAO,iBAAkB,YAClDkJ,aAAc7D,GAAerF,EAAO,iBAAkB,gBACtD,GAJD,CAIIkc,I,wCCLJ,SAASE,GAAKrR,GACb,IACCsR,EAKGtR,EALHsR,WACAC,EAIGvR,EAJHuR,gBACAC,EAGGxR,EAHHwR,aACAnT,EAEG2B,EAFH3B,gBACAH,EACG8B,EADH9B,SAGKuT,EAAsBF,EAAgBnP,KAAI,SAACsP,EAAaC,GAC7D,IAAMC,EAAiBF,EAAYnQ,KAAK,IAExC,OACCf,GAAAA,cAAA,OACC3G,IAAK8X,EACLlR,UAAW,0BACX,cAAa,0BACboM,wBAAyB,CAAEC,OAAQJ,GAAWkF,KAGjD,IAEMC,EAAc,CAAC,qBACrBA,EAAYpZ,KAAK,sBAAwB+Y,GACzCK,EAAYpZ,KAAK,mBAAqByF,GACtC2T,EAAYpZ,KAAK,UAEjB,IAAMqZ,EAA4B,CAAC,mCAKnC,OAJAA,EAA0BrZ,KACzB,2CAA6C4F,GAI7CmC,GAAAA,cAAA,OACCC,UAAWoR,EAAYtQ,KAAK,KAC5B,cAAa,qBAEbf,GAAAA,cAAA,OACCC,UAAWqR,EAA0BvQ,KAAK,KAC1C,cAAa,mCAEbf,GAAAA,cAAA,OAAKC,UAAW,4BACd6Q,EACD9Q,GAAAA,cAAA,OAAKC,UAAW,kCACdgR,KAMP,CACAJ,GAAKzO,aAAe,CACnB2O,gBAAiB,IAElBF,GAAKrQ,UAAY,CAChBsQ,WAAYrQ,KAAAA,QACZsQ,gBAAiBtQ,KAAAA,QAAkBA,KAAAA,QAAkBA,KAAAA,SACrDuQ,aAAcvQ,KAAAA,OAAiBO,WAC/BnD,gBAAiB4C,KAAAA,OAAiBO,WAClCtD,SAAU+C,KAAAA,OAAiBO,YAG5B,SAAehB,GAAAA,KAAW6Q,IChE1B,SAASU,GAAW/R,GACnB,IAAQzI,EAAUyI,EAAVzI,MAER,OAAOiJ,GAAAA,cAAA,OAAKC,UAAW,2BAA4BlJ,EACpD,CACAwa,GAAWnP,aAAe,CACzB2O,gBAAiB,IAElBQ,GAAW/Q,UAAY,CACtBzJ,MAAO0J,KAAAA,OAAiBO,YAGzB,SAAehB,GAAAA,KAAWuR,ICf1B,IAAMC,GAAa,CAClBC,UAAW,cACXC,UAAW,cACXC,SAAU,eAeI,SAASC,GACvBC,EAAkB/a,GASjB,IAPA6G,EAAY7G,EAAZ6G,aACAmU,EAAehb,EAAfgb,gBACAC,EAAgBjb,EAAhBib,iBACAnU,EAAoB9G,EAApB8G,qBAAoBoU,EAAAlb,EACpBmb,0BAAAA,OAAyB,IAAAD,GAAOA,EAAAE,EAAApb,EAChCqb,iBAAAA,OAAgB,IAAAD,GAAOA,EAGlBzc,EAmGP,SAAsB2c,GAAsD,IAAnDN,EAAeM,EAAfN,gBAAiBC,EAAgBK,EAAhBL,iBAAkBpU,EAAYyU,EAAZzU,aACrD0U,EAAkB,GAEpBC,EAAY,EACZC,EAAc,EACdC,EAAkBC,IAClBC,EAAsB,EAK1B,SAASC,EAAYC,GACpBA,EAAOC,SAAQ,SAACxK,GACXyK,EAAmBJ,EAAsBrK,EAAK0K,SACjDC,IAEDX,EAAgBC,GAAWC,GAAata,KAAKoQ,EAAKtN,SAClD2X,GAAuBrK,EAAK0K,MAC7B,GACD,CAEA,SAASN,IACR,OAAqB,IAAdH,GAAmBR,EACvBA,EACAC,CACJ,CAEA,SAASe,EAAmBG,GAC3B,OAAOA,EAAaT,CACrB,CAEA,SAASQ,IACJE,KACHZ,IACAD,EAAgBC,GAAa,GAC7BC,EAAc,GAEdA,IAEDF,EAAgBC,GAAWC,GAAe,GAC1CG,EAAsB,EACtBF,EAAkBC,GACnB,CAEA,SAASS,IACR,OAAOX,IAAgB5U,EAAe,CACvC,CAEA,OAxCA0U,EAAgBC,GAAa,GAC7BD,EAAgBC,GAAWC,GAAe,GAuCnC,CACNY,OAAM,SAACP,GACND,EAAYC,EACb,EAEAQ,mBAAkB,SAACR,GAClBI,IACAL,EAAYC,EACb,EAEAS,oBAAmB,SAACC,GACnB,OAAOZ,EAAsBY,GAAgBd,CAC9C,EAEAe,iBAAgB,SAACD,GAKhB,OAAOA,IAHQ,IAAdhB,GAAmBC,EAAc5U,GAAgBmU,EAC9CA,EACAC,EAEL,EAEAyB,IAAG,WACF,OAAOnB,CACR,EAEF,CA7KgBoB,CAAc,CAC5B9V,aAAAA,EACAmU,gBAAAA,EACAC,iBAAAA,EACAE,0BAAAA,IAGGW,EAAS,GACTU,EAAe,EAqCnB,OAnCmBxB,GAAmBC,GAErB,GAChBF,EAAmBgB,SAAQ,SAACxK,EAAMqL,IAuCpC,SAA0Bje,EAAQ4S,EAAMuK,EAAQX,GAC/C,QACC0B,GAAYtL,KACX5S,EAAO4d,oBAAoBhL,EAAK0K,SACf,IAAlBH,EAAOjb,SACuB,IAA9Bsa,EAEF,EA5CI2B,CACCne,EACA4S,EACAuK,EACAX,KAGDW,EAAO3a,KAAKoQ,GACZiL,GAAgBjL,EAAK0K,QAIrBH,EAAOjb,OAAS,GAkCpB,SACCkc,EACAC,EAAQC,GAEP,IADC5B,EAAgB4B,EAAhB5B,iBAAkBvU,EAAoBmW,EAApBnW,qBAEpB,GAAI+V,GAAYE,KAAiBC,EAChC,OAAO,EAGR,IAAME,EAiBP,SAAqB3L,GACpB,OAAO4L,GAAS5L,EAAKtN,QAASyW,GAAWE,UAC1C,CAlBEwC,CAAYL,IAoBd,SAAoBxL,GACnB,OAAO4L,GAAS5L,EAAKtN,QAASyW,GAAWG,SAC1C,CAtB8BwC,CAAWL,GACxC,IAAyB,IAArB3B,GAA6B6B,EAChC,OAAO,EAGR,IAAMI,EAAmBT,GAAYG,GACrC,IAA6B,IAAzBlW,IAAkCwW,EACrC,OAAO,EAER,OAAO,CACR,CArDIC,CAAYhM,EAAMwJ,EAAmB6B,EAAY,GAAI,CACpDvB,iBAAAA,EACAvU,qBAAAA,MAGGnI,EAAO4d,oBAAoBC,GAC9B7d,EAAO0d,OAAOP,GACJnd,EAAO8d,iBAAiBD,GAClC7d,EAAO2d,mBAAmBR,GAE1Bnd,EAAO0d,OAAOP,GAEfA,EAAS,GACTU,EAAe,EAEjB,IAEM7d,EAAO+d,KACf,CAqCA,SAASG,GAAYtL,GACpB,OAAO4L,GAAS5L,EAAKtN,QAASyW,GAAWC,UAC1C,CAUA,SAASwC,GAAS5L,EAAMpI,GACvB,OAAOoI,EAAKrE,QAAQ/D,IAAc,CACnC,CCzHe,SAASqU,GAAqBC,EAAWC,GACvD,IAAMC,EAAY/F,SAASC,cAAc,OACzC8F,EAAU5J,UAAU6J,IAAI,kBACxBhG,SAASiG,KAAK3E,YAAYyE,GAC1B,IAAMG,GAAOC,EAAAA,GAAAA,GAAWJ,GAExB,OAAO,IAAIjQ,SAAQ,SAACC,GACnB,IAAMqQ,EAAqB,WAM1B,OALAC,EAAAA,GAAAA,kBAAgB,WACf,IAAMC,EAAUR,EAAYC,GAC5BhQ,EAAQuQ,EACT,IAEOhV,GAAAA,cAAA,WAAMuU,EACd,EAEAK,EAAK9N,OAAO9G,GAAAA,cAAC8U,EAAkB,MAChC,IAAGlQ,MAAK,SAACoQ,GAIR,OAHAJ,EAAKK,UACLR,EAAUzG,WAAWE,YAAYuG,GAE1BO,CACR,GACD,CC5Be,SAASE,GAAWC,GAClC,IADgE,IAAjBC,EAAU1a,UAAA/C,OAAA,QAAAgD,IAAAD,UAAA,GAAAA,UAAA,GAAG,GACnD2a,EAAID,EAAWzd,QAAU,EAAG0d,EAAIF,EAAaE,IACrDD,EAAWnd,KAAK,IAEjB,OAAOmd,CACR,CCDO,SAASE,GAAgBC,GAC/B,OAAOA,EAAQC,YAChB,C,2YCLAC,GAAA,kBAAA7W,CAAA,MAAA8W,EAAA9W,EAAA,GAAA+W,EAAAle,OAAAme,UAAAC,EAAAF,EAAAG,eAAA5e,EAAAO,OAAAse,gBAAA,SAAAL,EAAA9W,EAAA+W,GAAAD,EAAA9W,GAAA+W,EAAArc,KAAA,EAAA+b,EAAA,mBAAAW,OAAAA,OAAA,GAAAzd,EAAA8c,EAAAY,UAAA,aAAAC,EAAAb,EAAAc,eAAA,kBAAAC,EAAAf,EAAAgB,aAAA,yBAAAC,EAAAZ,EAAA9W,EAAA+W,GAAA,OAAAle,OAAAse,eAAAL,EAAA9W,EAAA,CAAAtF,MAAAqc,EAAAY,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAf,EAAA9W,EAAA,KAAA0X,EAAA,aAAAZ,GAAAY,EAAA,SAAAZ,EAAA9W,EAAA+W,GAAA,OAAAD,EAAA9W,GAAA+W,CAAA,WAAAe,EAAAhB,EAAA9W,EAAA+W,EAAAE,GAAA,IAAAR,EAAAzW,GAAAA,EAAAgX,qBAAAe,EAAA/X,EAAA+X,EAAApe,EAAAd,OAAA4W,OAAAgH,EAAAO,WAAAM,EAAA,IAAAU,EAAAf,GAAA,WAAA3e,EAAAqB,EAAA,WAAAe,MAAAud,EAAAnB,EAAAC,EAAAO,KAAA3d,CAAA,UAAAue,EAAApB,EAAA9W,EAAA+W,GAAA,WAAA/a,KAAA,SAAAmc,IAAArB,EAAA/V,KAAAf,EAAA+W,GAAA,OAAAD,GAAA,OAAA9a,KAAA,QAAAmc,IAAArB,EAAA,EAAA9W,EAAA8X,KAAAA,EAAA,IAAAM,EAAA,iBAAAC,EAAA,iBAAAC,EAAA,YAAAC,EAAA,YAAAC,EAAA,YAAAT,IAAA,UAAAU,IAAA,UAAAC,IAAA,KAAAC,EAAA,GAAAjB,EAAAiB,EAAAhf,GAAA,8BAAAif,EAAA/f,OAAAggB,eAAAC,EAAAF,GAAAA,EAAAA,EAAAzd,EAAA,MAAA2d,GAAAA,IAAA/B,GAAAE,EAAAlW,KAAA+X,EAAAnf,KAAAgf,EAAAG,GAAA,IAAAC,EAAAL,EAAA1B,UAAAe,EAAAf,UAAAne,OAAA4W,OAAAkJ,GAAA,SAAAK,EAAAlC,GAAA,0BAAA7C,SAAA,SAAAjU,GAAA0X,EAAAZ,EAAA9W,GAAA,SAAA8W,GAAA,YAAAmC,QAAAjZ,EAAA8W,EAAA,gBAAAoC,EAAApC,EAAA9W,GAAA,SAAAmZ,EAAApC,EAAAze,EAAAme,EAAA9c,GAAA,IAAA2d,EAAAY,EAAApB,EAAAC,GAAAD,EAAAxe,GAAA,aAAAgf,EAAAtb,KAAA,KAAAwb,EAAAF,EAAAa,IAAAC,EAAAZ,EAAA9c,MAAA,OAAA0d,GAAA,UAAAgB,GAAAhB,IAAAnB,EAAAlW,KAAAqX,EAAA,WAAApY,EAAA6F,QAAAuS,EAAAiB,SAAArT,MAAA,SAAA8Q,GAAAqC,EAAA,OAAArC,EAAAL,EAAA9c,EAAA,aAAAmd,GAAAqC,EAAA,QAAArC,EAAAL,EAAA9c,EAAA,IAAAqG,EAAA6F,QAAAuS,GAAApS,MAAA,SAAA8Q,GAAAU,EAAA9c,MAAAoc,EAAAL,EAAAe,EAAA,aAAAV,GAAA,OAAAqC,EAAA,QAAArC,EAAAL,EAAA9c,EAAA,IAAAA,EAAA2d,EAAAa,IAAA,KAAApB,EAAAze,EAAA,gBAAAoC,MAAA,SAAAoc,EAAAG,GAAA,SAAAqC,IAAA,WAAAtZ,GAAA,SAAAA,EAAA+W,GAAAoC,EAAArC,EAAAG,EAAAjX,EAAA+W,EAAA,WAAAA,EAAAA,EAAAA,EAAA/Q,KAAAsT,EAAAA,GAAAA,GAAA,aAAArB,EAAAjY,EAAA+W,EAAAE,GAAA,IAAA3e,EAAA8f,EAAA,gBAAA3B,EAAA9c,GAAA,GAAArB,IAAAggB,EAAA,UAAAiB,MAAA,mCAAAjhB,IAAAigB,EAAA,cAAA9B,EAAA,MAAA9c,EAAA,OAAAe,MAAAoc,EAAA0C,MAAA,OAAAvC,EAAAwC,OAAAhD,EAAAQ,EAAAkB,IAAAxe,IAAA,KAAA2d,EAAAL,EAAAyC,SAAA,GAAApC,EAAA,KAAAE,EAAAmC,EAAArC,EAAAL,GAAA,GAAAO,EAAA,IAAAA,IAAAgB,EAAA,gBAAAhB,CAAA,cAAAP,EAAAwC,OAAAxC,EAAA2C,KAAA3C,EAAA4C,MAAA5C,EAAAkB,SAAA,aAAAlB,EAAAwC,OAAA,IAAAnhB,IAAA8f,EAAA,MAAA9f,EAAAigB,EAAAtB,EAAAkB,IAAAlB,EAAA6C,kBAAA7C,EAAAkB,IAAA,gBAAAlB,EAAAwC,QAAAxC,EAAA8C,OAAA,SAAA9C,EAAAkB,KAAA7f,EAAAggB,EAAA,IAAAK,EAAAT,EAAAlY,EAAA+W,EAAAE,GAAA,cAAA0B,EAAA3c,KAAA,IAAA1D,EAAA2e,EAAAuC,KAAAjB,EAAAF,EAAAM,EAAAR,MAAAK,EAAA,gBAAA9d,MAAAie,EAAAR,IAAAqB,KAAAvC,EAAAuC,KAAA,WAAAb,EAAA3c,OAAA1D,EAAAigB,EAAAtB,EAAAwC,OAAA,QAAAxC,EAAAkB,IAAAQ,EAAAR,IAAA,YAAAwB,EAAA3Z,EAAA+W,GAAA,IAAAE,EAAAF,EAAA0C,OAAAnhB,EAAA0H,EAAAqX,SAAAJ,GAAA,GAAA3e,IAAAwe,EAAA,OAAAC,EAAA2C,SAAA,eAAAzC,GAAAjX,EAAAqX,SAAA2C,SAAAjD,EAAA0C,OAAA,SAAA1C,EAAAoB,IAAArB,EAAA6C,EAAA3Z,EAAA+W,GAAA,UAAAA,EAAA0C,SAAA,WAAAxC,IAAAF,EAAA0C,OAAA,QAAA1C,EAAAoB,IAAA,IAAA9Y,UAAA,oCAAA4X,EAAA,aAAAuB,EAAA,IAAA/B,EAAAyB,EAAA5f,EAAA0H,EAAAqX,SAAAN,EAAAoB,KAAA,aAAA1B,EAAAza,KAAA,OAAA+a,EAAA0C,OAAA,QAAA1C,EAAAoB,IAAA1B,EAAA0B,IAAApB,EAAA2C,SAAA,KAAAlB,EAAA,IAAA7e,EAAA8c,EAAA0B,IAAA,OAAAxe,EAAAA,EAAA6f,MAAAzC,EAAA/W,EAAAia,YAAAtgB,EAAAe,MAAAqc,EAAAmD,KAAAla,EAAAma,QAAA,WAAApD,EAAA0C,SAAA1C,EAAA0C,OAAA,OAAA1C,EAAAoB,IAAArB,GAAAC,EAAA2C,SAAA,KAAAlB,GAAA7e,GAAAod,EAAA0C,OAAA,QAAA1C,EAAAoB,IAAA,IAAA9Y,UAAA,oCAAA0X,EAAA2C,SAAA,KAAAlB,EAAA,UAAA4B,EAAAtD,GAAA,IAAA9W,EAAA,CAAAqa,OAAAvD,EAAA,SAAAA,IAAA9W,EAAAsa,SAAAxD,EAAA,SAAAA,IAAA9W,EAAAua,WAAAzD,EAAA,GAAA9W,EAAAwa,SAAA1D,EAAA,SAAA2D,WAAAphB,KAAA2G,EAAA,UAAA0a,EAAA5D,GAAA,IAAA9W,EAAA8W,EAAA6D,YAAA,GAAA3a,EAAAhE,KAAA,gBAAAgE,EAAAmY,IAAArB,EAAA6D,WAAA3a,CAAA,UAAAgY,EAAAlB,GAAA,KAAA2D,WAAA,EAAAJ,OAAA,SAAAvD,EAAA7C,QAAAmG,EAAA,WAAAQ,OAAA,YAAAzf,EAAA6E,GAAA,GAAAA,GAAA,KAAAA,EAAA,KAAA+W,EAAA/W,EAAArG,GAAA,GAAAod,EAAA,OAAAA,EAAAhW,KAAAf,GAAA,sBAAAA,EAAAka,KAAA,OAAAla,EAAA,IAAA6a,MAAA7a,EAAAjH,QAAA,KAAAT,GAAA,EAAAme,EAAA,SAAAyD,IAAA,OAAA5hB,EAAA0H,EAAAjH,QAAA,GAAAke,EAAAlW,KAAAf,EAAA1H,GAAA,OAAA4hB,EAAAxf,MAAAsF,EAAA1H,GAAA4hB,EAAAV,MAAA,EAAAU,EAAA,OAAAA,EAAAxf,MAAAoc,EAAAoD,EAAAV,MAAA,EAAAU,CAAA,SAAAzD,EAAAyD,KAAAzD,CAAA,YAAApX,UAAA+Z,GAAApZ,GAAA,2BAAAyY,EAAAzB,UAAA0B,EAAApgB,EAAAygB,EAAA,eAAAre,MAAAge,EAAAd,cAAA,IAAAtf,EAAAogB,EAAA,eAAAhe,MAAA+d,EAAAb,cAAA,IAAAa,EAAAqC,YAAApD,EAAAgB,EAAAlB,EAAA,qBAAAxX,EAAA+a,oBAAA,SAAAjE,GAAA,IAAA9W,EAAA,mBAAA8W,GAAAA,EAAAkE,YAAA,QAAAhb,IAAAA,IAAAyY,GAAA,uBAAAzY,EAAA8a,aAAA9a,EAAAuD,MAAA,EAAAvD,EAAAib,KAAA,SAAAnE,GAAA,OAAAje,OAAAqiB,eAAAriB,OAAAqiB,eAAApE,EAAA4B,IAAA5B,EAAAqE,UAAAzC,EAAAhB,EAAAZ,EAAAU,EAAA,sBAAAV,EAAAE,UAAAne,OAAA4W,OAAAsJ,GAAAjC,CAAA,EAAA9W,EAAAob,MAAA,SAAAtE,GAAA,OAAAuC,QAAAvC,EAAA,EAAAkC,EAAAE,EAAAlC,WAAAU,EAAAwB,EAAAlC,UAAAM,GAAA,0BAAAtX,EAAAkZ,cAAAA,EAAAlZ,EAAAqb,MAAA,SAAAvE,EAAAC,EAAAE,EAAA3e,EAAAme,QAAA,IAAAA,IAAAA,EAAA7Q,SAAA,IAAAjM,EAAA,IAAAuf,EAAApB,EAAAhB,EAAAC,EAAAE,EAAA3e,GAAAme,GAAA,OAAAzW,EAAA+a,oBAAAhE,GAAApd,EAAAA,EAAAugB,OAAAlU,MAAA,SAAA8Q,GAAA,OAAAA,EAAA0C,KAAA1C,EAAApc,MAAAf,EAAAugB,MAAA,KAAAlB,EAAAD,GAAArB,EAAAqB,EAAAvB,EAAA,aAAAE,EAAAqB,EAAApf,GAAA,0BAAA+d,EAAAqB,EAAA,qDAAA/Y,EAAAlH,KAAA,SAAAge,GAAA,IAAA9W,EAAAnH,OAAAie,GAAAC,EAAA,WAAAE,KAAAjX,EAAA+W,EAAA1d,KAAA4d,GAAA,OAAAF,EAAAuE,UAAA,SAAApB,IAAA,KAAAnD,EAAAhe,QAAA,KAAA+d,EAAAC,EAAAwE,MAAA,GAAAzE,KAAA9W,EAAA,OAAAka,EAAAxf,MAAAoc,EAAAoD,EAAAV,MAAA,EAAAU,CAAA,QAAAA,EAAAV,MAAA,EAAAU,CAAA,GAAAla,EAAA7E,OAAAA,EAAA6c,EAAAhB,UAAA,CAAAgE,YAAAhD,EAAA4C,MAAA,SAAA5a,GAAA,QAAAwb,KAAA,OAAAtB,KAAA,OAAAN,KAAA,KAAAC,MAAA/C,EAAA,KAAA0C,MAAA,OAAAE,SAAA,UAAAD,OAAA,YAAAtB,IAAArB,EAAA,KAAA2D,WAAAxG,QAAAyG,IAAA1a,EAAA,QAAA+W,KAAA,WAAAA,EAAA0E,OAAA,IAAAxE,EAAAlW,KAAA,KAAAgW,KAAA8D,OAAA9D,EAAA2E,MAAA,WAAA3E,GAAAD,EAAA,EAAA6E,KAAA,gBAAAnC,MAAA,MAAA1C,EAAA,KAAA2D,WAAA,GAAAE,WAAA,aAAA7D,EAAA9a,KAAA,MAAA8a,EAAAqB,IAAA,YAAAyD,IAAA,EAAA9B,kBAAA,SAAA9Z,GAAA,QAAAwZ,KAAA,MAAAxZ,EAAA,IAAA+W,EAAA,cAAA8E,EAAA5E,EAAA3e,GAAA,OAAAqB,EAAAqC,KAAA,QAAArC,EAAAwe,IAAAnY,EAAA+W,EAAAmD,KAAAjD,EAAA3e,IAAAye,EAAA0C,OAAA,OAAA1C,EAAAoB,IAAArB,KAAAxe,CAAA,SAAAA,EAAA,KAAAmiB,WAAA1hB,OAAA,EAAAT,GAAA,IAAAA,EAAA,KAAAme,EAAA,KAAAgE,WAAAniB,GAAAqB,EAAA8c,EAAAkE,WAAA,YAAAlE,EAAA4D,OAAA,OAAAwB,EAAA,UAAApF,EAAA4D,QAAA,KAAAmB,KAAA,KAAAlE,EAAAL,EAAAlW,KAAA0V,EAAA,YAAAe,EAAAP,EAAAlW,KAAA0V,EAAA,iBAAAa,GAAAE,EAAA,SAAAgE,KAAA/E,EAAA6D,SAAA,OAAAuB,EAAApF,EAAA6D,UAAA,WAAAkB,KAAA/E,EAAA8D,WAAA,OAAAsB,EAAApF,EAAA8D,WAAA,SAAAjD,GAAA,QAAAkE,KAAA/E,EAAA6D,SAAA,OAAAuB,EAAApF,EAAA6D,UAAA,YAAA9C,EAAA,UAAA+B,MAAA,kDAAAiC,KAAA/E,EAAA8D,WAAA,OAAAsB,EAAApF,EAAA8D,WAAA,KAAAR,OAAA,SAAAjD,EAAA9W,GAAA,QAAA+W,EAAA,KAAA0D,WAAA1hB,OAAA,EAAAge,GAAA,IAAAA,EAAA,KAAAze,EAAA,KAAAmiB,WAAA1D,GAAA,GAAAze,EAAA+hB,QAAA,KAAAmB,MAAAvE,EAAAlW,KAAAzI,EAAA,oBAAAkjB,KAAAljB,EAAAiiB,WAAA,KAAA9D,EAAAne,EAAA,OAAAme,IAAA,UAAAK,GAAA,aAAAA,IAAAL,EAAA4D,QAAAra,GAAAA,GAAAyW,EAAA8D,aAAA9D,EAAA,UAAA9c,EAAA8c,EAAAA,EAAAkE,WAAA,UAAAhhB,EAAAqC,KAAA8a,EAAAnd,EAAAwe,IAAAnY,EAAAyW,GAAA,KAAAgD,OAAA,YAAAS,KAAAzD,EAAA8D,WAAA/B,GAAA,KAAAsD,SAAAniB,EAAA,EAAAmiB,SAAA,SAAAhF,EAAA9W,GAAA,aAAA8W,EAAA9a,KAAA,MAAA8a,EAAAqB,IAAA,gBAAArB,EAAA9a,MAAA,aAAA8a,EAAA9a,KAAA,KAAAke,KAAApD,EAAAqB,IAAA,WAAArB,EAAA9a,MAAA,KAAA4f,KAAA,KAAAzD,IAAArB,EAAAqB,IAAA,KAAAsB,OAAA,cAAAS,KAAA,kBAAApD,EAAA9a,MAAAgE,IAAA,KAAAka,KAAAla,GAAAwY,CAAA,EAAAuD,OAAA,SAAAjF,GAAA,QAAA9W,EAAA,KAAAya,WAAA1hB,OAAA,EAAAiH,GAAA,IAAAA,EAAA,KAAA+W,EAAA,KAAA0D,WAAAza,GAAA,GAAA+W,EAAAwD,aAAAzD,EAAA,YAAAgF,SAAA/E,EAAA4D,WAAA5D,EAAAyD,UAAAE,EAAA3D,GAAAyB,CAAA,GAAAtS,MAAA,SAAA4Q,GAAA,QAAA9W,EAAA,KAAAya,WAAA1hB,OAAA,EAAAiH,GAAA,IAAAA,EAAA,KAAA+W,EAAA,KAAA0D,WAAAza,GAAA,GAAA+W,EAAAsD,SAAAvD,EAAA,KAAAG,EAAAF,EAAA4D,WAAA,aAAA1D,EAAAjb,KAAA,KAAA1D,EAAA2e,EAAAkB,IAAAuC,EAAA3D,EAAA,QAAAze,CAAA,YAAAihB,MAAA,0BAAAyC,cAAA,SAAAhc,EAAA+W,EAAAE,GAAA,YAAAyC,SAAA,CAAArC,SAAAlc,EAAA6E,GAAAia,WAAAlD,EAAAoD,QAAAlD,GAAA,cAAAwC,SAAA,KAAAtB,IAAArB,GAAA0B,CAAA,GAAAxY,CAAA,UAAAic,GAAAC,EAAArW,EAAAC,EAAAqW,EAAAC,EAAA3hB,EAAA0d,GAAA,QAAAkE,EAAAH,EAAAzhB,GAAA0d,GAAAzd,EAAA2hB,EAAA3hB,KAAA,OAAAsG,GAAA,YAAA8E,EAAA9E,EAAA,CAAAqb,EAAA7C,KAAA3T,EAAAnL,GAAAkL,QAAAC,QAAAnL,GAAAsL,KAAAmW,EAAAC,EAAA,CAOA,IAAME,GAAe,CACpB7S,KAAM,WAGQ,SAAe8S,GAAiBC,EAAAC,GAAA,OAAAC,GAAAC,MAAC,KAAD7gB,UAAA,CAyB9C,SAAA4gB,KApCD,IAAAE,EAoCC,OApCDA,EAoCC/F,KAAAoE,MAzBc,SAAA4B,EACdC,EAAQ5kB,GAAA,IAAA6G,EAAAqT,EAAAnT,EAAAH,EAAA6W,EAAAC,EAAA,OAAAiB,KAAAiB,MAAA,SAAAiF,GAAA,cAAAA,EAAAvB,KAAAuB,EAAA7C,MAAA,OAqBP,OApBCnb,EAAY7G,EAAZ6G,aAAcqT,EAAYla,EAAZka,aAAcnT,EAAe/G,EAAf+G,gBAAiBH,EAAQ5G,EAAR4G,SAEzC6W,EACLvU,GAAAA,cAAA,OAAKC,UAAW,8BACfD,GAAAA,cAAC6Q,GAAI,CACJE,gBAAiBmE,GAAWvX,EAAc,CAAC+d,IAC3C/d,aAAcA,EACdqT,aAAcA,EACdnT,gBAAiBA,EACjBH,SAAUA,KAKP8W,EAAc,SAACC,GACpB,IAAMmH,EAAiB,GAIvB,OAHAnH,EAAUoH,iBAAiBX,GAAa7S,MAAMwK,SAAQ,SAACxK,GACtDuT,EAAe3jB,KAAqBoQ,ED9BvByT,aC+Bd,IACOF,CACR,EAACD,EAAA7C,KAAA,EAEYxE,GAAqBC,EAAWC,GAAY,cAAAmH,EAAAhD,OAAA,SAAAgD,EAAAnD,MAAA,wBAAAmD,EAAApB,OAAA,GAAAkB,EAAA,IACzDH,GApCD,eAAAS,EAAA,KAAAC,EAAAthB,UAAA,WAAA8J,SAAA,SAAAC,EAAAC,GAAA,IAAAoW,EAAAU,EAAAD,MAAAQ,EAAAC,GAAA,SAAAjB,EAAAzhB,GAAAuhB,GAAAC,EAAArW,EAAAC,EAAAqW,EAAAC,EAAA,OAAA1hB,EAAA,UAAA0hB,EAAAzmB,GAAAsmB,GAAAC,EAAArW,EAAAC,EAAAqW,EAAAC,EAAA,QAAAzmB,EAAA,CAAAwmB,OAAApgB,EAAA,KAoCC2gB,GAAAC,MAAA,KAAA7gB,UAAA,C,2YCpCD+a,GAAA,kBAAA7W,CAAA,MAAA8W,EAAA9W,EAAA,GAAA+W,EAAAle,OAAAme,UAAAC,EAAAF,EAAAG,eAAA5e,EAAAO,OAAAse,gBAAA,SAAAL,EAAA9W,EAAA+W,GAAAD,EAAA9W,GAAA+W,EAAArc,KAAA,EAAA+b,EAAA,mBAAAW,OAAAA,OAAA,GAAAzd,EAAA8c,EAAAY,UAAA,aAAAC,EAAAb,EAAAc,eAAA,kBAAAC,EAAAf,EAAAgB,aAAA,yBAAAC,EAAAZ,EAAA9W,EAAA+W,GAAA,OAAAle,OAAAse,eAAAL,EAAA9W,EAAA,CAAAtF,MAAAqc,EAAAY,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAf,EAAA9W,EAAA,KAAA0X,EAAA,aAAAZ,GAAAY,EAAA,SAAAZ,EAAA9W,EAAA+W,GAAA,OAAAD,EAAA9W,GAAA+W,CAAA,WAAAe,EAAAhB,EAAA9W,EAAA+W,EAAAE,GAAA,IAAAR,EAAAzW,GAAAA,EAAAgX,qBAAAe,EAAA/X,EAAA+X,EAAApe,EAAAd,OAAA4W,OAAAgH,EAAAO,WAAAM,EAAA,IAAAU,EAAAf,GAAA,WAAA3e,EAAAqB,EAAA,WAAAe,MAAAud,EAAAnB,EAAAC,EAAAO,KAAA3d,CAAA,UAAAue,EAAApB,EAAA9W,EAAA+W,GAAA,WAAA/a,KAAA,SAAAmc,IAAArB,EAAA/V,KAAAf,EAAA+W,GAAA,OAAAD,GAAA,OAAA9a,KAAA,QAAAmc,IAAArB,EAAA,EAAA9W,EAAA8X,KAAAA,EAAA,IAAAM,EAAA,iBAAAC,EAAA,iBAAAC,EAAA,YAAAC,EAAA,YAAAC,EAAA,YAAAT,IAAA,UAAAU,IAAA,UAAAC,IAAA,KAAAC,EAAA,GAAAjB,EAAAiB,EAAAhf,GAAA,8BAAAif,EAAA/f,OAAAggB,eAAAC,EAAAF,GAAAA,EAAAA,EAAAzd,EAAA,MAAA2d,GAAAA,IAAA/B,GAAAE,EAAAlW,KAAA+X,EAAAnf,KAAAgf,EAAAG,GAAA,IAAAC,EAAAL,EAAA1B,UAAAe,EAAAf,UAAAne,OAAA4W,OAAAkJ,GAAA,SAAAK,EAAAlC,GAAA,0BAAA7C,SAAA,SAAAjU,GAAA0X,EAAAZ,EAAA9W,GAAA,SAAA8W,GAAA,YAAAmC,QAAAjZ,EAAA8W,EAAA,gBAAAoC,EAAApC,EAAA9W,GAAA,SAAAmZ,EAAApC,EAAAze,EAAAme,EAAA9c,GAAA,IAAA2d,EAAAY,EAAApB,EAAAC,GAAAD,EAAAxe,GAAA,aAAAgf,EAAAtb,KAAA,KAAAwb,EAAAF,EAAAa,IAAAC,EAAAZ,EAAA9c,MAAA,OAAA0d,GAAA,UAAAgB,GAAAhB,IAAAnB,EAAAlW,KAAAqX,EAAA,WAAApY,EAAA6F,QAAAuS,EAAAiB,SAAArT,MAAA,SAAA8Q,GAAAqC,EAAA,OAAArC,EAAAL,EAAA9c,EAAA,aAAAmd,GAAAqC,EAAA,QAAArC,EAAAL,EAAA9c,EAAA,IAAAqG,EAAA6F,QAAAuS,GAAApS,MAAA,SAAA8Q,GAAAU,EAAA9c,MAAAoc,EAAAL,EAAAe,EAAA,aAAAV,GAAA,OAAAqC,EAAA,QAAArC,EAAAL,EAAA9c,EAAA,IAAAA,EAAA2d,EAAAa,IAAA,KAAApB,EAAAze,EAAA,gBAAAoC,MAAA,SAAAoc,EAAAG,GAAA,SAAAqC,IAAA,WAAAtZ,GAAA,SAAAA,EAAA+W,GAAAoC,EAAArC,EAAAG,EAAAjX,EAAA+W,EAAA,WAAAA,EAAAA,EAAAA,EAAA/Q,KAAAsT,EAAAA,GAAAA,GAAA,aAAArB,EAAAjY,EAAA+W,EAAAE,GAAA,IAAA3e,EAAA8f,EAAA,gBAAA3B,EAAA9c,GAAA,GAAArB,IAAAggB,EAAA,UAAAiB,MAAA,mCAAAjhB,IAAAigB,EAAA,cAAA9B,EAAA,MAAA9c,EAAA,OAAAe,MAAAoc,EAAA0C,MAAA,OAAAvC,EAAAwC,OAAAhD,EAAAQ,EAAAkB,IAAAxe,IAAA,KAAA2d,EAAAL,EAAAyC,SAAA,GAAApC,EAAA,KAAAE,EAAAmC,EAAArC,EAAAL,GAAA,GAAAO,EAAA,IAAAA,IAAAgB,EAAA,gBAAAhB,CAAA,cAAAP,EAAAwC,OAAAxC,EAAA2C,KAAA3C,EAAA4C,MAAA5C,EAAAkB,SAAA,aAAAlB,EAAAwC,OAAA,IAAAnhB,IAAA8f,EAAA,MAAA9f,EAAAigB,EAAAtB,EAAAkB,IAAAlB,EAAA6C,kBAAA7C,EAAAkB,IAAA,gBAAAlB,EAAAwC,QAAAxC,EAAA8C,OAAA,SAAA9C,EAAAkB,KAAA7f,EAAAggB,EAAA,IAAAK,EAAAT,EAAAlY,EAAA+W,EAAAE,GAAA,cAAA0B,EAAA3c,KAAA,IAAA1D,EAAA2e,EAAAuC,KAAAjB,EAAAF,EAAAM,EAAAR,MAAAK,EAAA,gBAAA9d,MAAAie,EAAAR,IAAAqB,KAAAvC,EAAAuC,KAAA,WAAAb,EAAA3c,OAAA1D,EAAAigB,EAAAtB,EAAAwC,OAAA,QAAAxC,EAAAkB,IAAAQ,EAAAR,IAAA,YAAAwB,EAAA3Z,EAAA+W,GAAA,IAAAE,EAAAF,EAAA0C,OAAAnhB,EAAA0H,EAAAqX,SAAAJ,GAAA,GAAA3e,IAAAwe,EAAA,OAAAC,EAAA2C,SAAA,eAAAzC,GAAAjX,EAAAqX,SAAA2C,SAAAjD,EAAA0C,OAAA,SAAA1C,EAAAoB,IAAArB,EAAA6C,EAAA3Z,EAAA+W,GAAA,UAAAA,EAAA0C,SAAA,WAAAxC,IAAAF,EAAA0C,OAAA,QAAA1C,EAAAoB,IAAA,IAAA9Y,UAAA,oCAAA4X,EAAA,aAAAuB,EAAA,IAAA/B,EAAAyB,EAAA5f,EAAA0H,EAAAqX,SAAAN,EAAAoB,KAAA,aAAA1B,EAAAza,KAAA,OAAA+a,EAAA0C,OAAA,QAAA1C,EAAAoB,IAAA1B,EAAA0B,IAAApB,EAAA2C,SAAA,KAAAlB,EAAA,IAAA7e,EAAA8c,EAAA0B,IAAA,OAAAxe,EAAAA,EAAA6f,MAAAzC,EAAA/W,EAAAia,YAAAtgB,EAAAe,MAAAqc,EAAAmD,KAAAla,EAAAma,QAAA,WAAApD,EAAA0C,SAAA1C,EAAA0C,OAAA,OAAA1C,EAAAoB,IAAArB,GAAAC,EAAA2C,SAAA,KAAAlB,GAAA7e,GAAAod,EAAA0C,OAAA,QAAA1C,EAAAoB,IAAA,IAAA9Y,UAAA,oCAAA0X,EAAA2C,SAAA,KAAAlB,EAAA,UAAA4B,EAAAtD,GAAA,IAAA9W,EAAA,CAAAqa,OAAAvD,EAAA,SAAAA,IAAA9W,EAAAsa,SAAAxD,EAAA,SAAAA,IAAA9W,EAAAua,WAAAzD,EAAA,GAAA9W,EAAAwa,SAAA1D,EAAA,SAAA2D,WAAAphB,KAAA2G,EAAA,UAAA0a,EAAA5D,GAAA,IAAA9W,EAAA8W,EAAA6D,YAAA,GAAA3a,EAAAhE,KAAA,gBAAAgE,EAAAmY,IAAArB,EAAA6D,WAAA3a,CAAA,UAAAgY,EAAAlB,GAAA,KAAA2D,WAAA,EAAAJ,OAAA,SAAAvD,EAAA7C,QAAAmG,EAAA,WAAAQ,OAAA,YAAAzf,EAAA6E,GAAA,GAAAA,GAAA,KAAAA,EAAA,KAAA+W,EAAA/W,EAAArG,GAAA,GAAAod,EAAA,OAAAA,EAAAhW,KAAAf,GAAA,sBAAAA,EAAAka,KAAA,OAAAla,EAAA,IAAA6a,MAAA7a,EAAAjH,QAAA,KAAAT,GAAA,EAAAme,EAAA,SAAAyD,IAAA,OAAA5hB,EAAA0H,EAAAjH,QAAA,GAAAke,EAAAlW,KAAAf,EAAA1H,GAAA,OAAA4hB,EAAAxf,MAAAsF,EAAA1H,GAAA4hB,EAAAV,MAAA,EAAAU,EAAA,OAAAA,EAAAxf,MAAAoc,EAAAoD,EAAAV,MAAA,EAAAU,CAAA,SAAAzD,EAAAyD,KAAAzD,CAAA,YAAApX,UAAA+Z,GAAApZ,GAAA,2BAAAyY,EAAAzB,UAAA0B,EAAApgB,EAAAygB,EAAA,eAAAre,MAAAge,EAAAd,cAAA,IAAAtf,EAAAogB,EAAA,eAAAhe,MAAA+d,EAAAb,cAAA,IAAAa,EAAAqC,YAAApD,EAAAgB,EAAAlB,EAAA,qBAAAxX,EAAA+a,oBAAA,SAAAjE,GAAA,IAAA9W,EAAA,mBAAA8W,GAAAA,EAAAkE,YAAA,QAAAhb,IAAAA,IAAAyY,GAAA,uBAAAzY,EAAA8a,aAAA9a,EAAAuD,MAAA,EAAAvD,EAAAib,KAAA,SAAAnE,GAAA,OAAAje,OAAAqiB,eAAAriB,OAAAqiB,eAAApE,EAAA4B,IAAA5B,EAAAqE,UAAAzC,EAAAhB,EAAAZ,EAAAU,EAAA,sBAAAV,EAAAE,UAAAne,OAAA4W,OAAAsJ,GAAAjC,CAAA,EAAA9W,EAAAob,MAAA,SAAAtE,GAAA,OAAAuC,QAAAvC,EAAA,EAAAkC,EAAAE,EAAAlC,WAAAU,EAAAwB,EAAAlC,UAAAM,GAAA,0BAAAtX,EAAAkZ,cAAAA,EAAAlZ,EAAAqb,MAAA,SAAAvE,EAAAC,EAAAE,EAAA3e,EAAAme,QAAA,IAAAA,IAAAA,EAAA7Q,SAAA,IAAAjM,EAAA,IAAAuf,EAAApB,EAAAhB,EAAAC,EAAAE,EAAA3e,GAAAme,GAAA,OAAAzW,EAAA+a,oBAAAhE,GAAApd,EAAAA,EAAAugB,OAAAlU,MAAA,SAAA8Q,GAAA,OAAAA,EAAA0C,KAAA1C,EAAApc,MAAAf,EAAAugB,MAAA,KAAAlB,EAAAD,GAAArB,EAAAqB,EAAAvB,EAAA,aAAAE,EAAAqB,EAAApf,GAAA,0BAAA+d,EAAAqB,EAAA,qDAAA/Y,EAAAlH,KAAA,SAAAge,GAAA,IAAA9W,EAAAnH,OAAAie,GAAAC,EAAA,WAAAE,KAAAjX,EAAA+W,EAAA1d,KAAA4d,GAAA,OAAAF,EAAAuE,UAAA,SAAApB,IAAA,KAAAnD,EAAAhe,QAAA,KAAA+d,EAAAC,EAAAwE,MAAA,GAAAzE,KAAA9W,EAAA,OAAAka,EAAAxf,MAAAoc,EAAAoD,EAAAV,MAAA,EAAAU,CAAA,QAAAA,EAAAV,MAAA,EAAAU,CAAA,GAAAla,EAAA7E,OAAAA,EAAA6c,EAAAhB,UAAA,CAAAgE,YAAAhD,EAAA4C,MAAA,SAAA5a,GAAA,QAAAwb,KAAA,OAAAtB,KAAA,OAAAN,KAAA,KAAAC,MAAA/C,EAAA,KAAA0C,MAAA,OAAAE,SAAA,UAAAD,OAAA,YAAAtB,IAAArB,EAAA,KAAA2D,WAAAxG,QAAAyG,IAAA1a,EAAA,QAAA+W,KAAA,WAAAA,EAAA0E,OAAA,IAAAxE,EAAAlW,KAAA,KAAAgW,KAAA8D,OAAA9D,EAAA2E,MAAA,WAAA3E,GAAAD,EAAA,EAAA6E,KAAA,gBAAAnC,MAAA,MAAA1C,EAAA,KAAA2D,WAAA,GAAAE,WAAA,aAAA7D,EAAA9a,KAAA,MAAA8a,EAAAqB,IAAA,YAAAyD,IAAA,EAAA9B,kBAAA,SAAA9Z,GAAA,QAAAwZ,KAAA,MAAAxZ,EAAA,IAAA+W,EAAA,cAAA8E,EAAA5E,EAAA3e,GAAA,OAAAqB,EAAAqC,KAAA,QAAArC,EAAAwe,IAAAnY,EAAA+W,EAAAmD,KAAAjD,EAAA3e,IAAAye,EAAA0C,OAAA,OAAA1C,EAAAoB,IAAArB,KAAAxe,CAAA,SAAAA,EAAA,KAAAmiB,WAAA1hB,OAAA,EAAAT,GAAA,IAAAA,EAAA,KAAAme,EAAA,KAAAgE,WAAAniB,GAAAqB,EAAA8c,EAAAkE,WAAA,YAAAlE,EAAA4D,OAAA,OAAAwB,EAAA,UAAApF,EAAA4D,QAAA,KAAAmB,KAAA,KAAAlE,EAAAL,EAAAlW,KAAA0V,EAAA,YAAAe,EAAAP,EAAAlW,KAAA0V,EAAA,iBAAAa,GAAAE,EAAA,SAAAgE,KAAA/E,EAAA6D,SAAA,OAAAuB,EAAApF,EAAA6D,UAAA,WAAAkB,KAAA/E,EAAA8D,WAAA,OAAAsB,EAAApF,EAAA8D,WAAA,SAAAjD,GAAA,QAAAkE,KAAA/E,EAAA6D,SAAA,OAAAuB,EAAApF,EAAA6D,UAAA,YAAA9C,EAAA,UAAA+B,MAAA,kDAAAiC,KAAA/E,EAAA8D,WAAA,OAAAsB,EAAApF,EAAA8D,WAAA,KAAAR,OAAA,SAAAjD,EAAA9W,GAAA,QAAA+W,EAAA,KAAA0D,WAAA1hB,OAAA,EAAAge,GAAA,IAAAA,EAAA,KAAAze,EAAA,KAAAmiB,WAAA1D,GAAA,GAAAze,EAAA+hB,QAAA,KAAAmB,MAAAvE,EAAAlW,KAAAzI,EAAA,oBAAAkjB,KAAAljB,EAAAiiB,WAAA,KAAA9D,EAAAne,EAAA,OAAAme,IAAA,UAAAK,GAAA,aAAAA,IAAAL,EAAA4D,QAAAra,GAAAA,GAAAyW,EAAA8D,aAAA9D,EAAA,UAAA9c,EAAA8c,EAAAA,EAAAkE,WAAA,UAAAhhB,EAAAqC,KAAA8a,EAAAnd,EAAAwe,IAAAnY,EAAAyW,GAAA,KAAAgD,OAAA,YAAAS,KAAAzD,EAAA8D,WAAA/B,GAAA,KAAAsD,SAAAniB,EAAA,EAAAmiB,SAAA,SAAAhF,EAAA9W,GAAA,aAAA8W,EAAA9a,KAAA,MAAA8a,EAAAqB,IAAA,gBAAArB,EAAA9a,MAAA,aAAA8a,EAAA9a,KAAA,KAAAke,KAAApD,EAAAqB,IAAA,WAAArB,EAAA9a,MAAA,KAAA4f,KAAA,KAAAzD,IAAArB,EAAAqB,IAAA,KAAAsB,OAAA,cAAAS,KAAA,kBAAApD,EAAA9a,MAAAgE,IAAA,KAAAka,KAAAla,GAAAwY,CAAA,EAAAuD,OAAA,SAAAjF,GAAA,QAAA9W,EAAA,KAAAya,WAAA1hB,OAAA,EAAAiH,GAAA,IAAAA,EAAA,KAAA+W,EAAA,KAAA0D,WAAAza,GAAA,GAAA+W,EAAAwD,aAAAzD,EAAA,YAAAgF,SAAA/E,EAAA4D,WAAA5D,EAAAyD,UAAAE,EAAA3D,GAAAyB,CAAA,GAAAtS,MAAA,SAAA4Q,GAAA,QAAA9W,EAAA,KAAAya,WAAA1hB,OAAA,EAAAiH,GAAA,IAAAA,EAAA,KAAA+W,EAAA,KAAA0D,WAAAza,GAAA,GAAA+W,EAAAsD,SAAAvD,EAAA,KAAAG,EAAAF,EAAA4D,WAAA,aAAA1D,EAAAjb,KAAA,KAAA1D,EAAA2e,EAAAkB,IAAAuC,EAAA3D,EAAA,QAAAze,CAAA,YAAAihB,MAAA,0BAAAyC,cAAA,SAAAhc,EAAA+W,EAAAE,GAAA,YAAAyC,SAAA,CAAArC,SAAAlc,EAAA6E,GAAAia,WAAAlD,EAAAoD,QAAAlD,GAAA,cAAAwC,SAAA,KAAAtB,IAAArB,GAAA0B,CAAA,GAAAxY,CAAA,UAAAic,GAAAC,EAAArW,EAAAC,EAAAqW,EAAAC,EAAA3hB,EAAA0d,GAAA,QAAAkE,EAAAH,EAAAzhB,GAAA0d,GAAAzd,EAAA2hB,EAAA3hB,KAAA,OAAAsG,GAAA,YAAA8E,EAAA9E,EAAA,CAAAqb,EAAA7C,KAAA3T,EAAAnL,GAAAkL,QAAAC,QAAAnL,GAAAsL,KAAAmW,EAAAC,EAAA,CAQe,SAAeG,GAAiBC,EAAAC,GAAA,OAAAC,GAAAC,MAAC,KAAD7gB,UAAA,CA4B9C,SAAA4gB,KApCD,IAAAE,EAoCC,OApCDA,EAoCC/F,KAAAoE,MA5Bc,SAAA4B,EACd1kB,EAAKD,GAAA,IAAA6G,EAAAqT,EAAAnT,EAAAH,EAAA6W,EAAAC,EAAA,OAAAiB,KAAAiB,MAAA,SAAAiF,GAAA,cAAAA,EAAAvB,KAAAuB,EAAA7C,MAAA,OAwBJ,OAvBCnb,EAAY7G,EAAZ6G,aAAcqT,EAAYla,EAAZka,aAAcnT,EAAe/G,EAAf+G,gBAAiBH,EAAQ5G,EAAR4G,SAEzC6W,EACLvU,GAAAA,cAAC6Q,GAAI,CACJC,WAAY9Q,GAAAA,cAACuR,GAAU,CAACxa,MAAOA,IAC/Bga,gBAAiBmE,GAAWvX,GAC5BqT,aAAcA,EACdnT,gBAAiBA,EACjBH,SAAUA,IAIN8W,EAAc,SAACC,GACpB,IAAMwH,EAAcxH,EAAUyH,cAC7B,6BAKD,MAAO,CACNpK,gBAAiBwD,GAJQb,EAAUyH,cACnC,oCAIAnK,iBAAkBuD,GAAgB2G,GAEpC,EAACN,EAAA7C,KAAA,EAEYxE,GAAqBC,EAAWC,GAAY,cAAAmH,EAAAhD,OAAA,SAAAgD,EAAAnD,MAAA,wBAAAmD,EAAApB,OAAA,GAAAkB,EAAA,IACzDH,GApCD,eAAAS,EAAA,KAAAC,EAAAthB,UAAA,WAAA8J,SAAA,SAAAC,EAAAC,GAAA,IAAAoW,EAAAU,EAAAD,MAAAQ,EAAAC,GAAA,SAAAjB,EAAAzhB,GAAAuhB,GAAAC,EAAArW,EAAAC,EAAAqW,EAAAC,EAAA,OAAA1hB,EAAA,UAAA0hB,EAAAzmB,GAAAsmB,GAAAC,EAAArW,EAAAC,EAAAqW,EAAAC,EAAA,QAAAzmB,EAAA,CAAAwmB,OAAApgB,EAAA,KAoCC2gB,GAAAC,MAAA,KAAA7gB,UAAA,C,2YCpCD+a,GAAA,kBAAA7W,CAAA,MAAA8W,EAAA9W,EAAA,GAAA+W,EAAAle,OAAAme,UAAAC,EAAAF,EAAAG,eAAA5e,EAAAO,OAAAse,gBAAA,SAAAL,EAAA9W,EAAA+W,GAAAD,EAAA9W,GAAA+W,EAAArc,KAAA,EAAA+b,EAAA,mBAAAW,OAAAA,OAAA,GAAAzd,EAAA8c,EAAAY,UAAA,aAAAC,EAAAb,EAAAc,eAAA,kBAAAC,EAAAf,EAAAgB,aAAA,yBAAAC,EAAAZ,EAAA9W,EAAA+W,GAAA,OAAAle,OAAAse,eAAAL,EAAA9W,EAAA,CAAAtF,MAAAqc,EAAAY,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAf,EAAA9W,EAAA,KAAA0X,EAAA,aAAAZ,GAAAY,EAAA,SAAAZ,EAAA9W,EAAA+W,GAAA,OAAAD,EAAA9W,GAAA+W,CAAA,WAAAe,EAAAhB,EAAA9W,EAAA+W,EAAAE,GAAA,IAAAR,EAAAzW,GAAAA,EAAAgX,qBAAAe,EAAA/X,EAAA+X,EAAApe,EAAAd,OAAA4W,OAAAgH,EAAAO,WAAAM,EAAA,IAAAU,EAAAf,GAAA,WAAA3e,EAAAqB,EAAA,WAAAe,MAAAud,EAAAnB,EAAAC,EAAAO,KAAA3d,CAAA,UAAAue,EAAApB,EAAA9W,EAAA+W,GAAA,WAAA/a,KAAA,SAAAmc,IAAArB,EAAA/V,KAAAf,EAAA+W,GAAA,OAAAD,GAAA,OAAA9a,KAAA,QAAAmc,IAAArB,EAAA,EAAA9W,EAAA8X,KAAAA,EAAA,IAAAM,EAAA,iBAAAC,EAAA,iBAAAC,EAAA,YAAAC,EAAA,YAAAC,EAAA,YAAAT,IAAA,UAAAU,IAAA,UAAAC,IAAA,KAAAC,EAAA,GAAAjB,EAAAiB,EAAAhf,GAAA,8BAAAif,EAAA/f,OAAAggB,eAAAC,EAAAF,GAAAA,EAAAA,EAAAzd,EAAA,MAAA2d,GAAAA,IAAA/B,GAAAE,EAAAlW,KAAA+X,EAAAnf,KAAAgf,EAAAG,GAAA,IAAAC,EAAAL,EAAA1B,UAAAe,EAAAf,UAAAne,OAAA4W,OAAAkJ,GAAA,SAAAK,EAAAlC,GAAA,0BAAA7C,SAAA,SAAAjU,GAAA0X,EAAAZ,EAAA9W,GAAA,SAAA8W,GAAA,YAAAmC,QAAAjZ,EAAA8W,EAAA,gBAAAoC,EAAApC,EAAA9W,GAAA,SAAAmZ,EAAApC,EAAAze,EAAAme,EAAA9c,GAAA,IAAA2d,EAAAY,EAAApB,EAAAC,GAAAD,EAAAxe,GAAA,aAAAgf,EAAAtb,KAAA,KAAAwb,EAAAF,EAAAa,IAAAC,EAAAZ,EAAA9c,MAAA,OAAA0d,GAAA,UAAAgB,GAAAhB,IAAAnB,EAAAlW,KAAAqX,EAAA,WAAApY,EAAA6F,QAAAuS,EAAAiB,SAAArT,MAAA,SAAA8Q,GAAAqC,EAAA,OAAArC,EAAAL,EAAA9c,EAAA,aAAAmd,GAAAqC,EAAA,QAAArC,EAAAL,EAAA9c,EAAA,IAAAqG,EAAA6F,QAAAuS,GAAApS,MAAA,SAAA8Q,GAAAU,EAAA9c,MAAAoc,EAAAL,EAAAe,EAAA,aAAAV,GAAA,OAAAqC,EAAA,QAAArC,EAAAL,EAAA9c,EAAA,IAAAA,EAAA2d,EAAAa,IAAA,KAAApB,EAAAze,EAAA,gBAAAoC,MAAA,SAAAoc,EAAAG,GAAA,SAAAqC,IAAA,WAAAtZ,GAAA,SAAAA,EAAA+W,GAAAoC,EAAArC,EAAAG,EAAAjX,EAAA+W,EAAA,WAAAA,EAAAA,EAAAA,EAAA/Q,KAAAsT,EAAAA,GAAAA,GAAA,aAAArB,EAAAjY,EAAA+W,EAAAE,GAAA,IAAA3e,EAAA8f,EAAA,gBAAA3B,EAAA9c,GAAA,GAAArB,IAAAggB,EAAA,UAAAiB,MAAA,mCAAAjhB,IAAAigB,EAAA,cAAA9B,EAAA,MAAA9c,EAAA,OAAAe,MAAAoc,EAAA0C,MAAA,OAAAvC,EAAAwC,OAAAhD,EAAAQ,EAAAkB,IAAAxe,IAAA,KAAA2d,EAAAL,EAAAyC,SAAA,GAAApC,EAAA,KAAAE,EAAAmC,EAAArC,EAAAL,GAAA,GAAAO,EAAA,IAAAA,IAAAgB,EAAA,gBAAAhB,CAAA,cAAAP,EAAAwC,OAAAxC,EAAA2C,KAAA3C,EAAA4C,MAAA5C,EAAAkB,SAAA,aAAAlB,EAAAwC,OAAA,IAAAnhB,IAAA8f,EAAA,MAAA9f,EAAAigB,EAAAtB,EAAAkB,IAAAlB,EAAA6C,kBAAA7C,EAAAkB,IAAA,gBAAAlB,EAAAwC,QAAAxC,EAAA8C,OAAA,SAAA9C,EAAAkB,KAAA7f,EAAAggB,EAAA,IAAAK,EAAAT,EAAAlY,EAAA+W,EAAAE,GAAA,cAAA0B,EAAA3c,KAAA,IAAA1D,EAAA2e,EAAAuC,KAAAjB,EAAAF,EAAAM,EAAAR,MAAAK,EAAA,gBAAA9d,MAAAie,EAAAR,IAAAqB,KAAAvC,EAAAuC,KAAA,WAAAb,EAAA3c,OAAA1D,EAAAigB,EAAAtB,EAAAwC,OAAA,QAAAxC,EAAAkB,IAAAQ,EAAAR,IAAA,YAAAwB,EAAA3Z,EAAA+W,GAAA,IAAAE,EAAAF,EAAA0C,OAAAnhB,EAAA0H,EAAAqX,SAAAJ,GAAA,GAAA3e,IAAAwe,EAAA,OAAAC,EAAA2C,SAAA,eAAAzC,GAAAjX,EAAAqX,SAAA2C,SAAAjD,EAAA0C,OAAA,SAAA1C,EAAAoB,IAAArB,EAAA6C,EAAA3Z,EAAA+W,GAAA,UAAAA,EAAA0C,SAAA,WAAAxC,IAAAF,EAAA0C,OAAA,QAAA1C,EAAAoB,IAAA,IAAA9Y,UAAA,oCAAA4X,EAAA,aAAAuB,EAAA,IAAA/B,EAAAyB,EAAA5f,EAAA0H,EAAAqX,SAAAN,EAAAoB,KAAA,aAAA1B,EAAAza,KAAA,OAAA+a,EAAA0C,OAAA,QAAA1C,EAAAoB,IAAA1B,EAAA0B,IAAApB,EAAA2C,SAAA,KAAAlB,EAAA,IAAA7e,EAAA8c,EAAA0B,IAAA,OAAAxe,EAAAA,EAAA6f,MAAAzC,EAAA/W,EAAAia,YAAAtgB,EAAAe,MAAAqc,EAAAmD,KAAAla,EAAAma,QAAA,WAAApD,EAAA0C,SAAA1C,EAAA0C,OAAA,OAAA1C,EAAAoB,IAAArB,GAAAC,EAAA2C,SAAA,KAAAlB,GAAA7e,GAAAod,EAAA0C,OAAA,QAAA1C,EAAAoB,IAAA,IAAA9Y,UAAA,oCAAA0X,EAAA2C,SAAA,KAAAlB,EAAA,UAAA4B,EAAAtD,GAAA,IAAA9W,EAAA,CAAAqa,OAAAvD,EAAA,SAAAA,IAAA9W,EAAAsa,SAAAxD,EAAA,SAAAA,IAAA9W,EAAAua,WAAAzD,EAAA,GAAA9W,EAAAwa,SAAA1D,EAAA,SAAA2D,WAAAphB,KAAA2G,EAAA,UAAA0a,EAAA5D,GAAA,IAAA9W,EAAA8W,EAAA6D,YAAA,GAAA3a,EAAAhE,KAAA,gBAAAgE,EAAAmY,IAAArB,EAAA6D,WAAA3a,CAAA,UAAAgY,EAAAlB,GAAA,KAAA2D,WAAA,EAAAJ,OAAA,SAAAvD,EAAA7C,QAAAmG,EAAA,WAAAQ,OAAA,YAAAzf,EAAA6E,GAAA,GAAAA,GAAA,KAAAA,EAAA,KAAA+W,EAAA/W,EAAArG,GAAA,GAAAod,EAAA,OAAAA,EAAAhW,KAAAf,GAAA,sBAAAA,EAAAka,KAAA,OAAAla,EAAA,IAAA6a,MAAA7a,EAAAjH,QAAA,KAAAT,GAAA,EAAAme,EAAA,SAAAyD,IAAA,OAAA5hB,EAAA0H,EAAAjH,QAAA,GAAAke,EAAAlW,KAAAf,EAAA1H,GAAA,OAAA4hB,EAAAxf,MAAAsF,EAAA1H,GAAA4hB,EAAAV,MAAA,EAAAU,EAAA,OAAAA,EAAAxf,MAAAoc,EAAAoD,EAAAV,MAAA,EAAAU,CAAA,SAAAzD,EAAAyD,KAAAzD,CAAA,YAAApX,UAAA+Z,GAAApZ,GAAA,2BAAAyY,EAAAzB,UAAA0B,EAAApgB,EAAAygB,EAAA,eAAAre,MAAAge,EAAAd,cAAA,IAAAtf,EAAAogB,EAAA,eAAAhe,MAAA+d,EAAAb,cAAA,IAAAa,EAAAqC,YAAApD,EAAAgB,EAAAlB,EAAA,qBAAAxX,EAAA+a,oBAAA,SAAAjE,GAAA,IAAA9W,EAAA,mBAAA8W,GAAAA,EAAAkE,YAAA,QAAAhb,IAAAA,IAAAyY,GAAA,uBAAAzY,EAAA8a,aAAA9a,EAAAuD,MAAA,EAAAvD,EAAAib,KAAA,SAAAnE,GAAA,OAAAje,OAAAqiB,eAAAriB,OAAAqiB,eAAApE,EAAA4B,IAAA5B,EAAAqE,UAAAzC,EAAAhB,EAAAZ,EAAAU,EAAA,sBAAAV,EAAAE,UAAAne,OAAA4W,OAAAsJ,GAAAjC,CAAA,EAAA9W,EAAAob,MAAA,SAAAtE,GAAA,OAAAuC,QAAAvC,EAAA,EAAAkC,EAAAE,EAAAlC,WAAAU,EAAAwB,EAAAlC,UAAAM,GAAA,0BAAAtX,EAAAkZ,cAAAA,EAAAlZ,EAAAqb,MAAA,SAAAvE,EAAAC,EAAAE,EAAA3e,EAAAme,QAAA,IAAAA,IAAAA,EAAA7Q,SAAA,IAAAjM,EAAA,IAAAuf,EAAApB,EAAAhB,EAAAC,EAAAE,EAAA3e,GAAAme,GAAA,OAAAzW,EAAA+a,oBAAAhE,GAAApd,EAAAA,EAAAugB,OAAAlU,MAAA,SAAA8Q,GAAA,OAAAA,EAAA0C,KAAA1C,EAAApc,MAAAf,EAAAugB,MAAA,KAAAlB,EAAAD,GAAArB,EAAAqB,EAAAvB,EAAA,aAAAE,EAAAqB,EAAApf,GAAA,0BAAA+d,EAAAqB,EAAA,qDAAA/Y,EAAAlH,KAAA,SAAAge,GAAA,IAAA9W,EAAAnH,OAAAie,GAAAC,EAAA,WAAAE,KAAAjX,EAAA+W,EAAA1d,KAAA4d,GAAA,OAAAF,EAAAuE,UAAA,SAAApB,IAAA,KAAAnD,EAAAhe,QAAA,KAAA+d,EAAAC,EAAAwE,MAAA,GAAAzE,KAAA9W,EAAA,OAAAka,EAAAxf,MAAAoc,EAAAoD,EAAAV,MAAA,EAAAU,CAAA,QAAAA,EAAAV,MAAA,EAAAU,CAAA,GAAAla,EAAA7E,OAAAA,EAAA6c,EAAAhB,UAAA,CAAAgE,YAAAhD,EAAA4C,MAAA,SAAA5a,GAAA,QAAAwb,KAAA,OAAAtB,KAAA,OAAAN,KAAA,KAAAC,MAAA/C,EAAA,KAAA0C,MAAA,OAAAE,SAAA,UAAAD,OAAA,YAAAtB,IAAArB,EAAA,KAAA2D,WAAAxG,QAAAyG,IAAA1a,EAAA,QAAA+W,KAAA,WAAAA,EAAA0E,OAAA,IAAAxE,EAAAlW,KAAA,KAAAgW,KAAA8D,OAAA9D,EAAA2E,MAAA,WAAA3E,GAAAD,EAAA,EAAA6E,KAAA,gBAAAnC,MAAA,MAAA1C,EAAA,KAAA2D,WAAA,GAAAE,WAAA,aAAA7D,EAAA9a,KAAA,MAAA8a,EAAAqB,IAAA,YAAAyD,IAAA,EAAA9B,kBAAA,SAAA9Z,GAAA,QAAAwZ,KAAA,MAAAxZ,EAAA,IAAA+W,EAAA,cAAA8E,EAAA5E,EAAA3e,GAAA,OAAAqB,EAAAqC,KAAA,QAAArC,EAAAwe,IAAAnY,EAAA+W,EAAAmD,KAAAjD,EAAA3e,IAAAye,EAAA0C,OAAA,OAAA1C,EAAAoB,IAAArB,KAAAxe,CAAA,SAAAA,EAAA,KAAAmiB,WAAA1hB,OAAA,EAAAT,GAAA,IAAAA,EAAA,KAAAme,EAAA,KAAAgE,WAAAniB,GAAAqB,EAAA8c,EAAAkE,WAAA,YAAAlE,EAAA4D,OAAA,OAAAwB,EAAA,UAAApF,EAAA4D,QAAA,KAAAmB,KAAA,KAAAlE,EAAAL,EAAAlW,KAAA0V,EAAA,YAAAe,EAAAP,EAAAlW,KAAA0V,EAAA,iBAAAa,GAAAE,EAAA,SAAAgE,KAAA/E,EAAA6D,SAAA,OAAAuB,EAAApF,EAAA6D,UAAA,WAAAkB,KAAA/E,EAAA8D,WAAA,OAAAsB,EAAApF,EAAA8D,WAAA,SAAAjD,GAAA,QAAAkE,KAAA/E,EAAA6D,SAAA,OAAAuB,EAAApF,EAAA6D,UAAA,YAAA9C,EAAA,UAAA+B,MAAA,kDAAAiC,KAAA/E,EAAA8D,WAAA,OAAAsB,EAAApF,EAAA8D,WAAA,KAAAR,OAAA,SAAAjD,EAAA9W,GAAA,QAAA+W,EAAA,KAAA0D,WAAA1hB,OAAA,EAAAge,GAAA,IAAAA,EAAA,KAAAze,EAAA,KAAAmiB,WAAA1D,GAAA,GAAAze,EAAA+hB,QAAA,KAAAmB,MAAAvE,EAAAlW,KAAAzI,EAAA,oBAAAkjB,KAAAljB,EAAAiiB,WAAA,KAAA9D,EAAAne,EAAA,OAAAme,IAAA,UAAAK,GAAA,aAAAA,IAAAL,EAAA4D,QAAAra,GAAAA,GAAAyW,EAAA8D,aAAA9D,EAAA,UAAA9c,EAAA8c,EAAAA,EAAAkE,WAAA,UAAAhhB,EAAAqC,KAAA8a,EAAAnd,EAAAwe,IAAAnY,EAAAyW,GAAA,KAAAgD,OAAA,YAAAS,KAAAzD,EAAA8D,WAAA/B,GAAA,KAAAsD,SAAAniB,EAAA,EAAAmiB,SAAA,SAAAhF,EAAA9W,GAAA,aAAA8W,EAAA9a,KAAA,MAAA8a,EAAAqB,IAAA,gBAAArB,EAAA9a,MAAA,aAAA8a,EAAA9a,KAAA,KAAAke,KAAApD,EAAAqB,IAAA,WAAArB,EAAA9a,MAAA,KAAA4f,KAAA,KAAAzD,IAAArB,EAAAqB,IAAA,KAAAsB,OAAA,cAAAS,KAAA,kBAAApD,EAAA9a,MAAAgE,IAAA,KAAAka,KAAAla,GAAAwY,CAAA,EAAAuD,OAAA,SAAAjF,GAAA,QAAA9W,EAAA,KAAAya,WAAA1hB,OAAA,EAAAiH,GAAA,IAAAA,EAAA,KAAA+W,EAAA,KAAA0D,WAAAza,GAAA,GAAA+W,EAAAwD,aAAAzD,EAAA,YAAAgF,SAAA/E,EAAA4D,WAAA5D,EAAAyD,UAAAE,EAAA3D,GAAAyB,CAAA,GAAAtS,MAAA,SAAA4Q,GAAA,QAAA9W,EAAA,KAAAya,WAAA1hB,OAAA,EAAAiH,GAAA,IAAAA,EAAA,KAAA+W,EAAA,KAAA0D,WAAAza,GAAA,GAAA+W,EAAAsD,SAAAvD,EAAA,KAAAG,EAAAF,EAAA4D,WAAA,aAAA1D,EAAAjb,KAAA,KAAA1D,EAAA2e,EAAAkB,IAAAuC,EAAA3D,EAAA,QAAAze,CAAA,YAAAihB,MAAA,0BAAAyC,cAAA,SAAAhc,EAAA+W,EAAAE,GAAA,YAAAyC,SAAA,CAAArC,SAAAlc,EAAA6E,GAAAia,WAAAlD,EAAAoD,QAAAlD,GAAA,cAAAwC,SAAA,KAAAtB,IAAArB,GAAA0B,CAAA,GAAAxY,CAAA,UAAAic,GAAAC,EAAArW,EAAAC,EAAAqW,EAAAC,EAAA3hB,EAAA0d,GAAA,QAAAkE,EAAAH,EAAAzhB,GAAA0d,GAAAzd,EAAA2hB,EAAA3hB,KAAA,OAAAsG,GAAA,YAAA8E,EAAA9E,EAAA,CAAAqb,EAAA7C,KAAA3T,EAAAnL,GAAAkL,QAAAC,QAAAnL,GAAAsL,KAAAmW,EAAAC,EAAA,UAAAxQ,GAAA2R,EAAA9G,GAAA,gBAAA8G,GAAA,GAAAC,MAAAC,QAAAF,GAAA,OAAAA,CAAA,CAAAG,CAAAH,IAAA,SAAAxG,EAAAsB,GAAA,IAAAvB,EAAA,MAAAC,EAAA,yBAAAK,QAAAL,EAAAK,OAAAC,WAAAN,EAAA,uBAAAD,EAAA,KAAA9W,EAAAiX,EAAAR,EAAAe,EAAA7d,EAAA,GAAA2e,GAAA,EAAAhgB,GAAA,SAAAme,GAAAK,EAAAA,EAAA/V,KAAAgW,IAAAmD,KAAA,IAAA7B,EAAA,IAAAxf,OAAAie,KAAAA,EAAA,OAAAwB,GAAA,cAAAA,GAAAtY,EAAAyW,EAAA1V,KAAA+V,IAAA0C,QAAA7f,EAAAN,KAAA2G,EAAAtF,OAAAf,EAAAZ,SAAAsf,GAAAC,GAAA,UAAAvB,GAAAze,GAAA,EAAA2e,EAAAF,CAAA,iBAAAuB,GAAA,MAAAxB,EAAAkD,SAAAxC,EAAAV,EAAAkD,SAAAnhB,OAAA2e,KAAAA,GAAA,kBAAAlf,EAAA,MAAA2e,CAAA,SAAAtd,CAAA,EAAAgkB,CAAAJ,EAAA9G,IAAA,SAAAne,EAAAslB,GAAA,IAAAtlB,EAAA,2BAAAA,EAAA,OAAAulB,GAAAvlB,EAAAslB,GAAA,IAAA3G,EAAApe,OAAAme,UAAAvV,SAAAV,KAAAzI,GAAAojB,MAAA,iBAAAzE,GAAA3e,EAAA0iB,cAAA/D,EAAA3e,EAAA0iB,YAAAzX,MAAA,WAAA0T,GAAA,QAAAA,EAAA,OAAAuG,MAAAM,KAAAxlB,GAAA,iBAAA2e,GAAA,2CAAA8G,KAAA9G,GAAA,OAAA4G,GAAAvlB,EAAAslB,EAAA,CAAAI,CAAAT,EAAA9G,IAAA,qBAAApX,UAAA,6IAAA4e,EAAA,UAAAJ,GAAAN,EAAAW,IAAA,MAAAA,GAAAA,EAAAX,EAAAxkB,UAAAmlB,EAAAX,EAAAxkB,QAAA,QAAA0d,EAAA,EAAA0H,EAAA,IAAAX,MAAAU,GAAAzH,EAAAyH,EAAAzH,IAAA0H,EAAA1H,GAAA8G,EAAA9G,GAAA,OAAA0H,CAAA,CAUA,SAASC,GAASxd,GACjB,IAA0D+K,EAAAC,IAAZC,EAAAA,GAAAA,UAAS,IAAG,GAAnD4H,EAAe9H,EAAA,GAAE0S,EAAkB1S,EAAA,GAGzCxT,EAOGyI,EAPHzI,MACA2kB,EAMGlc,EANHkc,SACA/d,EAKG6B,EALH7B,aACAC,EAIG4B,EAJH5B,qBACAoT,EAGGxR,EAHHwR,aACAnT,EAEG2B,EAFH3B,gBACAH,EACG8B,EADH9B,UAGDqX,EAAAA,GAAAA,kBAAgB,WACf,IAAMmI,EAAa,eAxBrB1B,EAwBqB1kB,GAxBrB0kB,EAwBqB/F,KAAAoE,MAAG,SAAA4B,IAAA,IAAA0B,EAAAvB,EAAAwB,EAAArL,EAAAD,EAAAD,EAAAwL,EAAA,OAAA5H,KAAAiB,MAAA,SAAAiF,GAAA,cAAAA,EAAAvB,KAAAuB,EAAA7C,MAAA,OAMpB,OALKqE,EAAc,CACnBxf,aAAAA,EACAqT,aAAAA,EACAnT,gBAAAA,EACAH,SAAAA,GACAie,EAAA7C,KAAA,EAE4BqC,GAC5BO,EACAyB,GACA,OAHmB,OAAdvB,EAAcD,EAAAnD,KAAAmD,EAAA7C,KAAG,EAK6BwE,GACnDvmB,EACAomB,GACA,OAAAC,EAAAzB,EAAAnD,KAHOzG,EAAgBqL,EAAhBrL,iBAAkBD,EAAesL,EAAftL,gBAKpBD,EAAqB6J,EAAS9Z,KAAI,SAACyG,EAAM8I,GAAK,MAAM,CACzDpW,QAASsN,EACT0K,OAAQ6I,EAAezK,GACvB,IAEKkM,EAASzL,GAAkBC,EAAoB,CACpDlU,aAAAA,EACAC,qBAAAA,EACAmU,iBAAAA,EACAD,gBAAAA,IAGDmL,EAAmBI,GAAQ,yBAAA1B,EAAApB,OAAA,GAAAkB,EAAA,IAtD9B,eAAAM,EAAA,KAAAC,EAAAthB,UAAA,WAAA8J,SAAA,SAAAC,EAAAC,GAAA,IAAAoW,EAAAU,EAAAD,MAAAQ,EAAAC,GAAA,SAAAjB,EAAAzhB,GAAAuhB,GAAAC,EAAArW,EAAAC,EAAAqW,EAAAC,EAAA,OAAA1hB,EAAA,UAAA0hB,EAAAzmB,GAAAsmB,GAAAC,EAAArW,EAAAC,EAAAqW,EAAAC,EAAA,QAAAzmB,EAAA,CAAAwmB,OAAApgB,EAAA,MAuDG,kBA/BkB,OAAA7D,EAAAykB,MAAA,KAAA7gB,UAAA,KAgCnBwiB,GACD,GAAG,CACFxB,EACA3kB,EACA4G,EACAC,EACAoT,EACAnT,EACAH,IAGD,IAAM6f,EAAmBlL,EAAgBzQ,KAAI,SAAC4b,EAAarM,GAC1D,OACCnR,GAAAA,cAAC6Q,GAAI,CACJxX,IAAK8X,EACLL,WAAsB,IAAVK,EAAcnR,GAAAA,cAACuR,GAAU,CAACxa,MAAOA,IAAY,KACzDga,gBAAiBmE,GAAWvX,EAAc6f,GAC1CxM,aAAcA,EACdnT,gBAAiBA,EACjBH,SAAUA,GAGb,IAEA,OAAOsC,GAAAA,cAACA,GAAAA,SAAc,KAAEud,EACzB,CAEAP,GAASxc,UAAY,CACpBzJ,MAAO0J,KAAAA,OAAiBO,WACxB0a,SAAUjb,KAAAA,QAAkBA,KAAAA,QAAkBO,WAC9CrD,aAAc8C,KAAAA,OAAiBO,WAC/BpD,qBAAsB6C,KAAAA,KAAeO,WACrCgQ,aAAcvQ,KAAAA,OAAiBO,WAC/BnD,gBAAiB4C,KAAAA,OAAiBO,WAClCtD,SAAU+C,KAAAA,OAAiBO,YAG5B,Y,24BCrFA,SAASyc,GAAaje,GACrB,IAAQqJ,EAAiBrJ,EAAjBqJ,aAEF9B,EAAgBxM,IAAMiF,EAAO,CAClC,iBACA,kBACA,aAEA,YACA,wBACA,YACA,mBACA,sBAGKwG,EAAWY,GAAaiC,EAAa9N,SAAW,G,kWAAE7C,CAAA,GACpD6O,IAEE2U,EAAW1V,EAASoC,MAAM,sBAIhC,OACCpI,GAAAA,cAAA,OAAKC,UAHa,CAAC,eAAgB,iBAGRc,KAAK,KAAM,cAAa,gBAClDf,GAAAA,cAACgd,GAAQ,CACRjmB,MAAO8R,EAAa9R,OAAS,GAC7B2kB,SAAUA,EACV/d,aAAc6B,EAAM7B,aACpBC,qBAAsB4B,EAAM5B,qBAC5BoT,aAAcxR,EAAMwR,cAAgB,KACpCnT,gBAAiB2B,EAAM3B,gBACvBH,SAAU8B,EAAM9B,WAIpB,CACA+f,GAAajd,UAAY,CACxBnD,UAAWoD,KAAAA,OAAiBO,WAC5B6H,aAAcpI,KAAAA,OAAiBO,WAC/BrD,aAAc8C,KAAAA,OAAiBO,WAC/BpD,qBAAsB6C,KAAAA,KAAeO,WACrCgQ,aAAcvQ,KAAAA,OACd5C,gBAAiB4C,KAAAA,OAAiBO,WAClCtD,SAAU+C,KAAAA,OAAiBO,YAG5B,YCjDA,IAAemF,EAAAA,GAAAA,KAAQ,SAAC1R,GAAK,MAAM,CAElCyT,gBAAiBpO,GAChBrF,EACA,kBACA,wBAEDyI,eAAgBpD,GAAerF,EAAO,kBAAmB,kBACzD2I,WAAYtD,GAAerF,EAAO,kBAAmB,cAGrD4I,UAAWvD,GAAerF,EAAO,iBAAkB,aACnD6I,sBAAuBxD,GACtBrF,EACA,iBACA,yBAED8I,UAAWzD,GAAerF,EAAO,iBAAkB,aACnD+I,iBAAkB1D,GACjBrF,EACA,iBACA,oBAEDgJ,kBAAmB3D,GAClBrF,EACA,iBACA,qBAGDkJ,aAAc7D,GAAerF,EAAO,iBAAkB,gBACtDmJ,qBAAsB9D,GACrBrF,EACA,iBACA,wBAEDoJ,gBAAiB/D,GAAerF,EAAO,iBAAkB,mBAEzDiJ,SAAU5D,GAAerF,EAAO,iBAAkB,YAClD,GAtCD,CAsCIgpB,ICpCJ,SAASC,GAAOle,GAGf,OAFuBA,EAAf3J,YAGP,IAAK,OACJ,OAAOmK,GAAAA,cAACiQ,GAAiBzQ,GAC1B,IAAK,OACJ,OAAOQ,GAAAA,cAAC2Q,GAAiBnR,GAC1B,IAAK,QACJ,OAAOQ,GAAAA,cAACyd,GAAiBje,GAC1B,IAAK,SACJ,OAAOQ,GAAAA,cAACqQ,GAAkB7Q,GAE7B,CAEAke,GAAOld,UAAY,CAClB3K,WAAY4K,KAAAA,OAAiBO,YAG9B,YCjBA,IAAemF,EAAAA,GAAAA,KACd,SAAC1R,GAAK,MAAM,CACXoU,aAAczR,EAAO3C,EAAOqB,EAAcrB,KAAW,CAAC,EACtDoB,WAAYD,EAAcnB,GAC1B,GAED,CACCyG,WAAAA,IAPF,CASEwiB,I,iPChBF,SAASC,GAAane,GACrB,IAWIoe,EAAQC,EAERC,EAAiBC,EACjBC,EAAqBC,EAErBC,EAfHlnB,EAMGwI,EANHxI,GACAmnB,EAKG3e,EALH2e,WACAC,EAIG5e,EAJH4e,uBACAC,EAGG7e,EAHH6e,cACAC,EAEG9e,EAFH8e,UACAC,EACG/e,EADH+e,kBAGKjd,EAAa,CAAC,eAAgB,gBAAkBtK,GAShDwnB,EAAkBL,EAAWM,aACjCC,QAAO,SAACC,GACR,OAAQN,EAAc9kB,SAASolB,EAChC,IACC/c,KAAI,SAAC+c,GAGL,MAAoB,kBAFpBf,EAASO,EAAWA,WAAWQ,IAEpB/jB,KAmB0B,KAlBpCsjB,EAAuBN,EAAOgB,kBAC5BF,QAAO,SAACG,GACR,OAAQR,EAAc9kB,SAASslB,EAChC,IACCjd,KAAI,SAACid,GAOL,OANAhB,EAAcD,EAAOkB,gBAAgBD,GAErCZ,GACEG,EAAuB7kB,SAASolB,KAChCP,EAAuB7kB,SAASslB,GAE3BE,EACNF,EACAhB,EACAI,EAEF,KAEwBtmB,OACjB,MAGRomB,EAAiBQ,EAAkBX,EAAOhjB,MAC1CojB,GACEI,EAAuB7kB,SAASolB,GAGjC3e,GAAAA,cAAC+d,EAAc,CACd1kB,IAAKslB,EACLK,eAAgBhB,EAChB9c,MAAO0c,EAAO1c,MACdC,KAAMyc,EAAOzc,MAEZ+c,IAIIa,EACNJ,EACAf,GACCQ,EAAuB7kB,SAASolB,GAGpC,IAED,SAASI,EAAaJ,EAAUM,EAAaD,GAG5C,OAFAlB,EAAkBS,EAAkBU,EAAYrkB,MAG/CoF,GAAAA,cAAC8d,EAAehc,GAAA,CACfzI,IAAKslB,EACLK,eAAgBA,EAChBE,cAAeD,EAAYE,OAAO/lB,QAClCgmB,UAAWH,EAAYE,OAAO9lB,IAC9BgmB,YAAa7f,EAAMyf,EAAYE,OAAO9lB,KACtCilB,UAAWA,EACXpd,MAAO+d,EAAY/d,OACf+d,EAAYK,aAGnB,CAEA,OAAOtf,GAAAA,cAAA,OAAKC,UAAWqB,EAAWP,KAAK,MAAOyd,EAC/C,CAEAb,GAAand,UAAY,CACxBxJ,GAAIyJ,KAAAA,OAAiBO,WACrBmd,WAAY1d,KAAAA,OAAiBO,WAC7Bod,uBAAwB3d,KAAAA,QAAkBA,KAAAA,QAAkBO,WAC5Dqd,cAAe5d,KAAAA,QAAkBA,KAAAA,QAAkBO,WACnDsd,UAAW7d,KAAAA,KAAeO,WAC1Bud,kBAAmB9d,KAAAA,KAAeO,YAGnC,YCjGA,SAASue,GAAa/f,GACrB,IAAQwf,EAAgCxf,EAAhCwf,eAAgB7d,EAAgB3B,EAAhB2B,KAAMD,EAAU1B,EAAV0B,MAExBI,EAAa,CAAC,mBASpB,OAHQ0d,GAAkBxf,EAAMe,UAAYf,EAAMe,SAAS5I,OAAS,GAJnE2J,EAAWrJ,KAAK,qCAQhB+H,GAAAA,cAAA,OAAKC,UAAWqB,EAAWP,KAAK,MAC/Bf,GAAAA,cAAA,OAAKC,UAAW,yBACfD,GAAAA,cAAA,QAAMC,UAAW,6BAChBD,GAAAA,cAACa,GAAI,CAACC,SAAUK,KACT,IACPD,GAEFlB,GAAAA,cAAA,OAAKC,UAAW,2BAA4BT,EAAMe,UAGrD,CAEAgf,GAAa/e,UAAY,CACxBwe,eAAgBve,KAAAA,KAAeO,WAC/BG,KAAMV,KAAAA,OAAiBO,WACvBE,MAAOT,KAAAA,OAAiBO,WACxBT,SAAUE,KAAAA,QAAkBA,KAAAA,UAG7B8e,GAAand,aAAe,CAAC,EAE7B,Y,UClCA,SAASod,GAAahgB,GACrB,IAEIigB,EAFI9U,EAA+CnL,EAA/CmL,WAAYqU,EAAmCxf,EAAnCwf,eAAgB9d,EAAmB1B,EAAnB0B,MAAOK,EAAY/B,EAAZ+B,QAGrCD,EAAa,CAAC,yBAqBpB,OAnBIqJ,IACHrJ,EAAWrJ,KAAK,oCAChBwnB,EACCzf,GAAAA,cAAA,QAAMC,UAAW,mCAChBD,GAAAA,cAACa,GAAI,CAACC,SAAU,YAKdke,GACJ1d,EAAWrJ,KAAK,2CAUhB+H,GAAAA,cAAA,OAAKC,UAAWqB,EAAWP,KAAK,KAAMQ,QAPvC,WACKyd,GACHzd,GAEF,GAIEvB,GAAAA,cAAA,OAAKC,UAAW,+BACd0K,GAAc8U,GAEhBzf,GAAAA,cAAA,OAAKC,UAAW,+BAAgCiB,GAGnD,CAEAse,GAAahf,UAAY,CACxBmK,WAAYlK,KAAAA,KAAeO,WAC3Bge,eAAgBve,KAAAA,KAAeO,WAC/BE,MAAOT,KAAAA,OAAiBO,WACxBO,QAASd,KAAAA,KAAeO,YAGzB,SAAehB,GAAAA,KAAWwf,I,miCC1C1B,SAASE,GAAOlgB,GACf,IAA2C+K,EAAAC,IAAfC,EAAAA,GAAAA,WAAS,GAAM,GAApCkV,EAAMpV,EAAA,GAAEqV,EAASrV,EAAA,GAGvByU,EAOGxf,EAPHwf,eACA9d,EAMG1B,EANH0B,MACA2e,EAKGrgB,EALHqgB,WACAX,EAIG1f,EAJH0f,cACAE,EAGG5f,EAHH4f,UACAC,EAEG7f,EAFH6f,YACAf,EACG9e,EADH8e,UAGKhd,EAAa,CAAC,mBACf0d,GACJ1d,EAAWrJ,KAAK,qCAGjB,IAAM6I,EAAW6e,EAAS,sBAAwB,uBAMlD,IAAMG,EAAmBH,EACxB3f,GAAAA,cAAA,OAAKC,UAAW,2BACd4f,EAAWje,KAAI,SAACme,GAAM,OACtB/f,GAAAA,cAACwf,GAAY,CACZnmB,IAAK0mB,EAAOzmB,MACZ4H,MAAO6e,EAAO7e,MACdyJ,WAAY0U,IAAgBU,EAAOzmB,MACnC0lB,eAAgBA,EAChBzd,QAAS,WACR+c,EAAUY,EAAeE,EAAWW,EAAOzmB,MAC5C,GACC,KAX6B,KAgB5B0mB,EAAcH,EAAWI,MAC9B,SAACF,GAAM,OAAKV,IAAgBU,EAAOzmB,KAAK,IACvC4H,MAEIgf,EAAcP,EACnBze,EAEAlB,GAAAA,cAAA,YACCA,GAAAA,cAAA,YAAOkB,EAAQ,MACflB,GAAAA,cAAA,QAAMC,UAAW,qCACf+f,IAKJ,OACChgB,GAAAA,cAAA,OAAKC,UAAWqB,EAAWP,KAAK,MAC/Bf,GAAAA,cAAA,OACCC,UAAW,wBACXsB,QAASyd,EAvCZ,WACCY,GAAWD,EACZ,EAqC6C,MAE1C3f,GAAAA,cAAA,OACCC,UAAW,uBACX,cAAa,eAEZigB,GAEFlgB,GAAAA,cAAA,OAAKC,UAAW,0BACfD,GAAAA,cAAA,QAAMC,UAAW,wBAChBD,GAAAA,cAACa,GAAI,CAACC,SAAUA,OAIlBgf,EAGJ,CAEAJ,GAAOlf,UAAY,CAClBwe,eAAgBve,KAAAA,KAAeO,WAC/BE,MAAOT,KAAAA,OAAiBO,WACxB6e,WAAYpf,KAAAA,MAAgBO,WAC5Bke,cAAeze,KAAAA,OAAiBO,WAChCoe,UAAW3e,KAAAA,OAAiBO,WAC5Bqe,YAAa5e,KAAAA,OAAiBO,WAC9Bsd,UAAW7d,KAAAA,KAAeO,YAG3B,Y,UC1FA,SAASmf,GAAO3gB,GACf,IACCwf,EASGxf,EATHwf,eACA9d,EAQG1B,EARH0B,MACAkf,EAOG5gB,EAPH4gB,IACAC,EAMG7gB,EANH6gB,IACAC,EAKG9gB,EALH8gB,eACApB,EAIG1f,EAJH0f,cACAE,EAGG5f,EAHH4f,UACAC,EAEG7f,EAFH6f,YACAf,EACG9e,EADH8e,UAGKhd,EAAa,CAAC,mBACf0d,GACJ1d,EAAWrJ,KAAK,qCAOjB,IAAMsoB,EACLlB,EAAc,GAAKiB,EAAiB,IAAMjB,EAAcA,EAEzD,OACCrf,GAAAA,cAAA,OAAKC,UAAWqB,EAAWP,KAAK,MAC/Bf,GAAAA,cAAA,OAAKC,UAAW,wBAAyBiB,GACzClB,GAAAA,cAAA,OAAKC,UAAW,yBAA0BsgB,GAC1CvgB,GAAAA,cAAA,OAAKC,UAAW,yBACfD,GAAAA,cAAA,SACCogB,IAAKA,EACLC,IAAKA,EACL/mB,MAAO+lB,EACPzkB,KAAM,QACNsK,SAAU8Z,EAjBd,SAAsBpgB,GACrB0f,EAAUY,EAAeE,EAAWoB,OAAOC,SAAS7hB,EAAE6D,OAAOnJ,OAC9D,EAe8C,KAC1C4I,UAAW8c,KAKhB,CAEAmB,GAAO3f,UAAY,CAClBwe,eAAgBve,KAAAA,KAAeO,WAC/BE,MAAOT,KAAAA,OAAiBO,WACxBof,IAAK3f,KAAAA,OAAiBO,WACtBqf,IAAK5f,KAAAA,OAAiBO,WACtBsf,eAAgB7f,KAAAA,KAChBye,cAAeze,KAAAA,OAAiBO,WAChCoe,UAAW3e,KAAAA,OAAiBO,WAC5Bqe,YAAa5e,KAAAA,OAAiBO,WAC9Bsd,UAAW7d,KAAAA,KAAeO,YAG3Bmf,GAAO/d,aAAe,CACrBke,gBAAgB,GAGjB,SAAetgB,GAAAA,KAAWmgB,ICzD1B,SAASO,GAAOlhB,GACf,IACCwf,EAMGxf,EANHwf,eACA9d,EAKG1B,EALH0B,MACAge,EAIG1f,EAJH0f,cACAE,EAGG5f,EAHH4f,UACAC,EAEG7f,EAFH6f,YACAf,EACG9e,EADH8e,UAGKhd,EAAa,CAAC,mBAYpB,OAXAA,EAAWrJ,MACM,IAAhBonB,EAAuB,uBAAyB,yBAE5CL,GACJ1d,EAAWrJ,KAAK,qCAQhB+H,GAAAA,cAAA,OACCC,UAAWqB,EAAWP,KAAK,KAC3BQ,QAASyd,EAPX,WACCV,EAAUY,EAAeE,GAAYC,EACtC,EAK0C,MAExCrf,GAAAA,cAAA,OAAKC,UAAW,wBAAyBiB,GACzClB,GAAAA,cAAA,OAAKC,UAAW,wBACfD,GAAAA,cAAA,QAAMC,UAAW,wBAChBD,GAAAA,cAACa,GAAI,CACJC,UACiB,IAAhBue,EAAuB,YAAc,iBAO5C,CAEAqB,GAAOlgB,UAAY,CAClBwe,eAAgBve,KAAAA,KAAeO,WAC/BE,MAAOT,KAAAA,OAAiBO,WACxBke,cAAeze,KAAAA,OAAiBO,WAChCoe,UAAW3e,KAAAA,OAAiBO,WAC5Bqe,YAAa5e,KAAAA,KAAeO,WAC5Bsd,UAAW7d,KAAAA,KAAeO,YAG3B,SAAehB,GAAAA,KAAW0gB,I,uOC9C1B,SAASnC,GAAkB3jB,GAC1B,OAAQA,GACP,IAAK,eACJ,OAAO2kB,GACR,IAAK,SACJ,OAAOG,GACR,IAAK,SACJ,OAAOS,GACR,IAAK,SACJ,OAAOO,GAEV,CAEe,SAASC,GAAmBnhB,GAC1C,OACCQ,GAAAA,cAAA,OAAKC,UAAW,mBACfD,GAAAA,cAAC4gB,GAAW9e,GAAA,GAAKtC,EAAK,CAAE+e,kBAAmBA,MAG9C,C,uOC3BO,IAAM/iB,GAAiB,SAACpC,EAASC,EAAKC,GAC5C,IAAKF,EACJ,MAAM,IAAI6E,UAAU,0CAErB,IAAK5E,EACJ,MAAM,IAAI4E,UAAU,sCAOrB,OAAOD,GAAanD,EALJ,CACfzB,QAAAA,EACAC,IAAAA,EACAC,MAAAA,GAGF,E,8gECPA,SCJe,SACd6kB,EACA0C,EACAC,EACAvM,GAEA,OAAOpO,EAAAA,GAAAA,KACN,SAAC1R,GACA,IAMImpB,EACAC,EAPEkD,EAAe,CACpB5C,WAAAA,EACAC,uBAAwByC,EAA0BpsB,GAClD4pB,cAAeyC,EAAiBrsB,IAoBjC,OAdA0pB,EAAWM,aAAa5L,SAAQ,SAAC8L,IAChCf,EAASO,EAAWA,WAAWQ,IAExBC,kBAAkB/L,SAAQ,SAACgM,GACjChB,EAAcD,EAAOkB,gBAAgBD,GAErCkC,EAAalD,EAAYsB,OAAO9lB,KAAOS,GACtCrF,EACAopB,EAAYsB,OAAO/lB,QACnBykB,EAAYsB,OAAO9lB,IAErB,GACD,IAEO0nB,CACR,GAEA,CACCzC,UAAW9iB,IA7BN2K,CA+BLoO,EACH,CDlCA,CERA,CACCkK,aAAc,CAAC,oBAAqB,MAAO,cAAe,UAE1DN,WAAY,CACXphB,kBAAmB,CAClBmE,MAAO,qBACPtG,KAAM,eACNuG,KAAM,OAENyd,kBAAmB,CAAC,QAAS,eAC7BE,gBAAiB,CAChB9hB,MAAO,CACNkE,MAAO,QACPtG,KAAM,SACN0kB,YAAa,CACZO,WAAY,CACX,CACC7oB,GAAI,aACJkK,MAAO,mBACP5H,MAAO,SAER,CACCtC,GAAI,aACJkK,MAAO,SACP5H,MAAO,SAER,CACCtC,GAAI,aACJkK,MAAO,SACP5H,MAAO,WAIV6lB,OAAQ,CACP/lB,QAAS,oBACTC,IAAK,UAGP4D,YAAa,CACZiE,MAAO,gBACPtG,KAAM,SACN0kB,YAAa,CACZO,WAAY,CACX,CACC7oB,GAAI,kBACJkK,MAAO,YACP5H,MAAO,aAER,CACCtC,GAAI,qBACJkK,MAAO,qBACP5H,MAAO,gBAER,CACCtC,GAAI,iBACJkK,MAAO,WACP5H,MAAO,YAER,CACCtC,GAAI,WACJkK,MAAO,iBACP5H,MAAO,oBAIV6lB,OAAQ,CACP/lB,QAAS,oBACTC,IAAK,kBAMTA,IAAK,CACJ6H,MAAO,MACPtG,KAAM,eACNuG,KAAM,aAENyd,kBAAmB,CAClB,iBACA,uBACA,cAEDE,gBAAiB,CAChB5hB,eAAgB,CACfgE,MAAO,YACPtG,KAAM,SACN0kB,YAAa,CACZc,KAAM,GACNC,IAAK,GACLC,gBAAgB,GAEjBnB,OAAQ,CACP/lB,QAAS,kBACTC,IAAK,mBAIP8D,qBAAsB,CACrB+D,MAAO,wBACPtG,KAAM,SACN0kB,YAAa,CACZO,WAAY,CACX,CACC7oB,GAAI,2BACJkK,MAAO,OACP5H,MAAO,QAER,CACCtC,GAAI,4BACJkK,MAAO,IACP5H,MAAO,SAER,CACCtC,GAAI,2BACJkK,MAAO,IACP5H,MAAO,UAIV6lB,OAAQ,CACP/lB,QAAS,kBACTC,IAAK,yBAIP+D,WAAY,CACX8D,MAAO,eACPtG,KAAM,SACN0kB,YAAa,CACZO,WAAY,CACX,CACC7oB,GAAI,kBACJkK,MAAO,gBACP5H,MAAO,SAER,CACCtC,GAAI,kBACJkK,MAAO,iBACP5H,MAAO,WAIV6lB,OAAQ,CACP/lB,QAAS,kBACTC,IAAK,iBAMT2nB,YAAa,CACZ9f,MAAO,iBACPtG,KAAM,eACNuG,KAAM,OAENyd,kBAAmB,CAClB,YACA,wBACA,YACA,mBACA,qBAEDE,gBAAiB,CAChBzhB,UAAW,CACV6D,MAAO,OACPtG,KAAM,SACN0kB,YAAa,CACZO,WAAY,CACX,CACC7oB,GAAI,iBACJkK,MAAO,kBACP5H,MAAO,OAER,CACCtC,GAAI,oBACJkK,MAAO,cACP5H,MAAO,UAER,CACCtC,GAAI,oBACJkK,MAAO,cACP5H,MAAO,UAER,CACCtC,GAAI,kCACJkK,MAAO,4BACP5H,MAAO,0BAIV6lB,OAAQ,CACP/lB,QAAS,iBACTC,IAAK,cAGPiE,sBAAuB,CACtB4D,MAAO,2BACPtG,KAAM,SACNukB,OAAQ,CACP/lB,QAAS,iBACTC,IAAK,0BAGPkE,UAAW,CACV2D,MAAO,aACPtG,KAAM,SACNukB,OAAQ,CACP/lB,QAAS,iBACTC,IAAK,cAGPmE,iBAAkB,CACjB0D,MAAO,qBACPtG,KAAM,SACNukB,OAAQ,CACP/lB,QAAS,iBACTC,IAAK,qBAGPoE,kBAAmB,CAClByD,MAAO,yBACPtG,KAAM,SACNukB,OAAQ,CACP/lB,QAAS,iBACTC,IAAK,wBAMT5D,OAAQ,CACPmF,KAAM,eACNsG,MAAO,SACPC,KAAM,eAENyd,kBAAmB,CAClB,WACA,eACA,uBACA,mBAGDE,gBAAiB,CAChBphB,SAAU,CACTwD,MAAO,YACPtG,KAAM,SACN0kB,YAAa,CACZc,KAAM,EACNC,IAAK,EACLC,gBAAgB,GAEjBnB,OAAQ,CACP/lB,QAAS,iBACTC,IAAK,aAIPsE,aAAc,CACbuD,MAAO,UACPtG,KAAM,SACN0kB,YAAa,CACZc,IAAK,EACLC,IAAK,GAENlB,OAAQ,CACP/lB,QAAS,iBACTC,IAAK,iBAIPuE,qBAAsB,CACrBsD,MAAO,0BACPtG,KAAM,SACNukB,OAAQ,CACP/lB,QAAS,iBACTC,IAAK,yBAIPwE,gBAAiB,CAChBqD,MAAO,UACPtG,KAAM,SACN0kB,YAAa,CACZc,IAAK,EACLC,IAAK,GAENlB,OAAQ,CACP/lB,QAAS,iBACTC,IAAK,yBCxR8B,SAAC5E,GACzC,IAAM2pB,EAAyB,GAEzB/gB,EAAYvD,GAAerF,EAAO,iBAAkB,aACxC,WAAd4I,GACH+gB,EAAuBnmB,KAAK,yBAC5BmmB,EAAuBnmB,KAAK,aAC5BmmB,EAAuBnmB,KAAK,qBACJ,WAAdoF,GACV+gB,EAAuBnmB,KAAK,yBAG7B,IAAMgF,EAAcnD,GACnBrF,EACA,oBACA,eAcD,MAVmB,WAFAmB,EAAcnB,IAGZ,iBAAhBwI,IACHmhB,EAAuBnmB,KAAK,aAC5BmmB,EAAuBnmB,KAAK,yBAC5BmmB,EAAuBnmB,KAAK,aAC5BmmB,EAAuBnmB,KAAK,oBAC5BmmB,EAAuBnmB,KAAK,sBAIvBmmB,CACR,IAEgC,SAAC3pB,GAChC,IAAM4pB,EAAgB,GAEhB4C,EAAaxpB,OAAOC,KAAIQ,GAAAA,GAAAA,GAAC,CAAC,EAC5B8B,GAAmBvF,EAAO,sBAC1BuF,GAAmBvF,EAAO,mBAC1BuF,GAAmBvF,EAAO,qBAI9B,IADmBqB,EAAcrB,GAEhC,OAAOwsB,EAGR,IAAMprB,EAAaD,EAAcnB,GAE3BysB,EAAyBC,KAC9BF,EACA3mB,EAAkBzE,IAKnB,OAFAwoB,EAAcpmB,KAAIsjB,MAAlB8C,EAAa+C,GAASF,IAEf7C,CACR,IC1De,SAAmB7e,GACjC,OACCQ,GAAAA,cAAA,OAAKC,UAAW,yBACfD,GAAAA,cAAA,OAAKC,UAAW,qCACfD,GAAAA,cAAA,QAAMC,UAAW,8BAChBD,GAAAA,cAACa,GAAI,CAACC,SAAU,eAIlBd,GAAAA,cAAA,OAAKC,UAAW,oCACfD,GAAAA,cAAC2gB,GAAkB7e,GAAA,GAAKtC,EAAK,CAAExI,GAAI,gBAIvC,ICfe,SAASqqB,KACvB,IAAMC,EAAKthB,GAAAA,cAAC+L,GAAW,MACjBwV,EAAgBvhB,GAAAA,cAACwhB,GAAa,MAEpC,OACCxhB,GAAAA,cAACyhB,GAAS,CAAClb,QAAS+a,EAAI9a,SAAU+a,GACjCvhB,GAAAA,cAAC0d,GAAM,MAGV,CCXA,IAAMgE,GAAS,CACd,CACCC,KAAM,UACN3oB,OAAQ,kBAAM0kB,EAAM,IAIhBkE,GAAkB,IAAIC,GAAAA,EAAgBH,IAE5C,SACW,SAACC,GACV,OAAOC,GAAgBnd,QAAQkd,GAAM/c,MAAK,SAACkd,GAC1C,OCTsCC,EDSdD,ECRpBrN,EAAY/F,SAASsT,eAAe,YAC7BnN,EAAAA,GAAAA,GAAWJ,GAEnB3N,OACJ9G,GAAAA,cAACiiB,GAAAA,GAAQ,CAACnkB,MAAOC,MAChBiC,GAAAA,cAACA,GAAAA,WAAgB,KAChBA,GAAAA,cAACb,GAAa,KACba,GAAAA,cAAC+hB,EAAU,UARD,IAA0BA,EAClCtN,CDSL,GACD,E,qqC9EhBA1V,OAAOqE,iBAAiB,UAAWzE,IgFchC,kBAAmBujB,WACtBA,UAAUC,cACRC,SAAS,uBACTxd,MAAK,SAACyd,GAAG,OAAKC,QAAQC,IAAI,iBAAkBF,EAAI,IAChDvd,OAAM,SAACvQ,GAAG,OAAK+tB,QAAQC,IAAI,OAAQhuB,EAAI,IpFTnC,WACN,IAAMiuB,GAAiBC,EAAAA,EAAAA,KACtBC,EAAAA,EAAAA,IAAgBC,EAAAA,IAGXC,EAAiB3uB,IAGnB2uB,GAAkBA,EAAejsB,IAAMisB,EAAejsB,GAAGa,gBACrDorB,EAAejsB,GAAGa,QAAQqrB,UAclC,IAAM/pB,EAAegqB,IAAcF,EAAgBG,KAEnDjlB,IAAQklB,EAAAA,EAAAA,IAAiBC,GAAanqB,EAAc0pB,IAE9CU,WAAU,WACf1uB,EAAUsJ,GAAM8K,WACjB,GACD,CoFhCCua,GCFc,WACd,IAAMrlB,EAAQC,KACRtJ,EAAQqJ,EAAM8K,WAIK,IAFPvS,EAAa5B,GAEjBkD,SACbmG,EAAMQ,SAASqE,GAAW,6BAA8BygB,KACxDtlB,EAAMQ,SAASqE,GAAW,kBAAmB0gB,KAE/C,CDNCC,GAEOC,GAAkB,U,GEbtBC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqB/oB,IAAjBgpB,EACH,OAAOA,EAAaC,QAGrB,IAAIC,EAASL,EAAyBE,GAAY,CACjD1sB,GAAI0sB,EACJI,QAAQ,EACRF,QAAS,CAAC,GAUX,OANAG,EAAoBL,GAAU/jB,KAAKkkB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG3EI,EAAOC,QAAS,EAGTD,EAAOD,OACf,CAGAH,EAAoBO,EAAID,EhH5BpB/vB,EAAW,GACfyvB,EAAoBQ,EAAI,CAACC,EAAQC,EAAU3I,EAAI4I,KAC9C,IAAGD,EAAH,CAMA,IAAIE,EAAeC,IACnB,IAASjP,EAAI,EAAGA,EAAIrhB,EAAS2D,OAAQ0d,IAAK,CAGzC,IAFA,IAAK8O,EAAU3I,EAAI4I,GAAYpwB,EAASqhB,GACpCkP,GAAY,EACPC,EAAI,EAAGA,EAAIL,EAASxsB,OAAQ6sB,MACpB,EAAXJ,GAAsBC,GAAgBD,IAAa3sB,OAAOC,KAAK+rB,EAAoBQ,GAAGQ,OAAOprB,GAASoqB,EAAoBQ,EAAE5qB,GAAK8qB,EAASK,MAC9IL,EAASO,OAAOF,IAAK,IAErBD,GAAY,EACTH,EAAWC,IAAcA,EAAeD,IAG7C,GAAGG,EAAW,CACbvwB,EAAS0wB,OAAOrP,IAAK,GACrB,IAAIM,EAAI6F,SACE7gB,IAANgb,IAAiBuO,EAASvO,EAC/B,CACD,CACA,OAAOuO,CAnBP,CAJCE,EAAWA,GAAY,EACvB,IAAI,IAAI/O,EAAIrhB,EAAS2D,OAAQ0d,EAAI,GAAKrhB,EAASqhB,EAAI,GAAG,GAAK+O,EAAU/O,IAAKrhB,EAASqhB,GAAKrhB,EAASqhB,EAAI,GACrGrhB,EAASqhB,GAAK,CAAC8O,EAAU3I,EAAI4I,EAqBjB,EiHzBdX,EAAoB5N,EAAKgO,IACxB,IAAIc,EAASd,GAAUA,EAAOe,WAC7B,IAAOf,EAAiB,QACxB,IAAM,EAEP,OADAJ,EAAoBjM,EAAEmN,EAAQ,CAAEpsB,EAAGosB,IAC5BA,CAAM,ECLdlB,EAAoBjM,EAAI,CAACoM,EAASiB,KACjC,IAAI,IAAIxrB,KAAOwrB,EACXpB,EAAoBvsB,EAAE2tB,EAAYxrB,KAASoqB,EAAoBvsB,EAAE0sB,EAASvqB,IAC5E5B,OAAOse,eAAe6N,EAASvqB,EAAK,CAAEkd,YAAY,EAAM/C,IAAKqR,EAAWxrB,IAE1E,ECNDoqB,EAAoB9L,EAAI,WACvB,GAA0B,iBAAfmN,WAAyB,OAAOA,WAC3C,IACC,OAAOhlB,MAAQ,IAAIilB,SAAS,cAAb,EAChB,CAAE,MAAOnmB,GACR,GAAsB,iBAAXG,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxB0kB,EAAoBvsB,EAAI,CAAC8tB,EAAKC,IAAUxtB,OAAOme,UAAUE,eAAenW,KAAKqlB,EAAKC,GCAlFxB,EAAoByB,IAAOrB,IAC1BA,EAAOsB,MAAQ,GACVtB,EAAOtjB,WAAUsjB,EAAOtjB,SAAW,IACjCsjB,G,MCHR,IAAIuB,EACA3B,EAAoB9L,EAAE0N,gBAAeD,EAAY3B,EAAoB9L,EAAE1Y,SAAW,IACtF,IAAIyP,EAAW+U,EAAoB9L,EAAEjJ,SACrC,IAAK0W,GAAa1W,IACbA,EAAS4W,gBACZF,EAAY1W,EAAS4W,cAAcC,MAC/BH,GAAW,CACf,IAAII,EAAU9W,EAAS+W,qBAAqB,UAC5C,GAAGD,EAAQ7tB,OAEV,IADA,IAAI0d,EAAImQ,EAAQ7tB,OAAS,EAClB0d,GAAK,IAAM+P,GAAWA,EAAYI,EAAQnQ,KAAKkQ,GAExD,CAID,IAAKH,EAAW,MAAM,IAAIjN,MAAM,yDAChCiN,EAAYA,EAAUM,QAAQ,OAAQ,IAAIA,QAAQ,QAAS,IAAIA,QAAQ,YAAa,KACpFjC,EAAoBlM,EAAI6N,C,WCbxB,IAAIO,EAAkB,CACrB,IAAK,GAaNlC,EAAoBQ,EAAEO,EAAKoB,GAA0C,IAA7BD,EAAgBC,GAGxD,IAAIC,EAAuB,CAACC,EAA4B5mB,KACvD,IAGIwkB,EAAUkC,GAHTzB,EAAU4B,EAAaC,GAAW9mB,EAGhBmW,EAAI,EAC3B,GAAG8O,EAASvU,MAAM5Y,GAAgC,IAAxB2uB,EAAgB3uB,KAAa,CACtD,IAAI0sB,KAAYqC,EACZtC,EAAoBvsB,EAAE6uB,EAAarC,KACrCD,EAAoBO,EAAEN,GAAYqC,EAAYrC,IAGhD,GAAGsC,EAAS,IAAI9B,EAAS8B,EAAQvC,EAClC,CAEA,IADGqC,GAA4BA,EAA2B5mB,GACrDmW,EAAI8O,EAASxsB,OAAQ0d,IACzBuQ,EAAUzB,EAAS9O,GAChBoO,EAAoBvsB,EAAEyuB,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOnC,EAAoBQ,EAAEC,EAAO,EAGjC+B,EAAqBlK,KAAqC,+BAAIA,KAAqC,gCAAK,GAC5GkK,EAAmBpT,QAAQgT,EAAqBK,KAAK,KAAM,IAC3DD,EAAmBhuB,KAAO4tB,EAAqBK,KAAK,KAAMD,EAAmBhuB,KAAKiuB,KAAKD,G,KC7CvF,IAAIE,EAAsB1C,EAAoBQ,OAAEtpB,EAAW,CAAC,MAAM,IAAO8oB,EAAoB,UAC7F0C,EAAsB1C,EAAoBQ,EAAEkC,E","sources":["webpack://chord-chart-studio/webpack/runtime/chunk loaded","webpack://chord-chart-studio/./src/state/localStorage.js","webpack://chord-chart-studio/./src/core/clock.js","webpack://chord-chart-studio/./src/db/files/actionsTypes.js","webpack://chord-chart-studio/./src/db/options/actionsTypes.js","webpack://chord-chart-studio/./src/ui/layout/app/_state/actionsTypes.js","webpack://chord-chart-studio/./src/ui/layout/app/_state/selectors.js","webpack://chord-chart-studio/./src/fileManager/_state/selectors.js","webpack://chord-chart-studio/./src/db/files/selectors.js","webpack://chord-chart-studio/./src/db/options/editorModeOptions.js","webpack://chord-chart-studio/./src/db/files/reducers.js","webpack://chord-chart-studio/./src/fileManager/_state/actionsTypes.js","webpack://chord-chart-studio/./src/db/options/selectors.js","webpack://chord-chart-studio/./src/db/options/reducers.js","webpack://chord-chart-studio/./src/db/reducers.js","webpack://chord-chart-studio/./src/fileManager/_state/reducers.js","webpack://chord-chart-studio/./src/songImporter/_state/actionsTypes.js","webpack://chord-chart-studio/./src/core/stripTags.js","webpack://chord-chart-studio/./src/songImporter/_state/reducers.js","webpack://chord-chart-studio/./src/ui/layout/app/_state/reducers.js","webpack://chord-chart-studio/./src/ui/layout/reducers.js","webpack://chord-chart-studio/./src/ui/reducers.js","webpack://chord-chart-studio/./src/state/reducers.js","webpack://chord-chart-studio/./src/state/seed.js","webpack://chord-chart-studio/./src/db/seed.js","webpack://chord-chart-studio/./src/db/options/seed.js","webpack://chord-chart-studio/./src/state/store.js","webpack://chord-chart-studio/./src/core/createAction.js","webpack://chord-chart-studio/./src/songImporter/_state/actions.js","webpack://chord-chart-studio/./src/songImporter/getMessageHandlers.js","webpack://chord-chart-studio/./src/registerHandlers.js","webpack://chord-chart-studio/./src/ui/_components/ErrorBoundary.js","webpack://chord-chart-studio/./src/ui/layout/app/_state/actions.js","webpack://chord-chart-studio/./src/ui/sideBar/_components/Logo.js","webpack://chord-chart-studio/./src/ui/_components/Icon.js","webpack://chord-chart-studio/./src/ui/layout/app/_components/NavEntry.js","webpack://chord-chart-studio/./src/ui/layout/app/_components/Nav.js","webpack://chord-chart-studio/./src/ui/_components/Button.js","webpack://chord-chart-studio/./src/ui/sideBar/_components/UserGuide.js","webpack://chord-chart-studio/./src/ui/sideBar/_components/Versions.js","webpack://chord-chart-studio/./src/core/getVersions.js","webpack://chord-chart-studio/./src/db/files/actions.js","webpack://chord-chart-studio/./src/songImporter/_state/selectors.js","webpack://chord-chart-studio/./src/ui/_components/Modal.js","webpack://chord-chart-studio/./src/songImporter/_components/Header.js","webpack://chord-chart-studio/./src/songImporter/getUploadedFile.js","webpack://chord-chart-studio/./src/songImporter/_components/FilePicker.js","webpack://chord-chart-studio/./src/songImporter/_components/Input.js","webpack://chord-chart-studio/./src/songImporter/_components/PreviewError.js","webpack://chord-chart-studio/./src/songImporter/_components/InputFormatEntry.js","webpack://chord-chart-studio/./src/songImporter/_components/InputFormatSelector.js","webpack://chord-chart-studio/./src/songImporter/_components/SongImporter.js","webpack://chord-chart-studio/./src/songImporter/_containers/SongImporter.js","webpack://chord-chart-studio/./src/ui/layout/app/allNavEntries.js","webpack://chord-chart-studio/./src/ui/layout/app/_components/App.js","webpack://chord-chart-studio/./src/ui/layout/app/_containers/App.js","webpack://chord-chart-studio/./src/fileManager/_state/actions.js","webpack://chord-chart-studio/./src/core/renderSong.js","webpack://chord-chart-studio/./src/fileManager/exportSelectedFileAsText.js","webpack://chord-chart-studio/./src/ui/_components/ModalConfirm.js","webpack://chord-chart-studio/./src/fileManager/_components/DeleteConfirmModal.js","webpack://chord-chart-studio/./src/fileManager/_components/FileActionEntry.js","webpack://chord-chart-studio/./src/fileManager/_components/FileActions.js","webpack://chord-chart-studio/./src/fileManager/_components/FileEntry.js","webpack://chord-chart-studio/./src/fileManager/_components/FileManager.js","webpack://chord-chart-studio/./src/fileManager/_containers/FileManager.js","webpack://chord-chart-studio/./src/core/escapeHTML.js","webpack://chord-chart-studio/./src/songRenderers/_components/SongRenderer.js","webpack://chord-chart-studio/./src/songRenderers/_containers/SongRenderer.js","webpack://chord-chart-studio/./src/songRenderers/editorPreview/_components/EditorPreview.js","webpack://chord-chart-studio/./src/editor/songEditor/prosemirror/schema.js","webpack://chord-chart-studio/./src/editor/songEditor/prosemirror/converters/stateToText.js","webpack://chord-chart-studio/./src/editor/songEditor/prosemirror/converters/toSafeHtml.js","webpack://chord-chart-studio/./src/editor/songEditor/prosemirror/ProsemirrorEditorView.js","webpack://chord-chart-studio/./src/editor/songEditor/prosemirror/converters/textToDom.js","webpack://chord-chart-studio/./src/editor/songEditor/prosemirror/getPlugins.js","webpack://chord-chart-studio/./src/editor/songEditor/_components/EditorLayout.js","webpack://chord-chart-studio/./src/editor/songEditor/_containers/EditorLayout.js","webpack://chord-chart-studio/./src/songRenderers/exportPreview/_components/ExportPreview.js","webpack://chord-chart-studio/./src/songRenderers/playRenderer/_components/PlayRenderer.js","webpack://chord-chart-studio/./src/songRenderers/playRenderer/_containers/PlayRenderer.js","webpack://chord-chart-studio/./src/songRenderers/printPreview/_components/Page.js","webpack://chord-chart-studio/./src/songRenderers/printPreview/_components/PageHeader.js","webpack://chord-chart-studio/./src/songRenderers/printPreview/helpers/mapLinesToColumns.js","webpack://chord-chart-studio/./src/songRenderers/printPreview/helpers/getDimensionsFromDom.js","webpack://chord-chart-studio/./src/songRenderers/printPreview/helpers/padColumns.js","webpack://chord-chart-studio/./src/songRenderers/printPreview/helpers/element.js","webpack://chord-chart-studio/./src/songRenderers/printPreview/helpers/getAllLinesHeight.js","webpack://chord-chart-studio/./src/songRenderers/printPreview/helpers/getPagesHeight.js","webpack://chord-chart-studio/./src/songRenderers/printPreview/_components/AllPages.js","webpack://chord-chart-studio/./src/songRenderers/printPreview/_components/PrintPreview.js","webpack://chord-chart-studio/./src/songRenderers/printPreview/_containers/PrintPreview.js","webpack://chord-chart-studio/./src/editor/_components/Editor.js","webpack://chord-chart-studio/./src/editor/_containers/Editor.js","webpack://chord-chart-studio/./src/optionsPanels/_components/OptionsPanel.js","webpack://chord-chart-studio/./src/ui/sideBar/options/_components/OptionsGroup.js","webpack://chord-chart-studio/./src/ui/sideBar/options/_components/SelectChoice.js","webpack://chord-chart-studio/./src/ui/sideBar/options/_components/Select.js","webpack://chord-chart-studio/./src/ui/sideBar/options/_components/Slider.js","webpack://chord-chart-studio/./src/ui/sideBar/options/_components/Toggle.js","webpack://chord-chart-studio/./src/ui/sideBar/options/_components/SidebarOptionsPanel.js","webpack://chord-chart-studio/./src/db/options/actions.js","webpack://chord-chart-studio/./src/optionsPanels/rendering/_containers/Rendering.js","webpack://chord-chart-studio/./src/optionsPanels/_containers/OptionsPanelFactory.js","webpack://chord-chart-studio/./src/optionsPanels/rendering/allWidgets.js","webpack://chord-chart-studio/./src/optionsPanels/rendering/_state/selectors.js","webpack://chord-chart-studio/./src/optionsPanels/rendering/_components/Rendering.js","webpack://chord-chart-studio/./src/controllers/Editor.js","webpack://chord-chart-studio/./src/router.js","webpack://chord-chart-studio/./src/renderController.js","webpack://chord-chart-studio/./src/app.js","webpack://chord-chart-studio/./src/addSampleContent.js","webpack://chord-chart-studio/webpack/bootstrap","webpack://chord-chart-studio/webpack/runtime/compat get default export","webpack://chord-chart-studio/webpack/runtime/define property getters","webpack://chord-chart-studio/webpack/runtime/global","webpack://chord-chart-studio/webpack/runtime/hasOwnProperty shorthand","webpack://chord-chart-studio/webpack/runtime/node module decorator","webpack://chord-chart-studio/webpack/runtime/publicPath","webpack://chord-chart-studio/webpack/runtime/jsonp chunk loading","webpack://chord-chart-studio/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// @see https://egghead.io/lessons/javascript-redux-persisting-the-state-to-the-local-storage\n\nexport const loadState = () => {\n\ttry {\n\t\tconst serializedState = localStorage.getItem('state');\n\t\tif (!serializedState) {\n\t\t\treturn undefined;\n\t\t}\n\t\treturn JSON.parse(serializedState);\n\t} catch (err) {\n\t\treturn undefined;\n\t}\n};\n\nexport const saveState = (state) => {\n\ttry {\n\t\tconst serializedState = JSON.stringify(state);\n\t\tlocalStorage.setItem('state', serializedState);\n\t} catch (err) {\n\t\t// ignore write errors\n\t}\n};\n","export default function clock() {\n\treturn Date.now();\n}\n","export const DB_FILES_CREATE = 'db/files/Create';\nexport const DB_FILES_DELETE = 'db/files/Delete';\nexport const DB_FILES_IMPORT = 'db/files/Import';\nexport const DB_FILES_UPDATE = 'db/files/Update';\n","export const DB_OPTION_SET_OPTION_VALUE = 'db/options/setOptionValue';\n","export const UI_LAYOUT_APP_SET_EDITOR_MODE = 'ui/layout/app/setEditorMode';\nexport const UI_LAYOUT_APP_TOGGLE_LEFT_BAR = 'ui/layout/app/toggleLeftBar';\nexport const UI_LAYOUT_APP_TOGGLE_RIGHT_BAR = 'ui/layout/app/toggleRightBar';\n","export const isLeftBarCollapsed = (state) =>\n\tstate.ui.layout.app.isLeftBarCollapsed;\n\nexport const isRightBarCollapsed = (state) =>\n\tstate.ui.layout.app.isRightBarCollapsed;\n\nexport const getEditorMode = (state) => state.ui.layout.app.editorMode;\n","export const getSelectedId = (state) => state.fileManager.selected;\n\nexport const getRenamedId = (state) => state.fileManager.renamed;\n\nexport const getDefaultTitle = (state) => state.fileManager.defaultTitle;\n","import _map from 'lodash/map';\nimport _cloneDeep from 'lodash/cloneDeep';\nimport _isEqual from 'lodash/isEqual';\nimport _sortBy from 'lodash/sortBy';\n\nimport { createSelectorCreator, defaultMemoize } from 'reselect';\n\n// create a \"selector creator\" that uses lodash.isEqual instead of ===\nconst createDeepEqualSelector = createSelectorCreator(defaultMemoize, _isEqual);\n\n// return value should not change when file content changes\nexport const getAllTitles = createDeepEqualSelector(\n\t(state) =>\n\t\t_map(state.db.files.allFiles, ({ title, id }) => ({ title, id })),\n\t(allFiles) => _sortBy(allFiles, (o) => o.title.toLowerCase())\n);\n\nexport const getOne = (state, id) => {\n\treturn state.db.files.allFiles[id];\n};\n\nexport const getCategoryOptions = (state, id, category) => {\n\tconst file = state.db.files.allFiles[id];\n\n\tif (!file) return;\n\n\tif ((file.options || {})[category]) {\n\t\t// handle edge cases where we might have an empty object...\n\t\t// of course this _should_ never happen!\n\t\tif (Object.keys(file.options[category]).length === 0) return;\n\n\t\treturn _cloneDeep(file.options[category]);\n\t}\n};\n\nexport const getLatestModeOptions = (state, id) => {\n\tconst file = state.db.files.allFiles[id];\n\n\tif (!file) return;\n\n\tconst fileOptions = file.options || {};\n\n\tconst allOptionsPerMode = [];\n\tif (fileOptions.edit) allOptionsPerMode.push({ ...fileOptions.edit });\n\tif (fileOptions.play) allOptionsPerMode.push({ ...fileOptions.play });\n\tif (fileOptions.print) allOptionsPerMode.push({ ...fileOptions.print });\n\tif (fileOptions.export) allOptionsPerMode.push({ ...fileOptions.export });\n\n\tif (!allOptionsPerMode.length) return;\n\n\tallOptionsPerMode.sort((a, b) => a.updatedAt - b.updatedAt);\n\n\treturn allOptionsPerMode.reduce(\n\t\t(acc, modeOptions) => Object.assign(acc, modeOptions),\n\t\t{}\n\t);\n};\n","const editorModeOptions = {\n\tedit: ['theme', 'transposeValue', 'preferredAccidentals', 'symbolType'],\n\tplay: [\n\t\t'theme',\n\n\t\t'transposeValue',\n\t\t'preferredAccidentals',\n\t\t'symbolType',\n\n\t\t'chartType',\n\t\t'alignChordsWithLyrics',\n\t\t'alignBars',\n\t\t'autoRepeatChords',\n\t\t'expandSectionCopy',\n\n\t\t'columnsCount',\n\n\t\t'fontSize',\n\t],\n\tprint: [\n\t\t'transposeValue',\n\t\t'preferredAccidentals',\n\t\t'symbolType',\n\n\t\t'chartType',\n\t\t'alignChordsWithLyrics',\n\t\t'alignBars',\n\t\t'autoRepeatChords',\n\t\t'expandSectionCopy',\n\n\t\t'columnsCount',\n\t\t'columnBreakOnSection',\n\t\t'documentMargins',\n\n\t\t'fontSize',\n\t],\n\texport: [\n\t\t'chartFormat',\n\n\t\t'transposeValue',\n\t\t'preferredAccidentals',\n\t\t'symbolType',\n\n\t\t'chartType',\n\t\t'alignChordsWithLyrics',\n\t\t'alignBars',\n\t\t'autoRepeatChords',\n\t\t'expandSectionCopy',\n\t],\n};\n\nexport default editorModeOptions;\n","import _pick from 'lodash/pick';\nimport clock from '../../core/clock';\n\nimport * as actionTypes from './actionsTypes';\n\nimport { DB_OPTION_SET_OPTION_VALUE } from '../options/actionsTypes';\nimport { UI_LAYOUT_APP_SET_EDITOR_MODE } from '../../ui/layout/app/_state/actionsTypes';\nimport { getEditorMode } from '../../ui/layout/app/_state/selectors';\nimport { getSelectedId } from '../../fileManager/_state/selectors';\nimport { getLatestModeOptions, getCategoryOptions } from './selectors';\nimport editorModeOptions from '../options/editorModeOptions';\n\nconst initialState = {\n\tallFiles: {},\n};\n\nfunction createFile(state, action) {\n\tconst { id, title, content } = action.payload;\n\n\tconst allFiles = { ...state.allFiles };\n\tallFiles[id] = {\n\t\tid,\n\t\ttitle,\n\t\tcontent,\n\t};\n\n\treturn {\n\t\t...state,\n\t\tallFiles,\n\t};\n}\n\nfunction updateFile(state, action) {\n\tconst { id, title, content } = action.payload;\n\n\tif ((!title && typeof content === 'undefined') || !state.allFiles[id]) {\n\t\treturn state;\n\t}\n\n\tconst allFiles = { ...state.allFiles };\n\n\tallFiles[id] = { ...allFiles[id] };\n\n\tif (title) {\n\t\tallFiles[id].title = title;\n\t}\n\tif (typeof content !== 'undefined') {\n\t\tallFiles[id].content = content;\n\t}\n\treturn {\n\t\t...state,\n\t\tallFiles,\n\t};\n}\n\nfunction deleteFile(state, action) {\n\tconst { id } = action.payload;\n\n\tif (!id || !state.allFiles[id]) {\n\t\treturn state;\n\t}\n\n\tconst allFiles = { ...state.allFiles };\n\tdelete allFiles[id];\n\n\treturn {\n\t\t...state,\n\t\tallFiles,\n\t};\n}\n\n/**\n * Whenever the user set an option, we save it in the song entity, either:\n * - for the current editing mode if it is a formatting option\n * - in the preferences otherwise\n */\nfunction updateFileOption(state, action, fullState) {\n\tconst { context, key, value } = action.payload;\n\tconst id = getSelectedId(fullState);\n\tconst allFiles = { ...state.allFiles };\n\n\tif (\n\t\t['songFormatting', 'songPreferences'].includes(context) &&\n\t\tallFiles[id]\n\t) {\n\t\tconst editorMode = getEditorMode(fullState);\n\t\tconst optionCategory =\n\t\t\tcontext === 'songPreferences' ? 'preferences' : editorMode;\n\n\t\tallFiles[id] = addOption(allFiles[id], optionCategory, key, value);\n\t\treturn {\n\t\t\t...state,\n\t\t\tallFiles,\n\t\t};\n\t}\n\treturn state;\n}\n\nfunction addOption(fileState, category, key, value) {\n\treturn {\n\t\t...fileState,\n\t\toptions: {\n\t\t\t...fileState.options,\n\t\t\t[category]: {\n\t\t\t\t...(fileState.options || {})[category],\n\t\t\t\tupdatedAt: clock(),\n\t\t\t\t[key]: value,\n\t\t\t},\n\t\t},\n\t};\n}\n\n/**\n * When a user switch mode and the target mode does not have any saved settings yet,\n * we apply the latest saved settings (all modes merged) for a better user flow\n */\nfunction setEditorMode(state, action, fullState) {\n\tconst fileId = getSelectedId(fullState);\n\tconst nextMode = action.payload.mode;\n\n\tconst hasOptionsForNextMode = !!getCategoryOptions(\n\t\tfullState,\n\t\tfileId,\n\t\tnextMode\n\t);\n\n\tif (!hasOptionsForNextMode) {\n\t\tconst previousModeOptions = _pick(\n\t\t\tgetLatestModeOptions(fullState, fileId) || {},\n\t\t\teditorModeOptions[nextMode]\n\t\t);\n\n\t\tif (Object.keys(previousModeOptions).length) {\n\t\t\tpreviousModeOptions.updatedAt = clock();\n\t\t\tconst allFiles = { ...state.allFiles };\n\n\t\t\tallFiles[fileId] = {\n\t\t\t\t...allFiles[fileId],\n\t\t\t\toptions: {\n\t\t\t\t\t...allFiles[fileId].options,\n\t\t\t\t\t[nextMode]: previousModeOptions,\n\t\t\t\t},\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tallFiles,\n\t\t\t};\n\t\t}\n\t}\n\treturn state;\n}\n\nexport default (state = initialState, action = {}, fullState = {}) => {\n\tswitch (action.type) {\n\t\tcase actionTypes.DB_FILES_CREATE:\n\t\tcase actionTypes.DB_FILES_IMPORT:\n\t\t\treturn createFile(state, action);\n\t\tcase actionTypes.DB_FILES_UPDATE:\n\t\t\treturn updateFile(state, action);\n\t\tcase actionTypes.DB_FILES_DELETE:\n\t\t\treturn deleteFile(state, action);\n\t\tcase DB_OPTION_SET_OPTION_VALUE:\n\t\t\treturn updateFileOption(state, action, fullState);\n\t\tcase UI_LAYOUT_APP_SET_EDITOR_MODE:\n\t\t\treturn setEditorMode(state, action, fullState);\n\t}\n\treturn state;\n};\n","export const FILE_MANAGER_SELECT_FILE = 'fileManager/select';\nexport const FILE_MANAGER_ENABLE_RENAME = 'fileManager/enableRename';\n","import _cloneDeep from 'lodash/cloneDeep';\n\nexport const getOptionValue = (state, context, key) => {\n\tif (\n\t\t!state.db.options[context] ||\n\t\t!state.db.options[context].values ||\n\t\ttypeof state.db.options[context].values[key] === 'undefined'\n\t) {\n\t\treturn;\n\t}\n\treturn state.db.options[context].values[key];\n};\n\nexport const getAllOptionValues = (state, context) => {\n\tif (!state.db.options[context] || !state.db.options[context].values) {\n\t\treturn;\n\t}\n\treturn _cloneDeep(state.db.options[context].values);\n};\n\nexport const getOptionsDefaults = (state, context) => {\n\tif (!state.db.options[context] || !state.db.options[context].defaults) {\n\t\treturn;\n\t}\n\treturn _cloneDeep(state.db.options[context].defaults);\n};\n","import _pick from 'lodash/pick';\n\nimport * as actionTypes from './actionsTypes';\nimport { getCategoryOptions, getLatestModeOptions } from '../files/selectors';\n\nimport { UI_LAYOUT_APP_SET_EDITOR_MODE } from '../../ui/layout/app/_state/actionsTypes';\nimport { FILE_MANAGER_SELECT_FILE } from '../../fileManager/_state/actionsTypes';\nimport { getSelectedId } from '../../fileManager/_state/selectors';\nimport { getEditorMode } from '../../ui/layout/app/_state/selectors';\nimport { getOptionsDefaults } from './selectors';\nimport allEditorModeOptions from './editorModeOptions';\n\nconst initialState = {};\n\nfunction setOptionValue(state, action) {\n\tconst { context, key, value } = action.payload;\n\n\tif (\n\t\t!state[context] ||\n\t\t!state[context].values ||\n\t\ttypeof state[context].values[key] === 'undefined'\n\t) {\n\t\treturn state;\n\t}\n\n\tconst newState = {\n\t\t...state,\n\t\t[context]: {\n\t\t\t...state[context],\n\t\t\tvalues: { ...state[context].values },\n\t\t},\n\t};\n\tnewState[context].values[key] = value;\n\n\treturn newState;\n}\n\nfunction setEditorMode(state, action, fullState) {\n\tconst fileId = getSelectedId(fullState);\n\tconst nextMode = action.payload.mode;\n\n\tconst newOptions = getModeOptions(fullState, fileId, nextMode);\n\n\treturn {\n\t\t...state,\n\t\tsongFormatting: {\n\t\t\t...state.songFormatting,\n\t\t\tvalues: {\n\t\t\t\t...newOptions,\n\t\t\t},\n\t\t},\n\t};\n}\n\n// Get defined options for a mode, either because they exist for the given mode,\n// or building them from options stored in the other modes\nfunction getModeOptions(fullState, fileId, mode) {\n\tconst defaultOptions = getOptionsDefaults(fullState, 'songFormatting');\n\tlet editorModeOptions = getCategoryOptions(fullState, fileId, mode);\n\n\tif (!editorModeOptions) {\n\t\teditorModeOptions = getLatestModeOptions(fullState, fileId) || {};\n\t}\n\tdelete editorModeOptions.updatedAt;\n\n\t// take only relevant options for the mode\n\teditorModeOptions = _pick(editorModeOptions, allEditorModeOptions[mode]);\n\n\treturn Object.assign(defaultOptions, editorModeOptions);\n}\n\nfunction selectFile(state, action, fullState) {\n\tconst { id } = action.payload;\n\tconst editorMode = getEditorMode(fullState);\n\n\tconst newOptions = getModeOptions(fullState, id, editorMode);\n\n\tconst songPreferences =\n\t\tgetCategoryOptions(fullState, id, 'preferences') || {};\n\tdelete songPreferences.updatedAt;\n\n\tconst defaultPreferences = getOptionsDefaults(fullState, 'songPreferences');\n\n\tconst newPreferences = Object.assign(defaultPreferences, songPreferences);\n\n\treturn {\n\t\t...state,\n\t\tsongPreferences: {\n\t\t\t...state.songPreferences,\n\t\t\tvalues: {\n\t\t\t\t...newPreferences,\n\t\t\t},\n\t\t},\n\t\tsongFormatting: {\n\t\t\t...state.songFormatting,\n\t\t\tvalues: {\n\t\t\t\t...newOptions,\n\t\t\t},\n\t\t},\n\t};\n}\n\nexport default (state = initialState, action = {}, fullState = {}) => {\n\tswitch (action.type) {\n\t\tcase actionTypes.DB_OPTION_SET_OPTION_VALUE: {\n\t\t\treturn setOptionValue(state, action);\n\t\t}\n\t\tcase UI_LAYOUT_APP_SET_EDITOR_MODE: {\n\t\t\treturn setEditorMode(state, action, fullState);\n\t\t}\n\t\tcase FILE_MANAGER_SELECT_FILE: {\n\t\t\treturn selectFile(state, action, fullState);\n\t\t}\n\t}\n\treturn state;\n};\n","import combineSectionReducers from 'combine-section-reducers';\nimport files from './files/reducers';\nimport options from './options/reducers';\n\nexport default combineSectionReducers({\n\tfiles,\n\toptions,\n});\n","import {\n\tFILE_MANAGER_SELECT_FILE,\n\tFILE_MANAGER_ENABLE_RENAME,\n} from './actionsTypes';\n\nimport {\n\tDB_FILES_CREATE,\n\tDB_FILES_DELETE,\n\tDB_FILES_IMPORT,\n\tDB_FILES_UPDATE,\n} from '../../db/files/actionsTypes';\n\nconst initialState = {\n\tselected: '',\n\trenamed: '',\n\tdefaultTitle: '[untitled]',\n};\n\nexport default function reducers(state = initialState, action = {}) {\n\tswitch (action.type) {\n\t\tcase DB_FILES_CREATE: {\n\t\t\tconst { id } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: id,\n\t\t\t\trenamed: id,\n\t\t\t};\n\t\t}\n\n\t\tcase DB_FILES_IMPORT: {\n\t\t\tconst { id } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: id,\n\t\t\t\trenamed: '',\n\t\t\t};\n\t\t}\n\n\t\tcase DB_FILES_UPDATE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trenamed: '',\n\t\t\t};\n\t\t}\n\n\t\tcase DB_FILES_DELETE: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: '',\n\t\t\t\trenamed: '',\n\t\t\t};\n\t\t}\n\n\t\tcase FILE_MANAGER_SELECT_FILE: {\n\t\t\tconst { id } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tselected: id,\n\t\t\t\trenamed: id === state.renamed ? id : '',\n\t\t\t};\n\t\t}\n\n\t\tcase FILE_MANAGER_ENABLE_RENAME: {\n\t\t\tconst { id } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trenamed: id,\n\t\t\t};\n\t\t}\n\t}\n\treturn state;\n}\n","export const SONG_IMPORTER_IMPORT_CANCEL = 'songImporter/import/cancel';\nexport const SONG_IMPORTER_IMPORT_START = 'songImporter/import/start';\nexport const SONG_IMPORTER_SET_CONTENT = 'songImporter/setContent';\nexport const SONG_IMPORTER_SET_INPUT_FORMAT = 'songImporter/setInputFormat';\n","import domPurify from 'dompurify';\n\nexport default function stripTags(html) {\n\treturn domPurify.sanitize(html, {\n\t\tALLOWED_TAGS: ['#text'],\n\t\tKEEP_CONTENT: true,\n\t});\n}\n","import * as actions from './actionsTypes';\nimport { DB_FILES_IMPORT } from '../../db/files/actionsTypes';\n\nimport stripTags from '../../core/stripTags';\n\nconst initialState = {\n\tcontent: '',\n\tisFromWeb: false,\n\tisImporting: false,\n\tinputFormat: 'auto',\n\ttitle: '',\n};\n\nexport default function reducers(state = initialState, action = {}) {\n\tswitch (action.type) {\n\t\tcase actions.SONG_IMPORTER_SET_CONTENT: {\n\t\t\tconst { content, title = '' } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcontent: stripTags(content),\n\t\t\t\ttitle: title ? stripTags(title) : state.title,\n\t\t\t};\n\t\t}\n\n\t\tcase actions.SONG_IMPORTER_SET_INPUT_FORMAT: {\n\t\t\tconst { inputFormat } = action.payload;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinputFormat,\n\t\t\t};\n\t\t}\n\n\t\tcase DB_FILES_IMPORT:\n\t\tcase actions.SONG_IMPORTER_IMPORT_CANCEL: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcontent: '',\n\t\t\t\ttitle: '',\n\t\t\t\tisImporting: false,\n\t\t\t};\n\t\t}\n\n\t\tcase actions.SONG_IMPORTER_IMPORT_START: {\n\t\t\tconst { content, inputFormat, title, isFromWeb } = action.payload;\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisImporting: true,\n\t\t\t\tcontent: content ? stripTags(content) : '',\n\t\t\t\ttitle: title ? stripTags(title) : '',\n\t\t\t\tinputFormat: inputFormat || state.inputFormat,\n\t\t\t\tisFromWeb,\n\t\t\t};\n\t\t}\n\t}\n\treturn state;\n}\n","import {\n\tUI_LAYOUT_APP_TOGGLE_RIGHT_BAR,\n\tUI_LAYOUT_APP_TOGGLE_LEFT_BAR,\n\tUI_LAYOUT_APP_SET_EDITOR_MODE,\n} from './actionsTypes';\n\nimport {\n\tDB_FILES_CREATE,\n\tDB_FILES_IMPORT,\n\tDB_FILES_DELETE,\n} from '../../../../db/files/actionsTypes';\n\nconst initialState = {\n\tisLeftBarCollapsed: false,\n\tisRightBarCollapsed: false,\n\teditorMode: 'edit',\n\tactiveModal: 'none',\n};\n\nexport default function reducers(state = initialState, action = {}) {\n\tswitch (action.type) {\n\t\tcase UI_LAYOUT_APP_TOGGLE_LEFT_BAR: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLeftBarCollapsed: !state.isLeftBarCollapsed,\n\t\t\t};\n\t\t}\n\t\tcase UI_LAYOUT_APP_TOGGLE_RIGHT_BAR: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisRightBarCollapsed: !state.isRightBarCollapsed,\n\t\t\t};\n\t\t}\n\t\tcase UI_LAYOUT_APP_SET_EDITOR_MODE: {\n\t\t\tconst { mode } = action.payload;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\teditorMode: mode,\n\t\t\t};\n\t\t}\n\t\tcase DB_FILES_DELETE:\n\t\tcase DB_FILES_CREATE:\n\t\tcase DB_FILES_IMPORT: {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\teditorMode: 'edit',\n\t\t\t};\n\t\t}\n\t}\n\treturn state;\n}\n","import combineSectionReducers from 'combine-section-reducers';\nimport app from './app/_state/reducers';\n\nexport default combineSectionReducers({\n\tapp,\n});\n","import combineSectionReducers from 'combine-section-reducers';\nimport layout from './layout/reducers';\n\nexport default combineSectionReducers({\n\tlayout,\n});\n","import combineSectionReducers from 'combine-section-reducers';\n\nimport db from '../db/reducers';\nimport fileManager from '../fileManager/_state/reducers';\nimport songImporter from '../songImporter/_state/reducers';\nimport ui from '../ui/reducers';\n\nexport default combineSectionReducers({\n\tdb,\n\tfileManager,\n\tsongImporter,\n\tui,\n});\n","import db from '../db/seed';\n\nexport default {\n\tdb,\n};\n","import options from './options/seed';\n\nexport default {\n\toptions,\n};\n","export default {\n\t// editorPreferences are identical for all songs\n\teditorPreferences: {\n\t\tvalues: {\n\t\t\ttheme: 'dark1',\n\t\t\tchartFormat: 'chordmark',\n\t\t},\n\t\tdefaults: {\n\t\t\ttheme: 'dark1',\n\t\t\tchartFormat: 'chordmark',\n\t\t},\n\t\t//userDefaults: {},\n\t},\n\t// songPreferences are identical for all song rendering modes\n\t// therefore, they are only saved once for each song\n\tsongPreferences: {\n\t\tvalues: {\n\t\t\ttransposeValue: 0,\n\t\t\tpreferredAccidentals: 'auto',\n\t\t\tsymbolType: 'chord',\n\t\t},\n\t\tdefaults: {\n\t\t\ttransposeValue: 0,\n\t\t\tpreferredAccidentals: 'auto',\n\t\t\tsymbolType: 'chord',\n\t\t},\n\t\t//userDefaults: {},\n\t},\n\t// songFormatting options are specific to a given mode (print, export...)\n\t// they are saved separately for each song\n\tsongFormatting: {\n\t\tvalues: {\n\t\t\tchartType: 'all',\n\t\t\talignChordsWithLyrics: true,\n\t\t\talignBars: true,\n\t\t\tautoRepeatChords: true,\n\t\t\texpandSectionCopy: true,\n\n\t\t\tfontSize: 0,\n\t\t\tcolumnsCount: 1,\n\t\t\tcolumnBreakOnSection: true,\n\t\t\tdocumentMargins: 3,\n\t\t},\n\t\tdefaults: {\n\t\t\tchartType: 'all',\n\t\t\talignChordsWithLyrics: true,\n\t\t\talignBars: true,\n\t\t\tautoRepeatChords: true,\n\t\t\texpandSectionCopy: true,\n\n\t\t\tfontSize: 0,\n\t\t\tcolumnsCount: 1,\n\t\t\tcolumnBreakOnSection: true,\n\t\t\tdocumentMargins: 3,\n\t\t},\n\t\t//userDefaults: {},\n\t},\n};\n","import _defaultsDeep from 'lodash/defaultsDeep';\n\nimport { createStore as createReduxStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunkMiddleware from 'redux-thunk';\n\nimport { loadState, saveState } from './localStorage';\nimport allReducers from './reducers';\nimport seed from './seed';\n\nlet store;\n\nexport function createStore() {\n\tconst storeEnhancers = composeWithDevTools(\n\t\tapplyMiddleware(thunkMiddleware)\n\t);\n\n\tconst persistedState = loadState();\n\n\t// store migrations\n\tif (persistedState && persistedState.db && persistedState.db.options) {\n\t\tdelete persistedState.db.options.rendering; // remove old options before the options refactor in v0.9.0\n\t}\n\n\t/* Reset all options * /\n\tObject.keys(persistedState.db.files.allFiles).forEach((fileId) => {\n\t\tdelete persistedState.db.files.allFiles[fileId].options;\n\t});\n\tdelete persistedState.db.options;\n\t/**/\n\t/* misc * /\n\tdelete persistedState.songImporter;\n\tdelete persistedState.fileManager.selected;\n\t/**/\n\n\tconst initialState = _defaultsDeep(persistedState, seed);\n\n\tstore = createReduxStore(allReducers, initialState, storeEnhancers);\n\n\tstore.subscribe(() => {\n\t\tsaveState(store.getState());\n\t});\n}\n\nexport function getStore() {\n\treturn store;\n}\n","export default function createAction(type, payload) {\n\tif (!type) {\n\t\tthrow new TypeError('Cannot create an action without an action type');\n\t}\n\treturn {\n\t\ttype,\n\t\tpayload,\n\t};\n}\n","import * as actionsTypes from './actionsTypes';\n\nimport createAction from '../../core/createAction';\n\nexport const setContent = (content, title) =>\n\tcreateAction(actionsTypes.SONG_IMPORTER_SET_CONTENT, { content, title });\n\nexport const setInputFormat = (inputFormat) =>\n\tcreateAction(actionsTypes.SONG_IMPORTER_SET_INPUT_FORMAT, { inputFormat });\n\nexport const startImport = () =>\n\tcreateAction(actionsTypes.SONG_IMPORTER_IMPORT_START, {\n\t\tisFromWeb: false,\n\t});\n\nexport const startImportFromWeb = (inputFormat, content, title) =>\n\tcreateAction(actionsTypes.SONG_IMPORTER_IMPORT_START, {\n\t\tcontent,\n\t\tinputFormat,\n\t\ttitle,\n\t\tisFromWeb: true,\n\t});\n\nexport const cancelImport = () =>\n\tcreateAction(actionsTypes.SONG_IMPORTER_IMPORT_CANCEL);\n","import { getStore } from '../state/store';\nimport { startImportFromWeb } from './_state/actions';\n\n/**\n * @typedef {Object} WebsiteImportMessage\n * @type {Object}\n * @property {('ultimateGuitar')} source - website from which the tab comes from\n * @property {('chordPro|ChordOverLyrics')} inputFormat - format to pass to chord-mark-converter\n * @property {String} chordChart - content of the chord chart\n * @property {String} title - song title\n * @property {String} artist - song artist\n */\n\nconst songImporterHandlers = {\n\t/**\n\t *\n\t * @param {WebsiteImportMessage} message\n\t */\n\t'@CCS/IMPORT_TAB': (message) => {\n\t\tconst store = getStore();\n\n\t\tconst title = buildTitle(message.title, message.artist);\n\t\tstore.dispatch(\n\t\t\tstartImportFromWeb(message.inputFormat, message.chordChart, title)\n\t\t);\n\t},\n};\n\nconst buildTitle = (songTitle, artist) => {\n\treturn '_' + (artist ? artist + ' - ' : '') + songTitle;\n};\n\nexport default function getSongImporterHandlers() {\n\treturn songImporterHandlers;\n}\n","import getSongImporterHandlers from './songImporter/getMessageHandlers';\n\nexport default function registerHandlers() {\n\twindow.addEventListener('message', _handleMessage);\n}\n\n// unit test backdoor, not for public usage!\nexport const _handleMessage = (e) => {\n\tconst allHandlers = {\n\t\t...getSongImporterHandlers(),\n\t};\n\n\tif (e.source !== window || e.origin !== window.location.origin) {\n\t\treturn false;\n\t}\n\tconst message = e.data;\n\n\tif (typeof allHandlers[message.type] === 'function') {\n\t\tallHandlers[message.type](message.payload);\n\t}\n\treturn true;\n};\n","import './ErrorBoundary.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// source: https://codepen.io/gaearon/pen/wqvxGa?editors=0010\nclass ErrorBoundary extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = { error: null, errorInfo: null };\n\t}\n\n\tcomponentDidCatch(error, errorInfo) {\n\t\tthis.setState({\n\t\t\terror: error,\n\t\t\terrorInfo: errorInfo,\n\t\t});\n\t}\n\n\trender() {\n\t\tif (this.state.errorInfo) {\n\t\t\treturn (\n\t\t\t\t<div className={'ErrorBoundary'}>\n\t\t\t\t\t<h2>Something went wrong</h2>\n\t\t\t\t\t<details style={{ whiteSpace: 'pre-wrap' }} open={true}>\n\t\t\t\t\t\t{this.state.error && this.state.error.toString()}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t{this.state.errorInfo.componentStack}\n\t\t\t\t\t</details>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn this.props.children;\n\t}\n}\n\nErrorBoundary.propTypes = {\n\tchildren: PropTypes.any,\n};\n\nexport default ErrorBoundary;\n","import {\n\tUI_LAYOUT_APP_SET_EDITOR_MODE,\n\tUI_LAYOUT_APP_TOGGLE_LEFT_BAR,\n\tUI_LAYOUT_APP_TOGGLE_RIGHT_BAR,\n} from './actionsTypes';\n\nimport createAction from '../../../../core/createAction';\n\nexport const setEditorMode = (mode) =>\n\tcreateAction(UI_LAYOUT_APP_SET_EDITOR_MODE, { mode });\n\nexport const toggleLeftBar = () => createAction(UI_LAYOUT_APP_TOGGLE_LEFT_BAR);\n\nexport const toggleRightBar = () =>\n\tcreateAction(UI_LAYOUT_APP_TOGGLE_RIGHT_BAR);\n","import './Logo.scss';\n\nimport React from 'react';\n\nimport logoSvg from '../../../../../../logo/media/logo.svg';\n\nfunction Logo() {\n\treturn (\n\t\t<div className={'logo'}>\n\t\t\t<div className={'logo-isExpanded'}>\n\t\t\t\t<div className={'logo-img'}>\n\t\t\t\t\t<svg className=\"stacked\">\n\t\t\t\t\t\t<title>Chord Chart Studio</title>\n\t\t\t\t\t\t<use href={logoSvg + '#stacked'}></use>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default React.memo(Logo);\n","import './Icon.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Icon(props) {\n\tconst { iconName } = props;\n\n\tconst classList = ['icon', 'material-icons'];\n\n\treturn <i className={classList.join(' ')}>{iconName}</i>;\n}\n\nIcon.propTypes = {\n\ticonName: PropTypes.string.isRequired,\n};\n\nexport default React.memo(Icon);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon.js';\n\nfunction NavEntry(props) {\n\tconst { label, icon, editorMode, setEditorMode, isActive, isDisabled } =\n\t\tprops;\n\n\tconst classNames = ['mainNavEntry'];\n\n\tif (isActive) {\n\t\tclassNames.push('mainNavEntry-isActive');\n\t}\n\tif (isDisabled) {\n\t\tclassNames.push('mainNavEntry-isDisabled');\n\t}\n\n\tfunction handleClick() {\n\t\tif (!isDisabled) setEditorMode(editorMode);\n\t}\n\n\treturn (\n\t\t<li className={classNames.join(' ')} onClick={handleClick}>\n\t\t\t<span className={'mainNavEntry-icon'}>\n\t\t\t\t<Icon iconName={icon} />\n\t\t\t</span>\n\t\t\t{label}\n\t\t</li>\n\t);\n}\n\nNavEntry.propTypes = {\n\tlabel: PropTypes.string.isRequired,\n\ticon: PropTypes.string.isRequired,\n\teditorMode: PropTypes.string.isRequired,\n\tsetEditorMode: PropTypes.func.isRequired,\n\tisActive: PropTypes.bool.isRequired,\n\tisDisabled: PropTypes.bool.isRequired,\n};\n\nexport default React.memo(NavEntry);\n","import './Nav.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport NavEntry from './NavEntry.js';\n\nfunction Nav(props) {\n\tconst { currentMode, allEntries, setEditorMode, selectedId } = props;\n\n\treturn (\n\t\t<nav className={'mainNav'}>\n\t\t\t<ul className={'mainNav-entries'}>\n\t\t\t\t{allEntries.map((entry, key) => (\n\t\t\t\t\t<NavEntry\n\t\t\t\t\t\tkey={key}\n\t\t\t\t\t\tisActive={\n\t\t\t\t\t\t\t!!selectedId && entry.editorMode === currentMode\n\t\t\t\t\t\t}\n\t\t\t\t\t\tisDisabled={!selectedId}\n\t\t\t\t\t\tsetEditorMode={setEditorMode}\n\t\t\t\t\t\t{...entry}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</nav>\n\t);\n}\n\nNav.propTypes = {\n\tcurrentMode: PropTypes.string.isRequired,\n\tsetEditorMode: PropTypes.func.isRequired,\n\tselectedId: PropTypes.string,\n\tallEntries: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.string.isRequired,\n\t\t\tlabel: PropTypes.string.isRequired,\n\t\t\ticon: PropTypes.string.isRequired,\n\t\t\teditorMode: PropTypes.string.isRequired,\n\t\t})\n\t),\n};\n\nexport default React.memo(Nav);\n","import './Button.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Button = ({ children, isDisabled, buttonName, onClick, type }) => {\n\tconst allClassNames = ['Button'];\n\n\tif (type === 'primary') allClassNames.push('Button-primary');\n\tif (type === 'secondary') allClassNames.push('Button-secondary');\n\tif (isDisabled) allClassNames.push('Button-isDisabled');\n\n\treturn (\n\t\t<button\n\t\t\tclassName={allClassNames.join(' ')}\n\t\t\tdisabled={isDisabled}\n\t\t\ttype={'button'}\n\t\t\tname={buttonName}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{children}\n\t\t</button>\n\t);\n};\n\nButton.propTypes = {\n\tchildren: PropTypes.string.isRequired,\n\tisDisabled: PropTypes.bool,\n\tbuttonName: PropTypes.string.isRequired,\n\ttype: PropTypes.string.isRequired,\n\tonClick: PropTypes.func.isRequired,\n};\n\nButton.defaultProps = {\n\tisDisabled: false,\n};\n\nexport default Button;\n","import './UserGuide.scss';\n\nimport React from 'react';\n\nimport Button from '../../_components/Button';\nimport Icon from '../../_components/Icon.js';\n\nconst userGuideUrl = 'https://chord-chart-studio.netlify.app';\n\nconst UserGuide = () => {\n\tconst openUserGuide = () => {\n\t\twindow.open(userGuideUrl, '_blank').focus();\n\t};\n\n\treturn (\n\t\t<div className={'userGuide'}>\n\t\t\t<div className={'userGuide-isCollapsed'}>\n\t\t\t\t<Icon iconName={'help_outline'} />\n\t\t\t</div>\n\n\t\t\t<div className={'userGuide-isExpanded'}>\n\t\t\t\t<Button\n\t\t\t\t\tbuttonName={'userGuide'}\n\t\t\t\t\ttype={'primary'}\n\t\t\t\t\tonClick={openUserGuide}\n\t\t\t\t>\n\t\t\t\t\tUser Guide\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nUserGuide.propTypes = {};\n\nUserGuide.defaultProps = {};\n\nexport default React.memo(UserGuide);\n","import getVersions from '../../../core/getVersions';\nimport './Versions.scss';\n\nimport React from 'react';\n\nfunction Versions() {\n\tconst versions = getVersions();\n\treturn (\n\t\t<div className={'versions'}>\n\t\t\t<div className={'versions-isExpanded'}>\n\t\t\t\tChord Chart Studio {versions['chord-chart-studio']}\n\t\t\t\t<br />\n\t\t\t\tChordMark {versions['chord-mark']} <br />\n\t\t\t\tChordSymbol {versions['chord-symbol']} <br />\n\t\t\t\tLogo by{' '}\n\t\t\t\t<a\n\t\t\t\t\thref={'https://spelling-bee-assistant.app/'}\n\t\t\t\t\ttarget={'_blank'}\n\t\t\t\t\trel={'noreferrer'}\n\t\t\t\t>\n\t\t\t\t\tDieter Raber\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default React.memo(Versions);\n","export default () => ({\n\t'chord-chart-studio': 'v0.14.0',\n\t'chord-symbol': 'v4.0.0',\n\t'chord-mark': 'v0.15.0',\n});\n","import { v4 as uuidv4 } from 'uuid';\n\nimport createAction from '../../core/createAction';\nimport * as actionTypes from './actionsTypes';\n\nexport const createFile = (title, content = '') => {\n\tif (!title) {\n\t\tthrow new TypeError('Cannot create a file without title');\n\t}\n\tconst payload = {\n\t\tid: uuidv4(),\n\t\ttitle,\n\t\tcontent,\n\t};\n\treturn createAction(actionTypes.DB_FILES_CREATE, payload);\n};\n\nexport const importFile = (title, content = '') => {\n\tif (!title) {\n\t\tthrow new TypeError('Cannot import a file without title');\n\t}\n\tconst payload = {\n\t\tid: uuidv4(),\n\t\ttitle,\n\t\tcontent,\n\t};\n\treturn createAction(actionTypes.DB_FILES_IMPORT, payload);\n};\n\nexport const updateFile = (id, { title, content } = {}) => {\n\tif (!id) {\n\t\tthrow new TypeError('Cannot update a file without an id');\n\t}\n\tconst payload = {\n\t\tid,\n\t\ttitle,\n\t\tcontent,\n\t};\n\treturn createAction(actionTypes.DB_FILES_UPDATE, payload);\n};\n\nexport const deleteFile = (id) => {\n\treturn createAction(actionTypes.DB_FILES_DELETE, { id });\n};\n","export const getContent = (state) => state.songImporter.content;\n\nexport const getInputFormat = (state) => state.songImporter.inputFormat;\n\nexport const getTitle = (state) => state.songImporter.title;\n\nexport const isImporting = (state) => state.songImporter.isImporting;\n\nexport const isFromWeb = (state) => state.songImporter.isFromWeb;\n","import './Modal.scss';\n\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Modal(props) {\n\tconst { children, closeModal } = props;\n\n\tuseEffect(() => {\n\t\tconst handleKeyboard = (e) => {\n\t\t\tif (e.key === 'Escape') {\n\t\t\t\tcloseModal();\n\t\t\t}\n\t\t};\n\t\twindow.addEventListener('keyup', handleKeyboard);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('keyup', handleKeyboard);\n\t\t};\n\t});\n\n\treturn (\n\t\t<section className={'mod-ModalContainer'}>\n\t\t\t<div\n\t\t\t\tclassName={'mod-Overlay'}\n\t\t\t\tonClick={closeModal}\n\t\t\t\tdata-testid={'modal-overlay'}\n\t\t\t></div>\n\t\t\t<div className={'mod-ContentContainer'}>{children}</div>\n\t\t</section>\n\t);\n}\n\nModal.propTypes = {\n\tchildren: PropTypes.element.isRequired,\n\tcloseModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React from 'react';\nimport Button from '../../ui/_components/Button';\nimport PropTypes from 'prop-types';\n\nconst Header = ({\n\tcancelImport,\n\tchordMarkContent,\n\timportFile,\n\ttitle,\n\tcontent,\n\terror,\n}) => {\n\tconst headerTitle = title ? 'Import \"' + title + '\"' : 'Import song';\n\n\tconst doImport = () => {\n\t\timportFile(title || '[untitled]', chordMarkContent);\n\t};\n\n\treturn (\n\t\t<div className={'sim-Header_Container'}>\n\t\t\t<div className={'sim-Header_Title'}>{headerTitle}</div>\n\t\t\t<div className={'sim-Header_Actions'}>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={cancelImport}\n\t\t\t\t\tbuttonName={'cancel'}\n\t\t\t\t\ttype={'secondary'}\n\t\t\t\t>\n\t\t\t\t\tCANCEL\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tonClick={doImport}\n\t\t\t\t\tbuttonName={'import'}\n\t\t\t\t\ttype={'primary'}\n\t\t\t\t\tisDisabled={content === '' || error !== ''}\n\t\t\t\t>\n\t\t\t\t\tIMPORT\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nHeader.propTypes = {\n\tcancelImport: PropTypes.func.isRequired,\n\tchordMarkContent: PropTypes.string,\n\tcontent: PropTypes.string,\n\terror: PropTypes.string,\n\timportFile: PropTypes.func.isRequired,\n\ttitle: PropTypes.string,\n};\n\nexport default Header;\n","import { filesize } from 'filesize';\n\nconst maxFileSizeBytes = 50 * 1024;\n\nconst getUploadedFile = (fileList) => {\n\treturn new Promise((resolve, reject) => {\n\t\tif (fileList.length) {\n\t\t\tconst file = fileList[0];\n\n\t\t\tif (isOversized(file)) {\n\t\t\t\treject(getFileTooBigMsg(file.size));\n\t\t\t} else if (!isTextFile(file)) {\n\t\t\t\treject(getWrongFileTypeMsg(file));\n\t\t\t} else {\n\t\t\t\tfile.text()\n\t\t\t\t\t.then((fileContent) => {\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tcontent: fileContent,\n\t\t\t\t\t\t\ttitle: getSongTitle(file),\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\treject(e);\n\t\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\treject(getNoFileSelectedMsg());\n\t\t}\n\t});\n};\n\nconst getSongTitle = (file) => file.name.substr(0, file.name.lastIndexOf('.'));\n\nconst isOversized = (file) => file.size > maxFileSizeBytes;\n\n// files with extension such as .cho or .chopro are detected with an empty mimetype\n// so we consider them as text\nconst isTextFile = (file) =>\n\tfile.type.indexOf('text') === 0 || file.type.length === 0;\n\nconst getFileTooBigMsg = (actualSize) =>\n\t'The selected file is too big: ' +\n\tfilesize(actualSize, { round: 0 }) +\n\t' (maximum allowed file size is ' +\n\tfilesize(maxFileSizeBytes, { round: 0 }) +\n\t').';\n\nconst getWrongFileTypeMsg = (file) =>\n\t'Cannot import file of type ' + file.type + '.';\n\nconst getNoFileSelectedMsg = () => 'No file selected.';\n\nexport default getUploadedFile;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport getUploadedFile from '../getUploadedFile';\n\nconst allowedFiles = 'text/*,.cho,.crd,.chopro,.chord,.pro,.txt,.md';\n\nconst FilePicker = ({ setContent }) => {\n\tconst handleChange = (ev) => {\n\t\tgetUploadedFile(ev.target.files)\n\t\t\t.then((file) => {\n\t\t\t\tsetContent(file.content, file.title);\n\t\t\t})\n\t\t\t.catch((e) => {\n\t\t\t\tsetContent(e);\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<label\n\t\t\t\thtmlFor={'importSong-Input'}\n\t\t\t\tclassName={'Button Button-primary'}\n\t\t\t>\n\t\t\t\tSelect File\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\tid={'importSong-Input'}\n\t\t\t\tname={'importSong-Input'}\n\t\t\t\ttype={'file'}\n\t\t\t\tclassName={'sim-InputFile_Input'}\n\t\t\t\tonChange={handleChange}\n\t\t\t\taccept={allowedFiles}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nFilePicker.propTypes = {\n\tsetContent: PropTypes.func.isRequired,\n};\n\nexport default FilePicker;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../ui/_components/Icon';\n\nfunction Input(props) {\n\tconst { content, setContent, isDisabled } = props;\n\n\tconst onChange = (e) => {\n\t\tsetContent(e.target.value);\n\t};\n\n\tconst allClasses = ['sim-Input_Textarea'];\n\n\tif (isDisabled) {\n\t\tallClasses.push('sim-Input_Textarea-Disabled');\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className={'sim-Input_Header'}>\n\t\t\t\t<Icon iconName={'arrow_drop_down'} />\n\t\t\t\tCopy/paste below\n\t\t\t\t<Icon iconName={'arrow_drop_down'} />\n\t\t\t</div>\n\t\t\t<textarea\n\t\t\t\tclassName={allClasses.join(' ')}\n\t\t\t\tonChange={onChange}\n\t\t\t\tvalue={content}\n\t\t\t\tdisabled={isDisabled}\n\t\t\t\tdata-testid={'sim-input'}\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nInput.propTypes = {\n\tcontent: PropTypes.string.isRequired,\n\tisDisabled: PropTypes.bool.isRequired,\n\tsetContent: PropTypes.func.isRequired,\n};\n\nInput.defaultProps = {};\n\nexport default Input;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction PreviewError(props) {\n\tconst { inputFormat, error } = props;\n\n\treturn (\n\t\t<div className={'sim-Preview_Error'}>\n\t\t\t<p>\n\t\t\t\tThere was an error when trying to parse the song in the\n\t\t\t\tspecified input format ({inputFormat}).\n\t\t\t\t<br />\n\t\t\t\tPlease correct the input or try another format.\n\t\t\t\t<br />\n\t\t\t\tThe error was:\n\t\t\t</p>\n\t\t\t<p>&quot;{error}&quot;</p>\n\t\t\t<p>\n\t\t\t\tHint: most of the time, this is related to an unclosed\n\t\t\t\t&quot;[&quot; or &quot;&#123;&quot; or an unsupported ChordPro\n\t\t\t\tdirective\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n\nPreviewError.propTypes = {\n\terror: PropTypes.string,\n\tinputFormat: PropTypes.string.isRequired,\n};\n\nPreviewError.defaultProps = {};\n\nexport default PreviewError;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction InputFormatEntry(props) {\n\tconst { setInputFormat, inputFormat, id, label, isDisabled } = props;\n\n\tconst onChange = (e) => {\n\t\tif (!isDisabled) {\n\t\t\tsetInputFormat(e.target.value);\n\t\t}\n\t};\n\n\tconst allInputClasses = ['sim-InputFormat_Entry'];\n\tconst allLabelClasses = ['sim-InputFormat_Label'];\n\n\tif (isDisabled) {\n\t\tallInputClasses.push('sim-InputFormat_Entry-Disabled');\n\t\tallLabelClasses.push('sim-InputFormat_Label-Disabled');\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<input\n\t\t\t\tclassName={allInputClasses.join(' ')}\n\t\t\t\ttype={'radio'}\n\t\t\t\tname={'inputFormat'}\n\t\t\t\tid={id}\n\t\t\t\tvalue={id}\n\t\t\t\tonChange={onChange}\n\t\t\t\tchecked={inputFormat === id}\n\t\t\t\t// Disabled radio buttons do not show the currently selected option\n\t\t\t\t// disabled={isDisabled}\n\t\t\t/>\n\t\t\t<label className={allLabelClasses.join(' ')} htmlFor={id}>\n\t\t\t\t{label}\n\t\t\t</label>\n\t\t</>\n\t);\n}\n\nInputFormatEntry.propTypes = {\n\tsetInputFormat: PropTypes.func.isRequired,\n\tinputFormat: PropTypes.string.isRequired,\n\tid: PropTypes.string.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tisDisabled: PropTypes.bool.isRequired,\n};\n\nInputFormatEntry.defaultProps = {};\n\nexport default InputFormatEntry;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport InputFormatEntry from './InputFormatEntry';\n\nconst allEntries = [\n\t{\n\t\tid: 'auto',\n\t\tlabel: 'Detect',\n\t},\n\t{\n\t\tid: 'chordPro',\n\t\tlabel: 'Bracketed chords (ChordPro)',\n\t},\n\t{\n\t\tid: 'chordsOverLyrics',\n\t\tlabel: 'Chords over lyrics (Ultimate Guitar...)',\n\t},\n];\n\nfunction InputFormatSelector(props) {\n\tconst { setInputFormat, inputFormat, disableAll } = props;\n\n\tconst rendered = allEntries.map((entry) => (\n\t\t<InputFormatEntry\n\t\t\tsetInputFormat={setInputFormat}\n\t\t\tid={entry.id}\n\t\t\tkey={entry.id}\n\t\t\tlabel={entry.label}\n\t\t\tinputFormat={inputFormat}\n\t\t\tisDisabled={disableAll}\n\t\t/>\n\t));\n\n\treturn (\n\t\t<div className={'sim-InputFormat'}>\n\t\t\tInput format:\n\t\t\t{rendered}\n\t\t</div>\n\t);\n}\n\nInputFormatSelector.propTypes = {\n\tdisableAll: PropTypes.bool.isRequired,\n\tsetInputFormat: PropTypes.func.isRequired,\n\tinputFormat: PropTypes.string.isRequired,\n};\n\nInputFormatSelector.defaultProps = {};\n\nexport default InputFormatSelector;\n","import './SongImporter.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { convert2ChordMark } from 'chord-mark-converters';\n\nimport Modal from '../../ui/_components/Modal';\nimport Header from './Header';\nimport FilePicker from './FilePicker';\nimport Input from './Input';\nimport PreviewError from './PreviewError';\nimport InputFormatSelector from './InputFormatSelector';\nimport Icon from '../../ui/_components/Icon';\n\nfunction SongImporter(props) {\n\tconst {\n\t\tcancelImport,\n\t\tcontent,\n\t\timportFile,\n\t\tisFromWeb,\n\t\tisImporting,\n\t\tsetContent,\n\t\tsetInputFormat,\n\t\tinputFormat,\n\t\ttitle,\n\t} = props;\n\n\tif (!isImporting) return null;\n\n\tlet chordMarkContent = '';\n\tlet error = '';\n\n\ttry {\n\t\tchordMarkContent = convert2ChordMark(content, { inputFormat });\n\t} catch (e) {\n\t\terror = e.message;\n\t}\n\n\treturn (\n\t\t<Modal closeModal={cancelImport}>\n\t\t\t<div\n\t\t\t\tclassName={'sim-SongImporterModal_Container'}\n\t\t\t\tdata-testid={'song-importer'}\n\t\t\t>\n\t\t\t\t<Header\n\t\t\t\t\tcancelImport={cancelImport}\n\t\t\t\t\tchordMarkContent={chordMarkContent}\n\t\t\t\t\tcontent={content}\n\t\t\t\t\terror={error}\n\t\t\t\t\timportFile={importFile}\n\t\t\t\t\ttitle={title}\n\t\t\t\t/>\n\t\t\t\t<div className={'sim-TwoColumns_Container'}>\n\t\t\t\t\t<div className={'sim-Column_Container'}>\n\t\t\t\t\t\t<FilePicker setContent={setContent} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'sim-Column_Container'}>\n\t\t\t\t\t\t<InputFormatSelector\n\t\t\t\t\t\t\tinputFormat={inputFormat}\n\t\t\t\t\t\t\tsetInputFormat={setInputFormat}\n\t\t\t\t\t\t\tdisableAll={isFromWeb === true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={\n\t\t\t\t\t\t'sim-TwoColumns_Container sim-TwoColumns_Container-autoHeight'\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<div className={'sim-Column_Container'}>\n\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\tcontent={content}\n\t\t\t\t\t\t\tsetContent={setContent}\n\t\t\t\t\t\t\tisDisabled={isFromWeb}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={'sim-Column_Container'}>\n\t\t\t\t\t\t<div className={'sim-Input_Header'}>\n\t\t\t\t\t\t\t<Icon iconName={'arrow_drop_down'} />\n\t\t\t\t\t\t\tChordMark preview\n\t\t\t\t\t\t\t<Icon iconName={'arrow_drop_down'} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={'sim-Preview_Container'}\n\t\t\t\t\t\t\tdata-testid={'sim-preview'}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{!error ? (\n\t\t\t\t\t\t\t\tchordMarkContent\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<PreviewError\n\t\t\t\t\t\t\t\t\tinputFormat={inputFormat}\n\t\t\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n\nSongImporter.propTypes = {\n\tcancelImport: PropTypes.func.isRequired,\n\tcontent: PropTypes.string.isRequired,\n\timportFile: PropTypes.func.isRequired,\n\tisFromWeb: PropTypes.bool.isRequired,\n\tisImporting: PropTypes.bool.isRequired,\n\tsetContent: PropTypes.func.isRequired,\n\tsetInputFormat: PropTypes.func.isRequired,\n\tinputFormat: PropTypes.string.isRequired,\n\ttitle: PropTypes.string,\n};\n\nSongImporter.defaultProps = {};\n\nexport default SongImporter;\n","import { connect } from 'react-redux';\n\nimport { importFile } from '../../db/files/actions';\nimport { setContent, setInputFormat, cancelImport } from '../_state/actions';\nimport {\n\tgetInputFormat,\n\tgetContent,\n\tgetTitle,\n\tisImporting,\n\tisFromWeb,\n} from '../_state/selectors';\n\nimport SongImporter from '../_components/SongImporter';\n\nexport default connect(\n\t(state) => ({\n\t\tcontent: getContent(state),\n\t\tisFromWeb: isFromWeb(state),\n\t\tisImporting: isImporting(state),\n\t\tinputFormat: getInputFormat(state),\n\t\ttitle: getTitle(state),\n\t}),\n\n\t{\n\t\tsetContent,\n\t\tsetInputFormat,\n\t\tcancelImport,\n\t\timportFile,\n\t}\n)(SongImporter);\n","export default [\n\t{\n\t\tid: 'edit',\n\t\tlabel: 'Edit',\n\t\ticon: 'create',\n\t\teditorMode: 'edit',\n\t},\n\t{\n\t\tid: 'play',\n\t\tlabel: 'Screen view',\n\t\ticon: 'music_note',\n\t\teditorMode: 'play',\n\t},\n\t{\n\t\tid: 'print',\n\t\tlabel: 'Print/PDF Preview',\n\t\ticon: 'print',\n\t\teditorMode: 'print',\n\t},\n\t{\n\t\tid: 'export',\n\t\tlabel: 'Export Preview',\n\t\ticon: 'save_alt',\n\t\teditorMode: 'export',\n\t},\n];\n","import './App.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Logo from '../../../sideBar/_components/Logo';\nimport Nav from './Nav';\nimport UserGuide from '../../../sideBar/_components/UserGuide';\nimport Versions from '../../../sideBar/_components/Versions';\nimport Icon from '../../../_components/Icon';\nimport SongImporter from '../../../../songImporter/_containers/SongImporter';\n\nimport allNavEntries from '../allNavEntries';\n\nfunction App(props) {\n\tconst {\n\t\teditorMode,\n\t\tisLeftBarCollapsed,\n\t\tisRightBarCollapsed,\n\t\ttoggleLeftBar,\n\t\ttoggleRightBar,\n\t\tsetEditorMode,\n\t\tselectedId,\n\n\t\tleftBar,\n\t\trightBar,\n\t} = props;\n\n\tconst leftBarClassNames = ['leftBar'];\n\tif (isLeftBarCollapsed) {\n\t\tleftBarClassNames.push('leftBar-isCollapsed');\n\t}\n\n\tconst rightBarClassNames = ['rightBar'];\n\tif (isRightBarCollapsed) {\n\t\trightBarClassNames.push('rightBar-isCollapsed');\n\t}\n\n\treturn (\n\t\t<div className={'appLayout-wrapper'}>\n\t\t\t<SongImporter />\n\t\t\t<section className={leftBarClassNames.join(' ')}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={'leftBar-content'}\n\t\t\t\t\tonClick={isLeftBarCollapsed ? toggleLeftBar : null}\n\t\t\t\t>\n\t\t\t\t\t<Logo />\n\t\t\t\t\t{leftBar}\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={'leftBar-collapser'}\n\t\t\t\t\tonClick={toggleLeftBar}\n\t\t\t\t\tdata-testid={'leftBar-collapser'}\n\t\t\t\t>\n\t\t\t\t\t<span className={'leftBar-collapserIcon'}>\n\t\t\t\t\t\t<Icon iconName={'keyboard_arrow_left'} />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<section className={'appLayout-main'}>\n\t\t\t\t<section className={'appLayout-header'}>\n\t\t\t\t\t<Nav\n\t\t\t\t\t\tallEntries={allNavEntries}\n\t\t\t\t\t\tcurrentMode={editorMode}\n\t\t\t\t\t\tsetEditorMode={setEditorMode}\n\t\t\t\t\t\tselectedId={selectedId}\n\t\t\t\t\t/>\n\t\t\t\t</section>\n\t\t\t\t<section className={'appLayout-content'}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</section>\n\t\t\t</section>\n\t\t\t<section className={rightBarClassNames.join(' ')}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={'rightBar-collapser'}\n\t\t\t\t\tonClick={toggleRightBar}\n\t\t\t\t\tdata-testid={'rightBar-collapser'}\n\t\t\t\t>\n\t\t\t\t\t<span className={'rightBar-collapserIcon'}>\n\t\t\t\t\t\t<Icon iconName={'keyboard_arrow_right'} />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclassName={'rightBar-content'}\n\t\t\t\t\tonClick={isRightBarCollapsed ? toggleRightBar : null}\n\t\t\t\t>\n\t\t\t\t\t<UserGuide />\n\t\t\t\t\t{rightBar}\n\t\t\t\t\t<Versions />\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t</div>\n\t);\n}\n\nApp.propTypes = {\n\tchildren: PropTypes.element,\n\n\tisLeftBarCollapsed: PropTypes.bool,\n\tisRightBarCollapsed: PropTypes.bool,\n\tselectedId: PropTypes.string,\n\ttoggleLeftBar: PropTypes.func.isRequired,\n\ttoggleRightBar: PropTypes.func.isRequired,\n\n\teditorMode: PropTypes.string.isRequired,\n\tsetEditorMode: PropTypes.func.isRequired,\n\n\tleftBar: PropTypes.element.isRequired,\n\trightBar: PropTypes.element.isRequired,\n};\n\nApp.defaultProps = {\n\tisLeftBarCollapsed: false,\n\tisRightBarCollapsed: false,\n};\n\nexport default App;\n","import { connect } from 'react-redux';\n\nimport {\n\ttoggleLeftBar,\n\ttoggleRightBar,\n\tsetEditorMode,\n} from '../_state/actions';\nimport {\n\tisLeftBarCollapsed,\n\tisRightBarCollapsed,\n\tgetEditorMode,\n} from '../_state/selectors';\nimport { getSelectedId } from '../../../../fileManager/_state/selectors';\n\nimport App from '../_components/App';\n\nexport default connect(\n\t(state) => ({\n\t\teditorMode: getEditorMode(state),\n\t\tisLeftBarCollapsed: isLeftBarCollapsed(state),\n\t\tisRightBarCollapsed: isRightBarCollapsed(state),\n\t\tselectedId: getSelectedId(state),\n\t}),\n\n\t{\n\t\ttoggleLeftBar,\n\t\ttoggleRightBar,\n\t\tsetEditorMode,\n\t}\n)(App);\n","import createAction from '../../core/createAction';\n\nimport * as actionsTypes from './actionsTypes';\n\nexport const selectFile = (id) =>\n\tcreateAction(actionsTypes.FILE_MANAGER_SELECT_FILE, { id });\n\nexport const enableRename = (id) =>\n\tcreateAction(actionsTypes.FILE_MANAGER_ENABLE_RENAME, { id });\n","import { renderSong as renderSongCm, parseSong } from 'chord-mark';\nimport {\n\tchordMark2ChordPro,\n\tchordMark2UltimateGuitar,\n} from 'chord-mark-converters';\nimport { chordRendererFactory } from 'chord-symbol';\nimport chordSymbolUltimateGuitar from 'chord-symbol-ultimateguitar';\n\nimport stripTags from './stripTags';\n\nexport function renderAsText(\n\tsongTxt,\n\trenderOptions = {},\n\tuseChartFormat = false\n) {\n\treturn render(songTxt, renderOptions, useChartFormat, 'text');\n}\n\nexport function renderAsHtml(\n\tsongTxt,\n\trenderOptions = {},\n\tuseChartFormat = false\n) {\n\treturn render(songTxt, renderOptions, useChartFormat, 'html');\n}\n\nfunction render(songTxt, renderOptions, useChartFormat, outputFormat) {\n\tif (useChartFormat) {\n\t\tswitch (renderOptions.chartFormat) {\n\t\t\tcase 'chordmarkSrc':\n\t\t\t\treturn outputFormat === 'html' ? toHtml(songTxt) : songTxt;\n\t\t\tcase 'chordpro': {\n\t\t\t\trenderOptions.customRenderer = chordMark2ChordPro();\n\t\t\t\tconst cpTxt = renderSong(songTxt, renderOptions);\n\t\t\t\treturn outputFormat === 'html' ? toHtml(cpTxt) : cpTxt;\n\t\t\t}\n\t\t\tcase 'ultimateGuitar': {\n\t\t\t\trenderOptions.customRenderer = chordMark2UltimateGuitar();\n\t\t\t\tconst ugTxt =\n\t\t\t\t\trenderSong(songTxt, {\n\t\t\t\t\t\t...renderOptions,\n\t\t\t\t\t\tcustomRenderer: chordMark2UltimateGuitar(),\n\t\t\t\t\t\tprintBarSeparators: 'grids',\n\t\t\t\t\t\tprintChordsDuration: 'never',\n\t\t\t\t\t\tprintSubBeatDelimiters: false,\n\t\t\t\t\t\tprintInlineTimeSignatures: false,\n\t\t\t\t\t\tchordSymbolRenderer: chordRendererFactory({\n\t\t\t\t\t\t\tcustomFilters: [chordSymbolUltimateGuitar()],\n\t\t\t\t\t\t\tuseShortNamings: true,\n\t\t\t\t\t\t\taccidentalsType:\n\t\t\t\t\t\t\t\trenderOptions.accidentalsType === 'auto'\n\t\t\t\t\t\t\t\t\t? 'original'\n\t\t\t\t\t\t\t\t\t: renderOptions.accidentalsType,\n\t\t\t\t\t\t\t...renderOptions, // duh!\n\t\t\t\t\t\t}),\n\t\t\t\t\t}) +\n\t\t\t\t\t'\\n\\nCreated with Chord Chart Studio (https://chord-chart-studio.netlify.app)';\n\t\t\t\treturn outputFormat === 'html' ? toHtml(ugTxt) : ugTxt;\n\t\t\t}\n\t\t}\n\t}\n\n\tconst chordMarkHtml = renderSong(songTxt, renderOptions);\n\treturn outputFormat === 'html' ? chordMarkHtml : toText(chordMarkHtml);\n}\n\nfunction renderSong(songTxt, renderOptions) {\n\ttry {\n\t\tconst parsed = parseSong(songTxt);\n\t\treturn renderSongCm(parsed, {\n\t\t\t...renderOptions,\n\t\t});\n\t} catch (e) {\n\t\treturn e.message;\n\t}\n}\n\nfunction toHtml(text) {\n\treturn text\n\t\t.split('\\n')\n\t\t.map((line) => (line === '' ? '&nbsp;' : line))\n\t\t.map((line) => `<span class=\"txtLine\">${line}</span>`)\n\t\t.join('');\n}\n\nfunction toText(html) {\n\tconst allLines = html.match(/(<p.*?>.*?<\\/p>)/gm);\n\n\treturn allLines\n\t\t.map((line) => stripTags(line))\n\t\t.map((line) => (line === '&nbsp;' ? '' : line))\n\t\t.join('\\n');\n}\n","import { saveAs } from 'file-saver';\nimport { getStore } from '../state/store';\n\nimport { getSelectedId } from './_state/selectors';\nimport { getOne } from '../db/files/selectors';\nimport { getOptionValue } from '../db/options/selectors';\n\nimport { renderAsText } from '../core/renderSong';\n\nexport default function exportSelectedFileAsText() {\n\tconst store = getStore();\n\tconst state = store.getState();\n\n\tconst selectedId = getSelectedId(state);\n\tconst selectedFile = getOne(state, selectedId);\n\n\tconst renderOptions = {\n\t\tchartFormat: getOptionValue(state, 'editorPreferences', 'chartFormat'),\n\n\t\ttransposeValue: getOptionValue(\n\t\t\tstate,\n\t\t\t'songPreferences',\n\t\t\t'transposeValue'\n\t\t),\n\t\taccidentalsType: getOptionValue(\n\t\t\tstate,\n\t\t\t'songPreferences',\n\t\t\t'accidentalsType'\n\t\t),\n\t\tsymbolType: getOptionValue(state, 'songPreferences', 'symbolType'),\n\n\t\tchartType: getOptionValue(state, 'songFormatting', 'chartType'),\n\t\talignChordsWithLyrics: getOptionValue(\n\t\t\tstate,\n\t\t\t'songFormatting',\n\t\t\t'alignChordsWithLyrics'\n\t\t),\n\t\talignBars: getOptionValue(state, 'songFormatting', 'alignBars'),\n\t\tautoRepeatChords: getOptionValue(\n\t\t\tstate,\n\t\t\t'songFormatting',\n\t\t\t'autoRepeatChords'\n\t\t),\n\t\texpandSectionCopy: getOptionValue(\n\t\t\tstate,\n\t\t\t'songFormatting',\n\t\t\t'expandSectionCopy'\n\t\t),\n\t};\n\n\tconst fileContent = renderAsText(selectedFile.content, renderOptions, true);\n\tconst fileExt = renderOptions.chartFormat === 'chordpro' ? 'cho' : 'txt';\n\tconst fileName = `${selectedFile.title}.${fileExt}`;\n\n\tconst blob = new Blob([fileContent], {\n\t\ttype: 'text/plain;charset=utf-8',\n\t\tendings: 'native',\n\t});\n\tsaveAs(blob, fileName);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Button from './Button';\nimport Modal from './Modal';\n\nfunction ModalConfirm(props) {\n\tconst {\n\t\tconfirmAction,\n\t\tconfirmTitle = 'OK',\n\t\tcancelAction,\n\t\tcancelTitle = 'CANCEL',\n\t\tchildren,\n\t} = props;\n\n\treturn (\n\t\t<Modal closeModal={cancelAction}>\n\t\t\t<section className={'mod-ModalConfirmContainer'}>\n\t\t\t\t<div className={'mod-ModalConfirmMessage'}>{children}</div>\n\t\t\t\t<div className={'mod-ModalConfirmButtons'}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={cancelAction}\n\t\t\t\t\t\ttype={'secondary'}\n\t\t\t\t\t\tbuttonName={'cancel'}\n\t\t\t\t\t>\n\t\t\t\t\t\t{cancelTitle}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={confirmAction}\n\t\t\t\t\t\ttype={'primary'}\n\t\t\t\t\t\tbuttonName={'confirm'}\n\t\t\t\t\t>\n\t\t\t\t\t\t{confirmTitle}\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t</Modal>\n\t);\n}\n\nModalConfirm.propTypes = {\n\tconfirmAction: PropTypes.func.isRequired,\n\tconfirmTitle: PropTypes.string,\n\tcancelAction: PropTypes.func.isRequired,\n\tcancelTitle: PropTypes.string,\n\tchildren: PropTypes.node.isRequired,\n};\n\nexport default ModalConfirm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ModalConfirm from '../../ui/_components/ModalConfirm';\n\nfunction DeleteConfirmModal(props) {\n\tconst { selected, deleteFile, isDeleting, setIsDeleting } = props;\n\n\tif (!isDeleting) {\n\t\treturn null;\n\t}\n\n\tconst cancelDelete = () => setIsDeleting(false);\n\tconst confirmDelete = () => {\n\t\tsetIsDeleting(false);\n\t\tdeleteFile(selected);\n\t};\n\n\treturn (\n\t\t<ModalConfirm\n\t\t\tconfirmAction={confirmDelete}\n\t\t\tconfirmTitle={'DELETE'}\n\t\t\tcancelAction={cancelDelete}\n\t\t>\n\t\t\tAre you sure you want to delete this file?\n\t\t\t<br />\n\t\t\tThis action cannot be undone.\n\t\t</ModalConfirm>\n\t);\n}\n\nDeleteConfirmModal.propTypes = {\n\tdeleteFile: PropTypes.func.isRequired,\n\tisDeleting: PropTypes.bool.isRequired,\n\tselected: PropTypes.string.isRequired,\n\tsetIsDeleting: PropTypes.func.isRequired,\n};\n\nexport default DeleteConfirmModal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../ui/_components/Icon';\n\nfunction FileActionEntry(props) {\n\tconst { icon, text, action, isDisabled } = props;\n\n\tconst classNames = ['fileManagerAction'];\n\n\tif (isDisabled) {\n\t\tclassNames.push('fileManagerAction-isDisabled');\n\t}\n\tconst handleClick = () => {\n\t\tif (!isDisabled) {\n\t\t\taction();\n\t\t}\n\t};\n\n\treturn (\n\t\t<span className={classNames.join(' ')} onClick={handleClick}>\n\t\t\t<span className={'fileManagerAction-icon'}>\n\t\t\t\t<Icon iconName={icon} /> {text}\n\t\t\t</span>\n\t\t</span>\n\t);\n}\n\nFileActionEntry.propTypes = {\n\ticon: PropTypes.string.isRequired,\n\ttext: PropTypes.string.isRequired,\n\taction: PropTypes.func.isRequired,\n\tisDisabled: PropTypes.bool.isRequired,\n};\n\nexport default React.memo(FileActionEntry);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport FileActionEntry from './FileActionEntry';\n\nfunction FileActions(props) {\n\tconst {\n\t\tselected,\n\t\tcreateFile,\n\t\tdeleteFile,\n\t\tenableRename,\n\t\tstartImport,\n\t\texportAsText,\n\t\tprintFile,\n\t} = props;\n\n\tconst allActions = [\n\t\t{\n\t\t\ticon: 'upload',\n\t\t\ttext: 'Import',\n\t\t\taction: startImport,\n\t\t\tisDisabled: false,\n\t\t},\n\t\t{\n\t\t\ticon: 'add_circle',\n\t\t\ttext: 'New',\n\t\t\taction: createFile,\n\t\t\tisDisabled: false,\n\t\t},\n\t\t{\n\t\t\ticon: 'create',\n\t\t\ttext: 'Rename',\n\t\t\taction: enableRename,\n\t\t\tisDisabled: !selected,\n\t\t},\n\t\t{\n\t\t\ticon: 'delete',\n\t\t\ttext: 'Delete',\n\t\t\taction: deleteFile,\n\t\t\tisDisabled: !selected,\n\t\t},\n\t\t{\n\t\t\ticon: 'print',\n\t\t\ttext: 'Print',\n\t\t\taction: printFile,\n\t\t\tisDisabled: !selected,\n\t\t},\n\t\t{\n\t\t\ticon: 'download',\n\t\t\ttext: 'Export',\n\t\t\taction: exportAsText,\n\t\t\tisDisabled: !selected,\n\t\t},\n\t];\n\n\treturn (\n\t\t<div className={'fileManager-actionsList'}>\n\t\t\t{allActions.map((action, key) => (\n\t\t\t\t<FileActionEntry {...action} key={key} />\n\t\t\t))}\n\t\t</div>\n\t);\n}\n\nFileActions.propTypes = {\n\tselected: PropTypes.string,\n\tcreateFile: PropTypes.func.isRequired,\n\tdeleteFile: PropTypes.func.isRequired,\n\tenableRename: PropTypes.func.isRequired,\n\texportAsText: PropTypes.func.isRequired,\n\tprintFile: PropTypes.func.isRequired,\n\tstartImport: PropTypes.func.isRequired,\n};\n\nexport default React.memo(FileActions);\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nfunction FileEntry(props) {\n\tconst [title, setTitle] = useState(props.title);\n\n\tconst {\n\t\tfileId,\n\t\tisSelected,\n\t\tisRenamed,\n\t\tdefaultTitle,\n\t\tselectFile,\n\t\tenableRename,\n\t\tupdateFile,\n\t} = props;\n\n\tconst classList = ['fileManagerEntry'];\n\tif (isSelected) {\n\t\tclassList.push('fileManagerEntry-isSelected');\n\t}\n\tif (isRenamed) {\n\t\tclassList.push('fileManagerEntry-isRenamed');\n\t}\n\n\tconst inputRef = React.createRef();\n\n\tuseEffect(() => {\n\t\tif (isRenamed) {\n\t\t\tinputRef.current.focus();\n\t\t}\n\t}, [isRenamed, inputRef]);\n\n\tfunction handleClick() {\n\t\tif (!isSelected) {\n\t\t\tselectFile(fileId);\n\t\t}\n\t}\n\n\tfunction handleDoubleClick(e) {\n\t\tif (!isRenamed) {\n\t\t\tenableRename(fileId);\n\t\t\te.target.select();\n\t\t}\n\t}\n\n\tfunction handleKeyPress(e) {\n\t\tif (isRenamed && e.which === 13) {\n\t\t\te.preventDefault();\n\t\t\twindow.getSelection().removeAllRanges();\n\n\t\t\tconst newTitle = e.target.value;\n\t\t\tsaveTitle(newTitle);\n\t\t}\n\t}\n\n\tfunction handleChange(e) {\n\t\tsetTitle(e.target.value);\n\t}\n\n\tfunction handleFocus(e) {\n\t\tif (isRenamed) {\n\t\t\te.target.select();\n\t\t}\n\t}\n\n\tfunction handleBlur(e) {\n\t\tif (isRenamed) {\n\t\t\tconst newTitle = e.target.value;\n\t\t\tsaveTitle(newTitle);\n\t\t}\n\t}\n\n\tfunction saveTitle(newTitle) {\n\t\tnewTitle = newTitle || defaultTitle;\n\n\t\tupdateFile(fileId, {\n\t\t\ttitle: newTitle,\n\t\t});\n\t\tsetTitle(newTitle);\n\n\t\tinputRef.current.scrollLeft = 0;\n\t}\n\n\treturn (\n\t\t<li\n\t\t\tclassName={classList.join(' ')}\n\t\t\tonClick={handleClick}\n\t\t\tonDoubleClick={handleDoubleClick}\n\t\t>\n\t\t\t<input\n\t\t\t\tclassName={'fileManagerEntry-input'}\n\t\t\t\tref={inputRef}\n\t\t\t\ttype={'text'}\n\t\t\t\tvalue={title}\n\t\t\t\treadOnly={isRenamed ? null : 'readOnly'}\n\t\t\t\tautoFocus={isRenamed ? 'autoFocus' : null}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tonBlur={handleBlur}\n\t\t\t\tonFocus={handleFocus}\n\t\t\t\tonKeyPress={handleKeyPress}\n\t\t\t/>\n\t\t</li>\n\t);\n}\n\nFileEntry.propTypes = {\n\ttitle: PropTypes.string.isRequired,\n\tfileId: PropTypes.string.isRequired,\n\tisSelected: PropTypes.bool.isRequired,\n\tisRenamed: PropTypes.bool.isRequired,\n\tdefaultTitle: PropTypes.string.isRequired,\n\tselectFile: PropTypes.func.isRequired,\n\tenableRename: PropTypes.func.isRequired,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default FileEntry;\n","import './FileManager.scss';\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport exportSelectedFileAsText from '../exportSelectedFileAsText';\n\nimport DeleteConfirmModal from './DeleteConfirmModal';\nimport Icon from '../../ui/_components/Icon';\nimport FileActions from './FileActions';\nimport FileEntry from './FileEntry';\n\nfunction FileManager(props) {\n\tconst [isDeleting, setIsDeleting] = useState(false);\n\n\tconst {\n\t\tallTitles,\n\t\tselected,\n\t\trenamed,\n\t\tdefaultTitle,\n\n\t\tcreateFile,\n\t\tdeleteFile,\n\t\tenableRename,\n\t\tstartImport,\n\t\tselectFile,\n\t\tupdateFile,\n\t\tsetEditorMode,\n\t} = props;\n\n\treturn (\n\t\t<div className={'fileManager'}>\n\t\t\t<DeleteConfirmModal\n\t\t\t\tdeleteFile={deleteFile}\n\t\t\t\tisDeleting={isDeleting}\n\t\t\t\tselected={selected}\n\t\t\t\tsetIsDeleting={setIsDeleting}\n\t\t\t/>\n\t\t\t<div className={'fileManager-isCollapsed'}>\n\t\t\t\t<span className={'fileManager-icon'}>\n\t\t\t\t\t<Icon iconName={'file_copy'} />\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<div className={'fileManager-isExpanded'}>\n\t\t\t\t<FileActions\n\t\t\t\t\tselected={selected}\n\t\t\t\t\tcreateFile={() => createFile(defaultTitle)}\n\t\t\t\t\tdeleteFile={() => setIsDeleting(true)}\n\t\t\t\t\tenableRename={() => enableRename(selected)}\n\t\t\t\t\tstartImport={() => startImport()}\n\t\t\t\t\texportAsText={() => {\n\t\t\t\t\t\tsetEditorMode('export');\n\t\t\t\t\t\tsetTimeout(() => exportSelectedFileAsText(), 0);\n\t\t\t\t\t}}\n\t\t\t\t\tprintFile={() => {\n\t\t\t\t\t\tsetEditorMode('print');\n\t\t\t\t\t\tsetTimeout(() => window.print(), 0);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<ul className={'fileManager-entriesList'}>\n\t\t\t\t\t{allTitles.map((file) => (\n\t\t\t\t\t\t<FileEntry\n\t\t\t\t\t\t\ttitle={file.title}\n\t\t\t\t\t\t\tdefaultTitle={defaultTitle}\n\t\t\t\t\t\t\tfileId={file.id}\n\t\t\t\t\t\t\tisSelected={selected === file.id}\n\t\t\t\t\t\t\tisRenamed={renamed === file.id}\n\t\t\t\t\t\t\tselectFile={selectFile}\n\t\t\t\t\t\t\tupdateFile={updateFile}\n\t\t\t\t\t\t\tenableRename={enableRename}\n\t\t\t\t\t\t\tkey={file.id}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nFileManager.propTypes = {\n\tallTitles: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\ttitle: PropTypes.string.isRequired,\n\t\t\tid: PropTypes.string.isRequired,\n\t\t})\n\t).isRequired,\n\tselected: PropTypes.string.isRequired,\n\trenamed: PropTypes.string.isRequired,\n\tdefaultTitle: PropTypes.string.isRequired,\n\n\tselectFile: PropTypes.func.isRequired,\n\tcreateFile: PropTypes.func.isRequired,\n\tdeleteFile: PropTypes.func.isRequired,\n\tenableRename: PropTypes.func.isRequired,\n\tstartImport: PropTypes.func.isRequired,\n\tupdateFile: PropTypes.func.isRequired,\n\tsetEditorMode: PropTypes.func.isRequired,\n};\n\nexport default FileManager;\n","import { connect } from 'react-redux';\n\nimport { selectFile, enableRename } from '../_state/actions';\nimport {\n\tgetDefaultTitle,\n\tgetSelectedId,\n\tgetRenamedId,\n} from '../_state/selectors';\n\nimport { createFile, updateFile, deleteFile } from '../../db/files/actions';\nimport { startImport } from '../../songImporter/_state/actions';\nimport { setEditorMode } from '../../ui/layout/app/_state/actions';\n\nimport { getAllTitles } from '../../db/files/selectors';\n\nimport FileManager from '../_components/FileManager';\n\nexport default connect(\n\t(state) => ({\n\t\tselected: getSelectedId(state),\n\t\trenamed: getRenamedId(state),\n\t\tdefaultTitle: getDefaultTitle(state),\n\t\tallTitles: getAllTitles(state),\n\t}),\n\n\t{\n\t\tselectFile,\n\t\tcreateFile,\n\t\tdeleteFile,\n\t\tupdateFile,\n\t\tenableRename,\n\t\tsetEditorMode,\n\t\tstartImport,\n\t}\n)(FileManager);\n","import domPurify from 'dompurify';\n\nexport default function escapeHTML(unescaped) {\n\treturn domPurify.sanitize(unescaped);\n}\n","import './SongRenderer.scss';\n\nimport _pick from 'lodash/pick';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport escapeHTML from '../../core/escapeHTML';\n\nimport { renderAsHtml } from '../../core/renderSong';\n\nfunction SongRenderer(props) {\n\tconst { content, useChartFormat } = props;\n\n\tconst renderOptions = _pick(props, [\n\t\t'chartFormat',\n\n\t\t'transposeValue',\n\t\t'accidentalsType',\n\t\t'symbolType',\n\n\t\t'chartType',\n\t\t'alignChordsWithLyrics',\n\t\t'alignBars',\n\t\t'autoRepeatChords',\n\t\t'expandSectionCopy',\n\t]);\n\n\tconst rendered = renderAsHtml(content, renderOptions, useChartFormat);\n\n\treturn (\n\t\t<div className={'songRenderer'}>\n\t\t\t<div\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: escapeHTML(rendered),\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nSongRenderer.propTypes = {\n\tuseChartFormat: PropTypes.bool.isRequired,\n\tchartFormat: PropTypes.string.isRequired,\n\tcontent: PropTypes.string,\n};\n\nSongRenderer.defaultProps = {\n\tcontent: '',\n\tuseChartFormat: false,\n};\n\nexport default SongRenderer;\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../db/options/selectors';\n\nimport SongRenderer from '../_components/SongRenderer';\n\nexport default connect((state) => ({\n\t// songPreferences\n\ttransposeValue: getOptionValue(state, 'songPreferences', 'transposeValue'),\n\taccidentalsType: getOptionValue(\n\t\tstate,\n\t\t'songPreferences',\n\t\t'preferredAccidentals'\n\t),\n\tsymbolType: getOptionValue(state, 'songPreferences', 'symbolType'),\n\n\t// songFormatting\n\tchartFormat: getOptionValue(state, 'editorPreferences', 'chartFormat'),\n\tchartType: getOptionValue(state, 'songFormatting', 'chartType'),\n\talignChordsWithLyrics: getOptionValue(\n\t\tstate,\n\t\t'songFormatting',\n\t\t'alignChordsWithLyrics'\n\t),\n\talignBars: getOptionValue(state, 'songFormatting', 'alignBars'),\n\tautoRepeatChords: getOptionValue(\n\t\tstate,\n\t\t'songFormatting',\n\t\t'autoRepeatChords'\n\t),\n\texpandSectionCopy: getOptionValue(\n\t\tstate,\n\t\t'songFormatting',\n\t\t'expandSectionCopy'\n\t),\n}))(SongRenderer);\n","import './EditorPreview.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SongRenderer from '../../_containers/SongRenderer';\n\nfunction EditorPreview(props) {\n\tconst { selectedFile } = props;\n\n\tconst classNames = ['editorPreview'];\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<SongRenderer content={selectedFile.content} />\n\t\t</div>\n\t);\n}\n\nEditorPreview.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n};\n\nexport default EditorPreview;\n","import { Schema } from 'prosemirror-model';\n\nconst editorSchema = new Schema({\n\tnodes: {\n\t\tdoc: {\n\t\t\tcontent: 'block+',\n\t\t},\n\n\t\tparagraph: {\n\t\t\tcontent: 'inline*',\n\t\t\tgroup: 'block',\n\t\t\tparseDOM: [{ tag: 'p' }],\n\t\t\ttoDOM() {\n\t\t\t\treturn ['p', 0];\n\t\t\t},\n\t\t},\n\n\t\thard_break: {\n\t\t\tinline: true,\n\t\t\tgroup: 'inline',\n\t\t\tselectable: false,\n\t\t\tparseDOM: [{ tag: 'br' }],\n\t\t\t// no idea how to test this!\n\t\t\t/* istanbul ignore next */\n\t\t\ttoDOM() {\n\t\t\t\treturn ['br'];\n\t\t\t},\n\t\t},\n\n\t\ttext: {\n\t\t\tgroup: 'inline',\n\t\t},\n\t},\n});\n\nexport default editorSchema;\n","/**\n * Convert a proseMirror state to plain text\n */\nexport default function stateToText(state) {\n\tconst json = state.toJSON();\n\n\treturn json.doc.content\n\t\t.map((paragraph) => {\n\t\t\tif (!paragraph.content) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\treturn paragraph.content.reduce((acc, current) => {\n\t\t\t\tacc += current.text || '\\n';\n\t\t\t\treturn acc;\n\t\t\t}, '');\n\t\t})\n\t\t.join('\\n');\n}\n","import domPurify from 'dompurify';\n\n/**\n * Minimal wrapper around DOMPurify library.\n * Pretty drastic also: anything that is HTML is just simply ignored, including text content of tags.\n *\n * @param {String} dirty\n * @returns {String} clean HTML\n */\nexport default function toSafeHtml(dirty) {\n\tconst config = {\n\t\tALLOWED_TAGS: ['p', '#text'],\n\t\tKEEP_CONTENT: false,\n\t};\n\n\treturn domPurify.sanitize(dirty, config);\n}\n","import './ProsemirrorEditorView.scss';\n\nimport React, { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { EditorState } from 'prosemirror-state';\nimport { EditorView } from 'prosemirror-view';\nimport { DOMParser as pmDOMParser } from 'prosemirror-model';\n\nimport getPlugins from './getPlugins';\nimport editorSchema from './schema';\n\nimport stateToText from './converters/stateToText';\nimport textToDom from './converters/textToDom';\n\nimport 'prosemirror-view/style/prosemirror.css';\n\nfunction createEditorState(editorContent) {\n\treturn EditorState.create({\n\t\tdoc: pmDOMParser\n\t\t\t.fromSchema(editorSchema)\n\t\t\t.parse(textToDom(editorContent), { preserveWhitespace: 'full' }),\n\t\tplugins: getPlugins(),\n\t});\n}\n\nfunction createEditorView(editorState, updateFile, fileId) {\n\treturn new EditorView(null, {\n\t\tstate: editorState,\n\t\tdispatchTransaction: function dispatchTransaction(transaction) {\n\t\t\tconst { state, transactions } =\n\t\t\t\tthis.state.applyTransaction(transaction);\n\n\t\t\tthis.updateState(state);\n\n\t\t\tif (transactions.some((tr) => tr.docChanged)) {\n\t\t\t\tupdateFile(fileId, { content: stateToText(state) });\n\t\t\t}\n\t\t},\n\t});\n}\n\nfunction ProseMirrorEditorView(props) {\n\tconst { selectedFileId, editorContent, updateFile } = props;\n\n\tconst editorView = useRef();\n\tconst editorDom = useRef();\n\tconst previousFileId = usePrevious(selectedFileId);\n\n\t/**\n\t * Editor is recreated on component mount and on file change.\n\t * The later is needed as we need to to re-bind the change handler with the new file id.\n\t */\n\tfunction shouldCreateEditor() {\n\t\treturn (\n\t\t\tselectedFileId &&\n\t\t\t(!editorView.current || previousFileId !== selectedFileId)\n\t\t);\n\t}\n\n\t// Editor has been previously created, but now no file is selected anymore\n\tfunction isEditorOrphan() {\n\t\treturn editorExists() && !selectedFileId;\n\t}\n\n\tfunction editorExists() {\n\t\treturn editorView.current && editorView.current.dom.parentNode;\n\t}\n\n\tfunction destroyEditor() {\n\t\teditorView.current.dom.parentNode.removeChild(editorView.current.dom);\n\t}\n\n\tuseEffect(() => {\n\t\tif (shouldCreateEditor()) {\n\t\t\tif (editorExists()) {\n\t\t\t\tdestroyEditor();\n\t\t\t}\n\n\t\t\tconst editorState = createEditorState(editorContent);\n\t\t\teditorView.current = createEditorView(\n\t\t\t\teditorState,\n\t\t\t\tupdateFile,\n\t\t\t\tselectedFileId\n\t\t\t);\n\t\t\teditorDom.current.appendChild(editorView.current.dom);\n\n\t\t\t// expose editor instance as a component property for unit tests\n\t\t\tProseMirrorEditorView.editorView = editorView.current;\n\t\t} else if (isEditorOrphan()) {\n\t\t\tdestroyEditor();\n\t\t}\n\t});\n\n\treturn <div className={'prosemirrorWrapper'} ref={editorDom} />;\n}\n\nProseMirrorEditorView.defaultProps = {\n\tselectedFileId: '',\n\teditorContent: '',\n};\n\nProseMirrorEditorView.propTypes = {\n\tselectedFileId: PropTypes.string,\n\teditorContent: PropTypes.string,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default ProseMirrorEditorView;\n\n// @see https://reactjs.org/docs/hooks-faq.html#how-to-get-the-previous-props-or-state\nfunction usePrevious(value) {\n\tconst ref = useRef();\n\tuseEffect(() => {\n\t\tref.current = value;\n\t});\n\treturn ref.current;\n}\n","import escapeHTML from './toSafeHtml';\n\n/**\n * @param {String} text\n * @returns {HTMLElement}\n */\nexport default function textToDom(text) {\n\tconst html = escapeHTML(text)\n\t\t.split('\\n')\n\t\t.map((line) => `<p>${line}</p>`)\n\t\t.join('');\n\n\tconst div = document.createElement('div');\n\tdiv.innerHTML = escapeHTML(html);\n\n\treturn div;\n}\n","import { keymap } from 'prosemirror-keymap';\nimport { baseKeymap } from 'prosemirror-commands';\nimport { undo, redo, history as pmHistory } from 'prosemirror-history';\n\nexport default function getPlugins() {\n\treturn [\n\t\tpmHistory(),\n\t\tkeymap({ 'Mod-z': undo, 'Mod-y': redo }),\n\t\tkeymap(baseKeymap),\n\t];\n}\n","import './EditorLayout.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { ScrollSync, ScrollSyncNode } from 'scroll-sync-react';\n\nimport EditorPreview from '../../../songRenderers/editorPreview/_components/EditorPreview';\nimport ProseMirrorEditorView from '../prosemirror/ProsemirrorEditorView';\nimport Icon from '../../../ui/_components/Icon';\n\nfunction EditorLayout(props) {\n\tconst { selectedFile, updateFile, theme } = props;\n\n\tconst previewClassNames = [\n\t\t'songEditor-preview',\n\t\t'cmTheme-' + theme,\n\t\t'cmTheme-fadeRepeats',\n\t];\n\n\treturn (\n\t\t<>\n\t\t\t<div className={'songEditor-headers'}>\n\t\t\t\t<div className={'songEditor-sourceHeader'}>\n\t\t\t\t\t<Icon iconName={'arrow_drop_down'} />\n\t\t\t\t\tChordMark source (\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t'https://chordmark.netlify.app/docs/getting-started'\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttarget={'_blank'}\n\t\t\t\t\t\trel={'noreferrer'}\n\t\t\t\t\t\tclassName={'link1'}\n\t\t\t\t\t>\n\t\t\t\t\t\ttutorial\n\t\t\t\t\t</a>\n\t\t\t\t\t)\n\t\t\t\t\t<Icon iconName={'arrow_drop_down'} />\n\t\t\t\t</div>\n\t\t\t\t<div className={'songEditor-previewHeader'}>\n\t\t\t\t\t<Icon iconName={'arrow_drop_down'} />\n\t\t\t\t\tResult preview\n\t\t\t\t\t<Icon iconName={'arrow_drop_down'} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ScrollSync>\n\t\t\t\t<div className={'songEditor'}>\n\t\t\t\t\t<ScrollSyncNode group={'a'}>\n\t\t\t\t\t\t<div className={'songEditor-source'}>\n\t\t\t\t\t\t\t<ProseMirrorEditorView\n\t\t\t\t\t\t\t\teditorContent={selectedFile.content}\n\t\t\t\t\t\t\t\tupdateFile={updateFile}\n\t\t\t\t\t\t\t\tselectedFileId={selectedFile.id}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ScrollSyncNode>\n\t\t\t\t\t<ScrollSyncNode group={'a'}>\n\t\t\t\t\t\t<div className={previewClassNames.join(' ')}>\n\t\t\t\t\t\t\t<EditorPreview selectedFile={selectedFile} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</ScrollSyncNode>\n\t\t\t\t</div>\n\t\t\t</ScrollSync>\n\t\t</>\n\t);\n}\n\nEditorLayout.propTypes = {\n\tselectedFile: PropTypes.object,\n\ttheme: PropTypes.string.isRequired,\n\tupdateFile: PropTypes.func.isRequired,\n};\n\nexport default EditorLayout;\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../../db/options/selectors';\n\nimport EditorLayout from '../_components/EditorLayout';\n\nexport default connect((state) => ({\n\ttheme: getOptionValue(state, 'editorPreferences', 'theme'),\n}))(EditorLayout);\n","import './ExportPreview.scss';\n\nimport React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport SongRenderer from '../../_containers/SongRenderer';\n\nfunction ExportPreview(props) {\n\tconst { selectedFile } = props;\n\n\tconst exportPreviewRef = React.createRef();\n\n\tconst selectAll = (e) => {\n\t\tif ((e.metaKey || e.ctrlKey) && e.key.toLowerCase() === 'a') {\n\t\t\te.preventDefault();\n\t\t\twindow.getSelection().selectAllChildren(exportPreviewRef.current);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\twindow.addEventListener('keydown', selectAll);\n\t\treturn () => {\n\t\t\twindow.removeEventListener('keydown', selectAll);\n\t\t};\n\t});\n\n\treturn (\n\t\t<div\n\t\t\tclassName={'exportPreview exp-SongRenderer'}\n\t\t\tref={exportPreviewRef}\n\t\t>\n\t\t\t<SongRenderer\n\t\t\t\tcontent={selectedFile.content}\n\t\t\t\tuseChartFormat={true}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n\nExportPreview.propTypes = {\n\tselectedFile: PropTypes.object.isRequired,\n};\n\nexport default ExportPreview;\n","import './PlayRenderer.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SongRenderer from '../../_containers/SongRenderer';\n\nfunction PlayRenderer(props) {\n\tconst { theme, selectedFile, fontSize, columnsCount } = props;\n\n\tconst wrapperClassNames = ['playRendererWrapper1'];\n\twrapperClassNames.push('cmTheme-' + theme);\n\twrapperClassNames.push('cmSong--fontSize' + fontSize);\n\n\tconst classNames = ['playRenderer'];\n\tclassNames.push('playRenderer--columns-' + columnsCount);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={wrapperClassNames.join(' ')}\n\t\t\tdata-testid={'playRendererWrapper1'}\n\t\t>\n\t\t\t<div className={'playRendererWrapper2'}>\n\t\t\t\t<div\n\t\t\t\t\tclassName={classNames.join(' ')}\n\t\t\t\t\tdata-testid={'playRenderer'}\n\t\t\t\t>\n\t\t\t\t\t<SongRenderer content={selectedFile.content} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nPlayRenderer.propTypes = {\n\ttheme: PropTypes.string.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\tselectedFile: PropTypes.object.isRequired,\n\tcolumnsCount: PropTypes.number.isRequired,\n};\n\nexport default PlayRenderer;\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../../db/options/selectors';\n\nimport PlayRenderer from '../_components/PlayRenderer';\n\nexport default connect((state) => ({\n\ttheme: getOptionValue(state, 'editorPreferences', 'theme'),\n\tfontSize: getOptionValue(state, 'songFormatting', 'fontSize'),\n\tcolumnsCount: getOptionValue(state, 'songFormatting', 'columnsCount'),\n}))(PlayRenderer);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport escapeHTML from '../../../core/escapeHTML';\n\nfunction Page(props) {\n\tconst {\n\t\tpageHeader,\n\t\tallColumnsLines,\n\t\tdocumentSize,\n\t\tdocumentMargins,\n\t\tfontSize,\n\t} = props;\n\n\tconst allSectionsRendered = allColumnsLines.map((columnLines, index) => {\n\t\tconst columnLinesTxt = columnLines.join('');\n\n\t\treturn (\n\t\t\t<div\n\t\t\t\tkey={index}\n\t\t\t\tclassName={'printPreview-pageColumn'}\n\t\t\t\tdata-testid={'printPreview-pageColumn'}\n\t\t\t\tdangerouslySetInnerHTML={{ __html: escapeHTML(columnLinesTxt) }}\n\t\t\t/>\n\t\t);\n\t});\n\n\tconst pageClasses = ['printPreview-page'];\n\tpageClasses.push('printPreview-page--' + documentSize);\n\tpageClasses.push('cmSong--fontSize' + fontSize);\n\tpageClasses.push('cmSong');\n\n\tconst pageContentWrapperClasses = ['printPreview-pageContentWrapper'];\n\tpageContentWrapperClasses.push(\n\t\t'printPreview-pageContentWrapper--padding' + documentMargins\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tclassName={pageClasses.join(' ')}\n\t\t\tdata-testid={'printPreview-page'}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={pageContentWrapperClasses.join(' ')}\n\t\t\t\tdata-testid={'printPreview-pageContentWrapper'}\n\t\t\t>\n\t\t\t\t<div className={'printPreview-pageContent'}>\n\t\t\t\t\t{pageHeader}\n\t\t\t\t\t<div className={'printPreview-pageColumnWrapper'}>\n\t\t\t\t\t\t{allSectionsRendered}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\nPage.defaultProps = {\n\tallColumnsLines: [],\n};\nPage.propTypes = {\n\tpageHeader: PropTypes.element,\n\tallColumnsLines: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.string)),\n\tdocumentSize: PropTypes.string.isRequired,\n\tdocumentMargins: PropTypes.number.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n};\n\nexport default React.memo(Page);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction PageHeader(props) {\n\tconst { title } = props;\n\n\treturn <div className={'printPreview-pageHeader'}>{title}</div>;\n}\nPageHeader.defaultProps = {\n\tallColumnsLines: [],\n};\nPageHeader.propTypes = {\n\ttitle: PropTypes.string.isRequired,\n};\n\nexport default React.memo(PageHeader);\n","const cssClasses = {\n\temptyLine: 'cmEmptyLine',\n\tchordLine: 'cmChordLine',\n\ttextLine: 'cmLyricLine',\n};\n\n/**\n * @param {Object[]} allLinesWithHeight\n * @param {String} allLinesWithHeight.content\n * @param {Number} allLinesWithHeight.height\n * @param {Number} columnsCount\n * @param {Number} firstPageHeight\n * @param {Number} normalPageHeight\n * @param {Boolean} columnBreakOnSection\n * @param {Boolean} noEmptyLinesOnColumnStart\n * @param {Boolean} noOrphanTextLine\n * @returns {Array} array of pages, as array of columns\n */\nexport default function mapLinesToColumns(\n\tallLinesWithHeight,\n\t{\n\t\tcolumnsCount,\n\t\tfirstPageHeight,\n\t\tnormalPageHeight,\n\t\tcolumnBreakOnSection,\n\t\tnoEmptyLinesOnColumnStart = true,\n\t\tnoOrphanTextLine = true,\n\t}\n) {\n\tconst layout = layoutFactory({\n\t\tcolumnsCount,\n\t\tfirstPageHeight,\n\t\tnormalPageHeight,\n\t\tnoEmptyLinesOnColumnStart,\n\t});\n\n\tlet buffer = [];\n\tlet bufferHeight = 0;\n\n\tconst pageHeight = firstPageHeight || normalPageHeight;\n\n\tif (pageHeight > 0) {\n\t\tallLinesWithHeight.forEach((line, lineIndex) => {\n\t\t\tif (\n\t\t\t\tshouldRenderLine(\n\t\t\t\t\tlayout,\n\t\t\t\t\tline,\n\t\t\t\t\tbuffer,\n\t\t\t\t\tnoEmptyLinesOnColumnStart\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tbuffer.push(line);\n\t\t\t\tbufferHeight += line.height;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tbuffer.length > 0 &&\n\t\t\t\tisBreakable(line, allLinesWithHeight[lineIndex + 1], {\n\t\t\t\t\tnoOrphanTextLine,\n\t\t\t\t\tcolumnBreakOnSection,\n\t\t\t\t})\n\t\t\t) {\n\t\t\t\tif (layout.fitsOnCurrentColumn(bufferHeight)) {\n\t\t\t\t\tlayout.insert(buffer);\n\t\t\t\t} else if (layout.fitsOnNextColumn(bufferHeight)) {\n\t\t\t\t\tlayout.insertOnNextColumn(buffer);\n\t\t\t\t} else {\n\t\t\t\t\tlayout.insert(buffer);\n\t\t\t\t}\n\t\t\t\tbuffer = [];\n\t\t\t\tbufferHeight = 0;\n\t\t\t}\n\t\t});\n\t}\n\treturn layout.get();\n}\n\n/**\n * Try to spot the case where the line is empty and would be rendered as the first line\n * of the next column, which we may want to avoid\n */\nfunction shouldRenderLine(layout, line, buffer, noEmptyLinesOnColumnStart) {\n\treturn !(\n\t\tisEmptyLine(line) &&\n\t\t!layout.fitsOnCurrentColumn(line.height) &&\n\t\tbuffer.length === 0 &&\n\t\tnoEmptyLinesOnColumnStart === true\n\t);\n}\n\nfunction isBreakable(\n\tcurrentLine,\n\tnextLine,\n\t{ noOrphanTextLine, columnBreakOnSection }\n) {\n\tif (isEmptyLine(currentLine) || !nextLine) {\n\t\treturn true;\n\t}\n\n\tconst wouldProduceOrphanTextLine =\n\t\tisChordLine(currentLine) && isTextLine(nextLine);\n\tif (noOrphanTextLine === true && wouldProduceOrphanTextLine) {\n\t\treturn false;\n\t}\n\n\tconst isEndOfParagraph = isEmptyLine(nextLine);\n\tif (columnBreakOnSection === true && !isEndOfParagraph) {\n\t\treturn false;\n\t}\n\treturn true;\n}\n\nfunction isEmptyLine(line) {\n\treturn hasClass(line.content, cssClasses.emptyLine);\n}\n\nfunction isChordLine(line) {\n\treturn hasClass(line.content, cssClasses.chordLine);\n}\n\nfunction isTextLine(line) {\n\treturn hasClass(line.content, cssClasses.textLine);\n}\n\nfunction hasClass(line, className) {\n\treturn line.indexOf(className) > -1;\n}\n\nfunction layoutFactory({ firstPageHeight, normalPageHeight, columnsCount }) {\n\tconst allPagesColumns = [];\n\n\tlet pageIndex = 0;\n\tlet columnIndex = 0;\n\tlet maxColumnHeight = getMaxColumnHeight();\n\tlet currentColumnHeight = 0;\n\n\tallPagesColumns[pageIndex] = [];\n\tallPagesColumns[pageIndex][columnIndex] = [];\n\n\tfunction flushBuffer(buffer) {\n\t\tbuffer.forEach((line) => {\n\t\t\tif (shouldChangeColumn(currentColumnHeight + line.height)) {\n\t\t\t\tchangeColumn();\n\t\t\t}\n\t\t\tallPagesColumns[pageIndex][columnIndex].push(line.content);\n\t\t\tcurrentColumnHeight += line.height;\n\t\t});\n\t}\n\n\tfunction getMaxColumnHeight() {\n\t\treturn pageIndex === 0 && firstPageHeight\n\t\t\t? firstPageHeight\n\t\t\t: normalPageHeight;\n\t}\n\n\tfunction shouldChangeColumn(nextHeight) {\n\t\treturn nextHeight > maxColumnHeight;\n\t}\n\n\tfunction changeColumn() {\n\t\tif (shouldChangePage()) {\n\t\t\tpageIndex++;\n\t\t\tallPagesColumns[pageIndex] = [];\n\t\t\tcolumnIndex = 0;\n\t\t} else {\n\t\t\tcolumnIndex++;\n\t\t}\n\t\tallPagesColumns[pageIndex][columnIndex] = [];\n\t\tcurrentColumnHeight = 0;\n\t\tmaxColumnHeight = getMaxColumnHeight();\n\t}\n\n\tfunction shouldChangePage() {\n\t\treturn columnIndex === columnsCount - 1;\n\t}\n\n\treturn {\n\t\tinsert(buffer) {\n\t\t\tflushBuffer(buffer);\n\t\t},\n\n\t\tinsertOnNextColumn(buffer) {\n\t\t\tchangeColumn();\n\t\t\tflushBuffer(buffer);\n\t\t},\n\n\t\tfitsOnCurrentColumn(bufferHeight) {\n\t\t\treturn currentColumnHeight + bufferHeight <= maxColumnHeight;\n\t\t},\n\n\t\tfitsOnNextColumn(bufferHeight) {\n\t\t\tconst nextColumnHeight =\n\t\t\t\tpageIndex === 0 && columnIndex < columnsCount && firstPageHeight\n\t\t\t\t\t? firstPageHeight\n\t\t\t\t\t: normalPageHeight;\n\t\t\treturn bufferHeight <= nextColumnHeight;\n\t\t},\n\n\t\tget() {\n\t\t\treturn allPagesColumns;\n\t\t},\n\t};\n}\n","import './getDimensionsFromDom.scss';\n\nimport React, { useLayoutEffect } from 'react';\nimport { createRoot } from 'react-dom/client';\n\nexport default function getDimensionsFromDom(component, measuringFn) {\n\tconst container = document.createElement('div');\n\tcontainer.classList.add('measuring-node');\n\tdocument.body.appendChild(container);\n\tconst root = createRoot(container);\n\n\treturn new Promise((resolve) => {\n\t\tconst MeasuringComponent = () => {\n\t\t\tuseLayoutEffect(() => {\n\t\t\t\tconst measure = measuringFn(container);\n\t\t\t\tresolve(measure);\n\t\t\t});\n\n\t\t\treturn <div>{component}</div>;\n\t\t};\n\n\t\troot.render(<MeasuringComponent />);\n\t}).then((measure) => {\n\t\troot.unmount();\n\t\tcontainer.parentNode.removeChild(container);\n\n\t\treturn measure;\n\t});\n}\n","export default function padColumns(columnCount, allColumns = []) {\n\tfor (let i = allColumns.length || 0; i < columnCount; i++) {\n\t\tallColumns.push([]);\n\t}\n\treturn allColumns;\n}\n","export function getOffsetHeight(element) {\n\treturn element.offsetHeight;\n}\n\nexport function getClientHeight(element) {\n\treturn element.clientHeight;\n}\n","import React from 'react';\n\nimport getDimensionsFromDom from './getDimensionsFromDom';\nimport padColumns from './padColumns';\nimport { getOffsetHeight } from './element';\n\nimport Page from '../_components/Page';\n\nconst cssSelectors = {\n\tline: '.cmLine',\n};\n\nexport default async function getAllLinesHeight(\n\tallLines,\n\t{ columnsCount, documentSize, documentMargins, fontSize }\n) {\n\tconst component = (\n\t\t<div className={'printPreview cmTheme-print'}>\n\t\t\t<Page\n\t\t\t\tallColumnsLines={padColumns(columnsCount, [allLines])}\n\t\t\t\tcolumnsCount={columnsCount}\n\t\t\t\tdocumentSize={documentSize}\n\t\t\t\tdocumentMargins={documentMargins}\n\t\t\t\tfontSize={fontSize}\n\t\t\t/>\n\t\t</div>\n\t);\n\n\tconst measuringFn = (container) => {\n\t\tconst allLinesHeight = [];\n\t\tcontainer.querySelectorAll(cssSelectors.line).forEach((line) => {\n\t\t\tallLinesHeight.push(getOffsetHeight(line));\n\t\t});\n\t\treturn allLinesHeight;\n\t};\n\n\treturn await getDimensionsFromDom(component, measuringFn);\n}\n","import React from 'react';\n\nimport getDimensionsFromDom from './getDimensionsFromDom';\nimport padColumns from './padColumns';\nimport { getClientHeight } from './element';\n\nimport Page from '../_components/Page';\nimport PageHeader from '../_components/PageHeader';\n\nexport default async function getAllLinesHeight(\n\ttitle,\n\t{ columnsCount, documentSize, documentMargins, fontSize }\n) {\n\tconst component = (\n\t\t<Page\n\t\t\tpageHeader={<PageHeader title={title} />}\n\t\t\tallColumnsLines={padColumns(columnsCount)}\n\t\t\tdocumentSize={documentSize}\n\t\t\tdocumentMargins={documentMargins}\n\t\t\tfontSize={fontSize}\n\t\t/>\n\t);\n\n\tconst measuringFn = (container) => {\n\t\tconst pageContent = container.querySelector(\n\t\t\t'.printPreview-pageContent'\n\t\t);\n\t\tconst pageColumnWrapper = container.querySelector(\n\t\t\t'.printPreview-pageColumnWrapper'\n\t\t);\n\t\treturn {\n\t\t\tfirstPageHeight: getClientHeight(pageColumnWrapper),\n\t\t\tnormalPageHeight: getClientHeight(pageContent),\n\t\t};\n\t};\n\n\treturn await getDimensionsFromDom(component, measuringFn);\n}\n","import React, { useState, useLayoutEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Page from './Page';\nimport PageHeader from './PageHeader';\n\nimport mapLinesToColumns from '../helpers/mapLinesToColumns';\nimport getAllLinesHeight from '../helpers/getAllLinesHeight';\nimport getPagesHeight from '../helpers/getPagesHeight';\nimport padColumns from '../helpers/padColumns';\n\nfunction AllPages(props) {\n\tconst [allPagesColumns, setAllPagesColumns] = useState([]);\n\n\tconst {\n\t\ttitle,\n\t\tallLines,\n\t\tcolumnsCount,\n\t\tcolumnBreakOnSection,\n\t\tdocumentSize,\n\t\tdocumentMargins,\n\t\tfontSize,\n\t} = props;\n\n\tuseLayoutEffect(() => {\n\t\tconst getDimensions = async () => {\n\t\t\tconst pageOptions = {\n\t\t\t\tcolumnsCount,\n\t\t\t\tdocumentSize,\n\t\t\t\tdocumentMargins,\n\t\t\t\tfontSize,\n\t\t\t};\n\n\t\t\tconst allLinesHeight = await getAllLinesHeight(\n\t\t\t\tallLines,\n\t\t\t\tpageOptions\n\t\t\t);\n\n\t\t\tconst { normalPageHeight, firstPageHeight } = await getPagesHeight(\n\t\t\t\ttitle,\n\t\t\t\tpageOptions\n\t\t\t);\n\n\t\t\tconst allLinesWithHeight = allLines.map((line, index) => ({\n\t\t\t\tcontent: line,\n\t\t\t\theight: allLinesHeight[index],\n\t\t\t}));\n\n\t\t\tconst mapped = mapLinesToColumns(allLinesWithHeight, {\n\t\t\t\tcolumnsCount,\n\t\t\t\tcolumnBreakOnSection,\n\t\t\t\tnormalPageHeight,\n\t\t\t\tfirstPageHeight,\n\t\t\t});\n\n\t\t\tsetAllPagesColumns(mapped);\n\t\t};\n\t\tgetDimensions();\n\t}, [\n\t\tallLines,\n\t\ttitle,\n\t\tcolumnsCount,\n\t\tcolumnBreakOnSection,\n\t\tdocumentSize,\n\t\tdocumentMargins,\n\t\tfontSize,\n\t]);\n\n\tconst allPagesRendered = allPagesColumns.map((pageColumns, index) => {\n\t\treturn (\n\t\t\t<Page\n\t\t\t\tkey={index}\n\t\t\t\tpageHeader={index === 0 ? <PageHeader title={title} /> : null}\n\t\t\t\tallColumnsLines={padColumns(columnsCount, pageColumns)}\n\t\t\t\tdocumentSize={documentSize}\n\t\t\t\tdocumentMargins={documentMargins}\n\t\t\t\tfontSize={fontSize}\n\t\t\t/>\n\t\t);\n\t});\n\n\treturn <React.Fragment>{allPagesRendered}</React.Fragment>;\n}\n\nAllPages.propTypes = {\n\ttitle: PropTypes.string.isRequired,\n\tallLines: PropTypes.arrayOf(PropTypes.string).isRequired,\n\tcolumnsCount: PropTypes.number.isRequired,\n\tcolumnBreakOnSection: PropTypes.bool.isRequired,\n\tdocumentSize: PropTypes.string.isRequired,\n\tdocumentMargins: PropTypes.number.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n};\n\nexport default AllPages;\n","import './PrintPreview.scss';\n\nimport _pick from 'lodash/pick';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { renderAsHtml } from '../../../core/renderSong';\nimport AllPages from './AllPages';\n\nfunction PrintPreview(props) {\n\tconst { selectedFile } = props;\n\n\tconst renderOptions = _pick(props, [\n\t\t'transposeValue',\n\t\t'accidentalsType',\n\t\t'symbolType',\n\n\t\t'chartType',\n\t\t'alignChordsWithLyrics',\n\t\t'alignBars',\n\t\t'autoRepeatChords',\n\t\t'expandSectionCopy',\n\t]);\n\n\tconst rendered = renderAsHtml(selectedFile.content || '', {\n\t\t...renderOptions,\n\t});\n\tconst allLines = rendered.match(/(<p.*?>.*?<\\/p>)/gm);\n\n\tconst classNames = ['printPreview', 'cmTheme-print'];\n\n\treturn (\n\t\t<div className={classNames.join(' ')} data-testid={'printPreview'}>\n\t\t\t<AllPages\n\t\t\t\ttitle={selectedFile.title || ''}\n\t\t\t\tallLines={allLines}\n\t\t\t\tcolumnsCount={props.columnsCount}\n\t\t\t\tcolumnBreakOnSection={props.columnBreakOnSection}\n\t\t\t\tdocumentSize={props.documentSize || 'a4'}\n\t\t\t\tdocumentMargins={props.documentMargins}\n\t\t\t\tfontSize={props.fontSize}\n\t\t\t/>\n\t\t</div>\n\t);\n}\nPrintPreview.propTypes = {\n\tchartType: PropTypes.string.isRequired,\n\tselectedFile: PropTypes.object.isRequired,\n\tcolumnsCount: PropTypes.number.isRequired,\n\tcolumnBreakOnSection: PropTypes.bool.isRequired,\n\tdocumentSize: PropTypes.string,\n\tdocumentMargins: PropTypes.number.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n};\n\nexport default PrintPreview;\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../../db/options/selectors';\n\nimport PrintPreview from '../_components/PrintPreview';\n\nexport default connect((state) => ({\n\t// songPreferences\n\taccidentalsType: getOptionValue(\n\t\tstate,\n\t\t'songPreferences',\n\t\t'preferredAccidentals'\n\t),\n\ttransposeValue: getOptionValue(state, 'songPreferences', 'transposeValue'),\n\tsymbolType: getOptionValue(state, 'songPreferences', 'symbolType'),\n\n\t// songFormatting\n\tchartType: getOptionValue(state, 'songFormatting', 'chartType'),\n\talignChordsWithLyrics: getOptionValue(\n\t\tstate,\n\t\t'songFormatting',\n\t\t'alignChordsWithLyrics'\n\t),\n\talignBars: getOptionValue(state, 'songFormatting', 'alignBars'),\n\tautoRepeatChords: getOptionValue(\n\t\tstate,\n\t\t'songFormatting',\n\t\t'autoRepeatChords'\n\t),\n\texpandSectionCopy: getOptionValue(\n\t\tstate,\n\t\t'songFormatting',\n\t\t'expandSectionCopy'\n\t),\n\n\tcolumnsCount: getOptionValue(state, 'songFormatting', 'columnsCount'),\n\tcolumnBreakOnSection: getOptionValue(\n\t\tstate,\n\t\t'songFormatting',\n\t\t'columnBreakOnSection'\n\t),\n\tdocumentMargins: getOptionValue(state, 'songFormatting', 'documentMargins'),\n\n\tfontSize: getOptionValue(state, 'songFormatting', 'fontSize'),\n}))(PrintPreview);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport EditorLayout from '../songEditor/_containers/EditorLayout';\nimport ExportPreview from '../../songRenderers/exportPreview/_components/ExportPreview';\nimport PlayRenderer from '../../songRenderers/playRenderer/_containers/PlayRenderer';\nimport PrintPreview from '../../songRenderers/printPreview/_containers/PrintPreview';\n\nfunction Editor(props) {\n\tconst { editorMode } = props;\n\n\tswitch (editorMode) {\n\t\tcase 'edit':\n\t\t\treturn <EditorLayout {...props} />;\n\t\tcase 'play':\n\t\t\treturn <PlayRenderer {...props} />;\n\t\tcase 'print':\n\t\t\treturn <PrintPreview {...props} />;\n\t\tcase 'export':\n\t\t\treturn <ExportPreview {...props} />;\n\t}\n}\n\nEditor.propTypes = {\n\teditorMode: PropTypes.string.isRequired,\n};\n\nexport default Editor;\n","import { connect } from 'react-redux';\n\nimport { getSelectedId } from '../../fileManager/_state/selectors';\nimport { getEditorMode } from '../../ui/layout/app/_state/selectors';\n\nimport { getOne } from '../../db/files/selectors';\nimport { updateFile } from '../../db/files/actions';\n\nimport Editor from '../_components/Editor';\n\nexport default connect(\n\t(state) => ({\n\t\tselectedFile: getOne(state, getSelectedId(state)) || {},\n\t\teditorMode: getEditorMode(state),\n\t}),\n\n\t{\n\t\tupdateFile,\n\t}\n)(Editor);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction OptionsPanel(props) {\n\tconst {\n\t\tid,\n\t\tallWidgets,\n\t\tnonInteractableWidgets,\n\t\thiddenWidgets,\n\t\tsetOption,\n\t\tgetEntryComponent,\n\t} = props;\n\n\tconst classNames = ['optionsPanel', 'optionsPanel-' + id];\n\n\tlet widget, groupWidget;\n\n\tlet WidgetComponent, GroupComponent;\n\tlet isGroupInteractable, isGroupWidgetInteractable;\n\n\tlet renderedGroupWidgets;\n\n\tconst renderedWidgets = allWidgets.widgetsOrder\n\t\t.filter((widgetId) => {\n\t\t\treturn !hiddenWidgets.includes(widgetId);\n\t\t})\n\t\t.map((widgetId) => {\n\t\t\twidget = allWidgets.allWidgets[widgetId];\n\n\t\t\tif (widget.type === 'optionsGroup') {\n\t\t\t\trenderedGroupWidgets = widget.groupWidgetsOrder\n\t\t\t\t\t.filter((groupWidgetId) => {\n\t\t\t\t\t\treturn !hiddenWidgets.includes(groupWidgetId);\n\t\t\t\t\t})\n\t\t\t\t\t.map((groupWidgetId) => {\n\t\t\t\t\t\tgroupWidget = widget.allGroupWidgets[groupWidgetId];\n\n\t\t\t\t\t\tisGroupWidgetInteractable =\n\t\t\t\t\t\t\t!nonInteractableWidgets.includes(widgetId) &&\n\t\t\t\t\t\t\t!nonInteractableWidgets.includes(groupWidgetId);\n\n\t\t\t\t\t\treturn renderWidget(\n\t\t\t\t\t\t\tgroupWidgetId,\n\t\t\t\t\t\t\tgroupWidget,\n\t\t\t\t\t\t\tisGroupWidgetInteractable\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\n\t\t\t\tif (renderedGroupWidgets.length === 0) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tGroupComponent = getEntryComponent(widget.type);\n\t\t\t\tisGroupInteractable =\n\t\t\t\t\t!nonInteractableWidgets.includes(widgetId);\n\n\t\t\t\treturn (\n\t\t\t\t\t<GroupComponent\n\t\t\t\t\t\tkey={widgetId}\n\t\t\t\t\t\tisInteractable={isGroupInteractable}\n\t\t\t\t\t\tlabel={widget.label}\n\t\t\t\t\t\ticon={widget.icon}\n\t\t\t\t\t>\n\t\t\t\t\t\t{renderedGroupWidgets}\n\t\t\t\t\t</GroupComponent>\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\treturn renderWidget(\n\t\t\t\t\twidgetId,\n\t\t\t\t\twidget,\n\t\t\t\t\t!nonInteractableWidgets.includes(widgetId)\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\n\tfunction renderWidget(widgetId, localWidget, isInteractable) {\n\t\tWidgetComponent = getEntryComponent(localWidget.type);\n\n\t\treturn (\n\t\t\t<WidgetComponent\n\t\t\t\tkey={widgetId}\n\t\t\t\tisInteractable={isInteractable}\n\t\t\t\toptionContext={localWidget.option.context}\n\t\t\t\toptionKey={localWidget.option.key}\n\t\t\t\toptionValue={props[localWidget.option.key]}\n\t\t\t\tsetOption={setOption}\n\t\t\t\tlabel={localWidget.label}\n\t\t\t\t{...localWidget.typeOptions}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn <div className={classNames.join(' ')}>{renderedWidgets}</div>;\n}\n\nOptionsPanel.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tallWidgets: PropTypes.object.isRequired,\n\tnonInteractableWidgets: PropTypes.arrayOf(PropTypes.string).isRequired,\n\thiddenWidgets: PropTypes.arrayOf(PropTypes.string).isRequired,\n\tsetOption: PropTypes.func.isRequired,\n\tgetEntryComponent: PropTypes.func.isRequired,\n};\n\nexport default OptionsPanel;\n","import './OptionsGroup.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon';\n\nfunction OptionsGroup(props) {\n\tconst { isInteractable, icon, label } = props;\n\n\tconst classNames = ['sb-optionsGroup'];\n\tif (!shouldBeInteractable()) {\n\t\tclassNames.push('sb-optionsGroup-isNotInteractable');\n\t}\n\n\tfunction shouldBeInteractable() {\n\t\treturn isInteractable && props.children && props.children.length > 0;\n\t}\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<div className={'sb-optionsGroup-title'}>\n\t\t\t\t<span className={'sb-optionsGroup-iconTitle'}>\n\t\t\t\t\t<Icon iconName={icon} />\n\t\t\t\t</span>{' '}\n\t\t\t\t{label}\n\t\t\t</div>\n\t\t\t<div className={'sb-optionsGroup-content'}>{props.children}</div>\n\t\t</div>\n\t);\n}\n\nOptionsGroup.propTypes = {\n\tisInteractable: PropTypes.bool.isRequired,\n\ticon: PropTypes.string.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tchildren: PropTypes.arrayOf(PropTypes.element),\n};\n\nOptionsGroup.defaultProps = {};\n\nexport default OptionsGroup;\n","import './Select.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon';\n\nfunction SelectChoice(props) {\n\tconst { isSelected, isInteractable, label, onClick } = props;\n\n\tlet checkIcon;\n\tconst classNames = ['sb-optionSelectChoice'];\n\n\tif (isSelected) {\n\t\tclassNames.push('sb-optionSelectChoice-isSelected');\n\t\tcheckIcon = (\n\t\t\t<span className={'sb-optionSelectChoice-checkIcon'}>\n\t\t\t\t<Icon iconName={'check'} />\n\t\t\t</span>\n\t\t);\n\t}\n\n\tif (!isInteractable) {\n\t\tclassNames.push('sb-optionSelectChoice-isNotInteractable');\n\t}\n\n\tfunction handleClick() {\n\t\tif (isInteractable) {\n\t\t\tonClick();\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className={classNames.join(' ')} onClick={handleClick}>\n\t\t\t<div className={'sb-optionSelectChoice-check'}>\n\t\t\t\t{isSelected && checkIcon}\n\t\t\t</div>\n\t\t\t<div className={'sb-optionSelectChoice-label'}>{label}</div>\n\t\t</div>\n\t);\n}\n\nSelectChoice.propTypes = {\n\tisSelected: PropTypes.bool.isRequired,\n\tisInteractable: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tonClick: PropTypes.func.isRequired,\n};\n\nexport default React.memo(SelectChoice);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nimport SelectChoice from './SelectChoice';\n\nimport Icon from '../../../_components/Icon';\n\nfunction Select(props) {\n\tconst [isOpen, setIsOpen] = useState(false);\n\n\tconst {\n\t\tisInteractable,\n\t\tlabel,\n\t\tallChoices,\n\t\toptionContext,\n\t\toptionKey,\n\t\toptionValue,\n\t\tsetOption,\n\t} = props;\n\n\tconst classNames = ['sb-optionSelect'];\n\tif (!isInteractable) {\n\t\tclassNames.push('sb-optionSelect-isNotInteractable');\n\t}\n\n\tconst iconName = isOpen ? 'keyboard_arrow_down' : 'keyboard_arrow_right';\n\n\tfunction toggleChoices() {\n\t\tsetIsOpen(!isOpen);\n\t}\n\n\tconst renderedChoices = !isOpen ? null : (\n\t\t<div className={'sb-optionSelect-choices'}>\n\t\t\t{allChoices.map((choice) => (\n\t\t\t\t<SelectChoice\n\t\t\t\t\tkey={choice.value}\n\t\t\t\t\tlabel={choice.label}\n\t\t\t\t\tisSelected={optionValue === choice.value}\n\t\t\t\t\tisInteractable={isInteractable}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tsetOption(optionContext, optionKey, choice.value);\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t);\n\n\tconst activeLabel = allChoices.find(\n\t\t(choice) => optionValue === choice.value\n\t).label;\n\n\tconst selectLabel = isOpen ? (\n\t\tlabel\n\t) : (\n\t\t<span>\n\t\t\t<span>{label + ': '}</span>\n\t\t\t<span className={'sb-optionSelectChoice-activeLabel'}>\n\t\t\t\t{activeLabel}\n\t\t\t</span>\n\t\t</span>\n\t);\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<div\n\t\t\t\tclassName={'sb-optionSelect-title'}\n\t\t\t\tonClick={isInteractable ? toggleChoices : null}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName={'sb-optionSelect-desc'}\n\t\t\t\t\tdata-testid={'selectLabel'}\n\t\t\t\t>\n\t\t\t\t\t{selectLabel}\n\t\t\t\t</div>\n\t\t\t\t<div className={'sb-optionSelect-toggle'}>\n\t\t\t\t\t<span className={'sb-optionSelect-icon'}>\n\t\t\t\t\t\t<Icon iconName={iconName} />\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{renderedChoices}\n\t\t</div>\n\t);\n}\n\nSelect.propTypes = {\n\tisInteractable: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tallChoices: PropTypes.array.isRequired,\n\toptionContext: PropTypes.string.isRequired,\n\toptionKey: PropTypes.string.isRequired,\n\toptionValue: PropTypes.string.isRequired,\n\tsetOption: PropTypes.func.isRequired,\n};\n\nexport default Select;\n","import './Slider.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Slider(props) {\n\tconst {\n\t\tisInteractable,\n\t\tlabel,\n\t\tmin,\n\t\tmax,\n\t\tshowPlusSymbol,\n\t\toptionContext,\n\t\toptionKey,\n\t\toptionValue,\n\t\tsetOption,\n\t} = props;\n\n\tconst classNames = ['sb-optionSlider'];\n\tif (!isInteractable) {\n\t\tclassNames.push('sb-optionSlider-isNotInteractable');\n\t}\n\n\tfunction handleChange(e) {\n\t\tsetOption(optionContext, optionKey, Number.parseInt(e.target.value));\n\t}\n\n\tconst valueDisplay =\n\t\toptionValue > 0 && showPlusSymbol ? '+' + optionValue : optionValue;\n\n\treturn (\n\t\t<div className={classNames.join(' ')}>\n\t\t\t<div className={'sb-optionSlider-desc'}>{label}</div>\n\t\t\t<div className={'sb-optionSlider-value'}>{valueDisplay}</div>\n\t\t\t<div className={'sb-optionSlider-range'}>\n\t\t\t\t<input\n\t\t\t\t\tmin={min}\n\t\t\t\t\tmax={max}\n\t\t\t\t\tvalue={optionValue}\n\t\t\t\t\ttype={'range'}\n\t\t\t\t\tonChange={isInteractable ? handleChange : null}\n\t\t\t\t\tdisabled={!isInteractable}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nSlider.propTypes = {\n\tisInteractable: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\tmin: PropTypes.number.isRequired,\n\tmax: PropTypes.number.isRequired,\n\tshowPlusSymbol: PropTypes.bool,\n\toptionContext: PropTypes.string.isRequired,\n\toptionKey: PropTypes.string.isRequired,\n\toptionValue: PropTypes.number.isRequired,\n\tsetOption: PropTypes.func.isRequired,\n};\n\nSlider.defaultProps = {\n\tshowPlusSymbol: true,\n};\n\nexport default React.memo(Slider);\n","import './Toggle.scss';\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../_components/Icon';\n\nfunction Toggle(props) {\n\tconst {\n\t\tisInteractable,\n\t\tlabel,\n\t\toptionContext,\n\t\toptionKey,\n\t\toptionValue,\n\t\tsetOption,\n\t} = props;\n\n\tconst classNames = ['sb-optionToggle'];\n\tclassNames.push(\n\t\toptionValue === true ? 'sb-optionToggle-isOn' : 'sb-optionToggle-isOff'\n\t);\n\tif (!isInteractable) {\n\t\tclassNames.push('sb-optionToggle-isNotInteractable');\n\t}\n\n\tfunction handleClick() {\n\t\tsetOption(optionContext, optionKey, !optionValue);\n\t}\n\n\treturn (\n\t\t<div\n\t\t\tclassName={classNames.join(' ')}\n\t\t\tonClick={isInteractable ? handleClick : null}\n\t\t>\n\t\t\t<div className={'sb-optionToggle-desc'}>{label}</div>\n\t\t\t<div className={'sb-optionToggle-icon'}>\n\t\t\t\t<span className={'sb-optionToggle-icon'}>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\ticonName={\n\t\t\t\t\t\t\toptionValue === true ? 'toggle_on' : 'toggle_off'\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nToggle.propTypes = {\n\tisInteractable: PropTypes.bool.isRequired,\n\tlabel: PropTypes.string.isRequired,\n\toptionContext: PropTypes.string.isRequired,\n\toptionKey: PropTypes.string.isRequired,\n\toptionValue: PropTypes.bool.isRequired,\n\tsetOption: PropTypes.func.isRequired,\n};\n\nexport default React.memo(Toggle);\n","import './SidebarOptionsPanel.scss';\n\nimport React from 'react';\n\nimport OptionPanel from '../../../../optionsPanels/_components/OptionsPanel';\n\nimport OptionsGroup from './OptionsGroup';\nimport Select from './Select';\nimport Slider from './Slider';\nimport Toggle from './Toggle';\n\nfunction getEntryComponent(type) {\n\tswitch (type) {\n\t\tcase 'optionsGroup':\n\t\t\treturn OptionsGroup;\n\t\tcase 'select':\n\t\t\treturn Select;\n\t\tcase 'slider':\n\t\t\treturn Slider;\n\t\tcase 'toggle':\n\t\t\treturn Toggle;\n\t}\n}\n\nexport default function SidebarOptionPanel(props) {\n\treturn (\n\t\t<div className={'sb-optionsPanel'}>\n\t\t\t<OptionPanel {...props} getEntryComponent={getEntryComponent} />\n\t\t</div>\n\t);\n}\n","import createAction from '../../core/createAction';\nimport * as actionTypes from './actionsTypes';\n\nexport const setOptionValue = (context, key, value) => {\n\tif (!context) {\n\t\tthrow new TypeError('Cannot set an option without a context');\n\t}\n\tif (!key) {\n\t\tthrow new TypeError('Cannot set an option without a key');\n\t}\n\tconst payload = {\n\t\tcontext,\n\t\tkey,\n\t\tvalue,\n\t};\n\treturn createAction(actionTypes.DB_OPTION_SET_OPTION_VALUE, payload);\n};\n","import Rendering from '../_components/Rendering';\nimport OptionsPanelFactory from '../../_containers/OptionsPanelFactory';\n\nimport allWidgets from '../allWidgets';\nimport {\n\tgetNonInteractableWidgets,\n\tgetHiddenWidgets,\n} from '../_state/selectors';\n\nexport default OptionsPanelFactory(\n\tallWidgets,\n\tgetNonInteractableWidgets,\n\tgetHiddenWidgets,\n\tRendering\n);\n","import { connect } from 'react-redux';\n\nimport { getOptionValue } from '../../db/options/selectors';\nimport { setOptionValue } from '../../db/options/actions';\n\nexport default function OptionsPanelFactory(\n\tallWidgets,\n\tgetNonInteractableWidgets,\n\tgetHiddenWidgets,\n\tcomponent\n) {\n\treturn connect(\n\t\t(state) => {\n\t\t\tconst stateToProps = {\n\t\t\t\tallWidgets,\n\t\t\t\tnonInteractableWidgets: getNonInteractableWidgets(state),\n\t\t\t\thiddenWidgets: getHiddenWidgets(state),\n\t\t\t};\n\n\t\t\tlet widget;\n\t\t\tlet groupWidget;\n\n\t\t\tallWidgets.widgetsOrder.forEach((widgetId) => {\n\t\t\t\twidget = allWidgets.allWidgets[widgetId];\n\n\t\t\t\twidget.groupWidgetsOrder.forEach((groupWidgetId) => {\n\t\t\t\t\tgroupWidget = widget.allGroupWidgets[groupWidgetId];\n\n\t\t\t\t\tstateToProps[groupWidget.option.key] = getOptionValue(\n\t\t\t\t\t\tstate,\n\t\t\t\t\t\tgroupWidget.option.context,\n\t\t\t\t\t\tgroupWidget.option.key\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn stateToProps;\n\t\t},\n\n\t\t{\n\t\t\tsetOption: setOptionValue,\n\t\t}\n\t)(component);\n}\n","/* eslint-disable max-lines */\nexport default {\n\twidgetsOrder: ['editorPreferences', 'key', 'preferences', 'layout'],\n\n\tallWidgets: {\n\t\teditorPreferences: {\n\t\t\tlabel: 'Editor preferences',\n\t\t\ttype: 'optionsGroup',\n\t\t\ticon: 'tune',\n\n\t\t\tgroupWidgetsOrder: ['theme', 'chartFormat'],\n\t\t\tallGroupWidgets: {\n\t\t\t\ttheme: {\n\t\t\t\t\tlabel: 'Theme',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'themeDark1',\n\t\t\t\t\t\t\t\tlabel: 'Dark 1 (default)',\n\t\t\t\t\t\t\t\tvalue: 'dark1',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'themeDark2',\n\t\t\t\t\t\t\t\tlabel: 'Dark 2',\n\t\t\t\t\t\t\t\tvalue: 'dark2',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'themeDark3',\n\t\t\t\t\t\t\t\tlabel: 'Dark 3',\n\t\t\t\t\t\t\t\tvalue: 'dark3',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'editorPreferences',\n\t\t\t\t\t\tkey: 'theme',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tchartFormat: {\n\t\t\t\t\tlabel: 'Export format',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'formatChordMark',\n\t\t\t\t\t\t\t\tlabel: 'ChordMark',\n\t\t\t\t\t\t\t\tvalue: 'chordmark',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'formatChordMarkSrc',\n\t\t\t\t\t\t\t\tlabel: 'ChordMark (Source)',\n\t\t\t\t\t\t\t\tvalue: 'chordmarkSrc',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'formatChordpro',\n\t\t\t\t\t\t\t\tlabel: 'ChordPro',\n\t\t\t\t\t\t\t\tvalue: 'chordpro',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'formatUG',\n\t\t\t\t\t\t\t\tlabel: 'UltimateGuitar',\n\t\t\t\t\t\t\t\tvalue: 'ultimateGuitar',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'editorPreferences',\n\t\t\t\t\t\tkey: 'chartFormat',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\n\t\tkey: {\n\t\t\tlabel: 'Key',\n\t\t\ttype: 'optionsGroup',\n\t\t\ticon: 'music_note',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'transposeValue',\n\t\t\t\t'preferredAccidentals',\n\t\t\t\t'symbolType',\n\t\t\t],\n\t\t\tallGroupWidgets: {\n\t\t\t\ttransposeValue: {\n\t\t\t\t\tlabel: 'Transpose',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: -11,\n\t\t\t\t\t\tmax: 11,\n\t\t\t\t\t\tshowPlusSymbol: true,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songPreferences',\n\t\t\t\t\t\tkey: 'transposeValue',\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tpreferredAccidentals: {\n\t\t\t\t\tlabel: 'Preferred accidentals',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'preferredAccidentalsAuto',\n\t\t\t\t\t\t\t\tlabel: 'Auto',\n\t\t\t\t\t\t\t\tvalue: 'auto',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'preferredAccidentalsSharp',\n\t\t\t\t\t\t\t\tlabel: '♯',\n\t\t\t\t\t\t\t\tvalue: 'sharp',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'preferredAccidentalsFlat',\n\t\t\t\t\t\t\t\tlabel: '♭',\n\t\t\t\t\t\t\t\tvalue: 'flat',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songPreferences',\n\t\t\t\t\t\tkey: 'preferredAccidentals',\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tsymbolType: {\n\t\t\t\t\tlabel: 'Symbols type',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'symbolTypeChord',\n\t\t\t\t\t\t\t\tlabel: 'Chord symbols',\n\t\t\t\t\t\t\t\tvalue: 'chord',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'symbolTypeRoman',\n\t\t\t\t\t\t\t\tlabel: 'Roman numerals',\n\t\t\t\t\t\t\t\tvalue: 'roman',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songPreferences',\n\t\t\t\t\t\tkey: 'symbolType',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\n\t\tpreferences: {\n\t\t\tlabel: 'Chart settings',\n\t\t\ttype: 'optionsGroup',\n\t\t\ticon: 'tune',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'chartType',\n\t\t\t\t'alignChordsWithLyrics',\n\t\t\t\t'alignBars',\n\t\t\t\t'autoRepeatChords',\n\t\t\t\t'expandSectionCopy',\n\t\t\t],\n\t\t\tallGroupWidgets: {\n\t\t\t\tchartType: {\n\t\t\t\t\tlabel: 'Type',\n\t\t\t\t\ttype: 'select',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tallChoices: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'typedisplayAll',\n\t\t\t\t\t\t\t\tlabel: 'Show everything',\n\t\t\t\t\t\t\t\tvalue: 'all',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'typedisplayLyrics',\n\t\t\t\t\t\t\t\tlabel: 'Lyrics only',\n\t\t\t\t\t\t\t\tvalue: 'lyrics',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'typedisplayChords',\n\t\t\t\t\t\t\t\tlabel: 'Chords only',\n\t\t\t\t\t\t\t\tvalue: 'chords',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 'typedisplayChordsFirstLyricLine',\n\t\t\t\t\t\t\t\tlabel: 'Chords + First lyric line',\n\t\t\t\t\t\t\t\tvalue: 'chordsFirstLyricLine',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'chartType',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\talignChordsWithLyrics: {\n\t\t\t\t\tlabel: 'Align chords with lyrics',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'alignChordsWithLyrics',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\talignBars: {\n\t\t\t\t\tlabel: 'Align bars',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'alignBars',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\tautoRepeatChords: {\n\t\t\t\t\tlabel: 'Auto repeat chords',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'autoRepeatChords',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\texpandSectionCopy: {\n\t\t\t\t\tlabel: 'Expand copied sections',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'expandSectionCopy',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\n\t\tlayout: {\n\t\t\ttype: 'optionsGroup',\n\t\t\tlabel: 'Layout',\n\t\t\ticon: 'view_compact',\n\n\t\t\tgroupWidgetsOrder: [\n\t\t\t\t'fontSize',\n\t\t\t\t'columnsCount',\n\t\t\t\t'columnBreakOnSection',\n\t\t\t\t'documentMargins',\n\t\t\t],\n\n\t\t\tallGroupWidgets: {\n\t\t\t\tfontSize: {\n\t\t\t\t\tlabel: 'Font size',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: -5,\n\t\t\t\t\t\tmax: +5,\n\t\t\t\t\t\tshowPlusSymbol: true,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'fontSize',\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tcolumnsCount: {\n\t\t\t\t\tlabel: 'Columns',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\tmax: 4,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'columnsCount',\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tcolumnBreakOnSection: {\n\t\t\t\t\tlabel: 'Column Break on section',\n\t\t\t\t\ttype: 'toggle',\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'columnBreakOnSection',\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\tdocumentMargins: {\n\t\t\t\t\tlabel: 'Margins',\n\t\t\t\t\ttype: 'slider',\n\t\t\t\t\ttypeOptions: {\n\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\tmax: 5,\n\t\t\t\t\t},\n\t\t\t\t\toption: {\n\t\t\t\t\t\tcontext: 'songFormatting',\n\t\t\t\t\t\tkey: 'documentMargins',\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n};\n","import _difference from 'lodash/difference';\n\nimport editorModeOptions from '../../../db/options/editorModeOptions'; // duh!\nimport { getEditorMode } from '../../../ui/layout/app/_state/selectors';\nimport { getSelectedId } from '../../../fileManager/_state/selectors';\nimport {\n\tgetOptionsDefaults,\n\tgetOptionValue,\n} from '../../../db/options/selectors';\n\nexport const getNonInteractableWidgets = (state) => {\n\tconst nonInteractableWidgets = [];\n\n\tconst chartType = getOptionValue(state, 'songFormatting', 'chartType');\n\tif (chartType === 'lyrics') {\n\t\tnonInteractableWidgets.push('alignChordsWithLyrics');\n\t\tnonInteractableWidgets.push('alignBars');\n\t\tnonInteractableWidgets.push('autoRepeatChords');\n\t} else if (chartType === 'chords') {\n\t\tnonInteractableWidgets.push('alignChordsWithLyrics');\n\t}\n\n\tconst chartFormat = getOptionValue(\n\t\tstate,\n\t\t'editorPreferences',\n\t\t'chartFormat'\n\t);\n\tconst editorMode = getEditorMode(state);\n\n\tif (editorMode === 'export') {\n\t\tif (chartFormat === 'chordmarkSrc') {\n\t\t\tnonInteractableWidgets.push('chartType');\n\t\t\tnonInteractableWidgets.push('alignChordsWithLyrics');\n\t\t\tnonInteractableWidgets.push('alignBars');\n\t\t\tnonInteractableWidgets.push('autoRepeatChords');\n\t\t\tnonInteractableWidgets.push('expandSectionCopy');\n\t\t}\n\t}\n\n\treturn nonInteractableWidgets;\n};\n\nexport const getHiddenWidgets = (state) => {\n\tconst hiddenWidgets = [];\n\n\tconst allOptions = Object.keys({\n\t\t...getOptionsDefaults(state, 'editorPreferences'),\n\t\t...getOptionsDefaults(state, 'songFormatting'),\n\t\t...getOptionsDefaults(state, 'songPreferences'),\n\t});\n\n\tconst selectedId = getSelectedId(state);\n\tif (!selectedId) {\n\t\treturn allOptions;\n\t}\n\n\tconst editorMode = getEditorMode(state);\n\n\tconst nonInteractableOptions = _difference(\n\t\tallOptions,\n\t\teditorModeOptions[editorMode]\n\t);\n\n\thiddenWidgets.push(...nonInteractableOptions);\n\n\treturn hiddenWidgets;\n};\n","import './Rendering.scss';\n\nimport React from 'react';\n\nimport Icon from '../../../ui/_components/Icon';\n\nimport SidebarOptionPanel from '../../../ui/sideBar/options/_components/SidebarOptionsPanel';\n\nexport default function Rendering(props) {\n\treturn (\n\t\t<div className={'renderingOptionsPanel'}>\n\t\t\t<div className={'renderingOptionsPanel-isCollapsed'}>\n\t\t\t\t<span className={'renderingOptionsPanel-icon'}>\n\t\t\t\t\t<Icon iconName={'settings'} />\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<div className={'renderingOptionsPanel-isExpanded'}>\n\t\t\t\t<SidebarOptionPanel {...props} id={'rendering'} />\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from 'react';\n\nimport AppLayout from '../ui/layout/app/_containers/App';\nimport FileManager from '../fileManager/_containers/FileManager';\nimport Editor from '../editor/_containers/Editor';\nimport RightBarPanel from '../optionsPanels/rendering/_containers/Rendering';\n\nexport default function Edit() {\n\tconst fm = <FileManager />;\n\tconst rightBarPanel = <RightBarPanel />;\n\n\treturn (\n\t\t<AppLayout leftBar={fm} rightBar={rightBarPanel}>\n\t\t\t<Editor />\n\t\t</AppLayout>\n\t);\n}\n","import UniversalRouter from 'universal-router';\nimport renderController from './renderController';\n\nimport Editor from './controllers/Editor';\n\nconst routes = [\n\t{\n\t\tpath: '/editor',\n\t\taction: () => Editor,\n\t},\n];\n\nconst universalRouter = new UniversalRouter(routes);\n\nexport default {\n\tnavigateTo(path) {\n\t\treturn universalRouter.resolve(path).then((controller) => {\n\t\t\treturn renderController(controller);\n\t\t});\n\t},\n};\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\n\nimport { Provider } from 'react-redux';\nimport { getStore } from './state/store';\n\nimport ErrorBoundary from './ui/_components/ErrorBoundary';\n\nexport default function renderController(Controller) {\n\tconst container = document.getElementById('app');\n\tconst root = createRoot(container);\n\n\troot.render(\n\t\t<Provider store={getStore()}>\n\t\t\t<React.StrictMode>\n\t\t\t\t<ErrorBoundary>\n\t\t\t\t\t<Controller />\n\t\t\t\t</ErrorBoundary>\n\t\t\t</React.StrictMode>\n\t\t</Provider>\n\t);\n}\n","import '../scss/styles.scss';\n\nimport { createStore } from './state/store';\nimport registerHandlers from './registerHandlers';\nimport router from './router';\nimport addSampleContent from './addSampleContent';\n\nregisterHandlers();\n\nexport default function run() {\n\tcreateStore();\n\n\taddSampleContent();\n\n\treturn router.navigateTo('/editor');\n}\n\nif ('serviceWorker' in navigator) {\n\tnavigator.serviceWorker\n\t\t.register('./service-worker.js')\n\t\t.then((reg) => console.log('SW registered!', reg))\n\t\t.catch((err) => console.log('Boo!', err));\n}\n","import { getStore } from './state/store';\n\nimport { getAllTitles } from './db/files/selectors';\nimport { importFile } from './db/files/actions';\n\nimport gettingStarted from './gettingStarted.txt';\nimport sampleSong from './sampleSong.txt';\n\nexport default function addSampleContent() {\n\tconst store = getStore();\n\tconst state = store.getState();\n\n\tconst allTitles = getAllTitles(state);\n\n\tif (allTitles.length === 0) {\n\t\tstore.dispatch(importFile('Hallelujah - Leonard Cohen', sampleSong));\n\t\tstore.dispatch(importFile('Getting started', gettingStarted));\n\t}\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkchord_chart_studio\"] = self[\"webpackChunkchord_chart_studio\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [216], () => (__webpack_require__(\"TBfH\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","loadState","serializedState","localStorage","getItem","JSON","parse","err","saveState","state","stringify","setItem","clock","Date","now","DB_FILES_CREATE","DB_FILES_DELETE","DB_FILES_IMPORT","DB_FILES_UPDATE","DB_OPTION_SET_OPTION_VALUE","UI_LAYOUT_APP_SET_EDITOR_MODE","UI_LAYOUT_APP_TOGGLE_LEFT_BAR","UI_LAYOUT_APP_TOGGLE_RIGHT_BAR","isLeftBarCollapsed","ui","layout","app","isRightBarCollapsed","getEditorMode","editorMode","getSelectedId","fileManager","selected","getRenamedId","renamed","getDefaultTitle","defaultTitle","getAllTitles","createSelectorCreator","defaultMemoize","_isEqual","createDeepEqualSelector","_map","db","files","allFiles","_ref","title","id","_sortBy","o","toLowerCase","getOne","getCategoryOptions","category","file","options","Object","keys","length","_cloneDeep","getLatestModeOptions","fileOptions","allOptionsPerMode","edit","push","_objectSpread","play","print","export","sort","a","b","updatedAt","reduce","acc","modeOptions","assign","initialState","updateFileOption","action","fullState","_action$payload3","payload","context","key","value","includes","optionCategory","fileState","_defineProperty","addOption","FILE_MANAGER_SELECT_FILE","FILE_MANAGER_ENABLE_RENAME","getOptionValue","values","getOptionsDefaults","defaults","getModeOptions","fileId","mode","defaultOptions","editorModeOptions","_pick","allEditorModeOptions","combineSectionReducers","arguments","undefined","type","actionTypes","_action$payload","content","createFile","_action$payload2","updateFile","deleteFile","nextMode","previousModeOptions","setEditorMode","newState","setOptionValue","newOptions","songFormatting","songPreferences","defaultPreferences","newPreferences","selectFile","SONG_IMPORTER_IMPORT_CANCEL","SONG_IMPORTER_IMPORT_START","SONG_IMPORTER_SET_CONTENT","SONG_IMPORTER_SET_INPUT_FORMAT","stripTags","html","domPurify","ALLOWED_TAGS","KEEP_CONTENT","isFromWeb","isImporting","inputFormat","activeModal","songImporter","actions","_action$payload$title","editorPreferences","theme","chartFormat","transposeValue","preferredAccidentals","symbolType","chartType","alignChordsWithLyrics","alignBars","autoRepeatChords","expandSectionCopy","fontSize","columnsCount","columnBreakOnSection","documentMargins","store","getStore","createAction","TypeError","songImporterHandlers","message","buildTitle","artist","dispatch","actionsTypes","startImportFromWeb","chordChart","songTitle","_handleMessage","e","allHandlers","source","window","origin","location","data","ErrorBoundary","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","error","errorInfo","this","setState","React","className","style","whiteSpace","open","toString","componentStack","children","propTypes","PropTypes","Logo","href","logoSvg","Icon","iconName","join","isRequired","NavEntry","label","icon","isActive","isDisabled","classNames","onClick","Nav","currentMode","allEntries","selectedId","map","entry","_extends","Button","buttonName","allClassNames","disabled","name","defaultProps","UserGuide","focus","Versions","versions","target","rel","importFile","uuidv4","getContent","getInputFormat","getTitle","Modal","closeModal","useEffect","handleKeyboard","addEventListener","removeEventListener","Header","cancelImport","chordMarkContent","headerTitle","getSongTitle","substr","lastIndexOf","isOversized","size","isTextFile","indexOf","getFileTooBigMsg","actualSize","filesize","round","getWrongFileTypeMsg","getNoFileSelectedMsg","fileList","Promise","resolve","reject","text","then","fileContent","catch","FilePicker","setContent","htmlFor","onChange","ev","getUploadedFile","accept","Input","allClasses","PreviewError","InputFormatEntry","setInputFormat","allInputClasses","allLabelClasses","checked","InputFormatSelector","disableAll","rendered","SongImporter","convert2ChordMark","connect","App","toggleLeftBar","toggleRightBar","leftBar","rightBar","leftBarClassNames","rightBarClassNames","allNavEntries","renderAsHtml","songTxt","render","renderOptions","useChartFormat","outputFormat","toHtml","customRenderer","chordMark2ChordPro","cpTxt","renderSong","chordMark2UltimateGuitar","ugTxt","printBarSeparators","printChordsDuration","printSubBeatDelimiters","printInlineTimeSignatures","chordSymbolRenderer","chordRendererFactory","customFilters","chordSymbolUltimateGuitar","useShortNamings","accidentalsType","chordMarkHtml","match","line","parsed","parseSong","renderSongCm","split","concat","exportSelectedFileAsText","getState","selectedFile","renderAsText","fileExt","fileName","blob","Blob","endings","saveAs","ModalConfirm","confirmAction","_props$confirmTitle","confirmTitle","cancelAction","_props$cancelTitle","cancelTitle","DeleteConfirmModal","isDeleting","setIsDeleting","FileActionEntry","FileActions","enableRename","startImport","exportAsText","allActions","printFile","FileEntry","_useState2","_slicedToArray","useState","setTitle","isSelected","isRenamed","classList","inputRef","saveTitle","newTitle","current","scrollLeft","onDoubleClick","select","ref","readOnly","autoFocus","onBlur","onFocus","onKeyPress","which","preventDefault","getSelection","removeAllRanges","FileManager","allTitles","setTimeout","escapeHTML","unescaped","SongRenderer","dangerouslySetInnerHTML","__html","EditorPreview","Schema","nodes","doc","paragraph","group","parseDOM","tag","toDOM","hard_break","inline","selectable","stateToText","toJSON","toSafeHtml","dirty","ProseMirrorEditorView","selectedFileId","editorContent","editorView","useRef","editorDom","previousFileId","editorExists","dom","parentNode","destroyEditor","removeChild","editorState","EditorState","create","pmDOMParser","fromSchema","editorSchema","div","document","createElement","innerHTML","preserveWhitespace","plugins","pmHistory","keymap","undo","redo","baseKeymap","createEditorState","EditorView","dispatchTransaction","transaction","_this$state$applyTran","applyTransaction","transactions","updateState","some","tr","docChanged","createEditorView","appendChild","EditorLayout","previewClassNames","ScrollSync","ScrollSyncNode","ExportPreview","exportPreviewRef","selectAll","metaKey","ctrlKey","selectAllChildren","PlayRenderer","wrapperClassNames","Page","pageHeader","allColumnsLines","documentSize","allSectionsRendered","columnLines","index","columnLinesTxt","pageClasses","pageContentWrapperClasses","PageHeader","cssClasses","emptyLine","chordLine","textLine","mapLinesToColumns","allLinesWithHeight","firstPageHeight","normalPageHeight","_ref$noEmptyLinesOnCo","noEmptyLinesOnColumnStart","_ref$noOrphanTextLine","noOrphanTextLine","_ref3","allPagesColumns","pageIndex","columnIndex","maxColumnHeight","getMaxColumnHeight","currentColumnHeight","flushBuffer","buffer","forEach","shouldChangeColumn","height","changeColumn","nextHeight","shouldChangePage","insert","insertOnNextColumn","fitsOnCurrentColumn","bufferHeight","fitsOnNextColumn","get","layoutFactory","lineIndex","isEmptyLine","shouldRenderLine","currentLine","nextLine","_ref2","wouldProduceOrphanTextLine","hasClass","isChordLine","isTextLine","isEndOfParagraph","isBreakable","getDimensionsFromDom","component","measuringFn","container","add","body","root","createRoot","MeasuringComponent","useLayoutEffect","measure","unmount","padColumns","columnCount","allColumns","i","getClientHeight","element","clientHeight","_regeneratorRuntime","t","r","prototype","n","hasOwnProperty","defineProperty","Symbol","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","Context","makeInvokeMethod","tryCatch","arg","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","_typeof","__await","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","mark","setPrototypeOf","__proto__","awrap","async","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","asyncGeneratorStep","gen","_next","_throw","info","cssSelectors","getAllLinesHeight","_x","_x2","_getAllLinesHeight","apply","fn","_callee","allLines","_context","allLinesHeight","querySelectorAll","offsetHeight","self","args","pageContent","querySelector","arr","Array","isArray","_arrayWithHoles","_iterableToArrayLimit","minLen","_arrayLikeToArray","from","test","_unsupportedIterableToArray","_nonIterableRest","len","arr2","AllPages","setAllPagesColumns","getDimensions","pageOptions","_yield$getPagesHeight","mapped","getPagesHeight","allPagesRendered","pageColumns","PrintPreview","Editor","OptionsPanel","widget","groupWidget","WidgetComponent","GroupComponent","isGroupInteractable","isGroupWidgetInteractable","renderedGroupWidgets","allWidgets","nonInteractableWidgets","hiddenWidgets","setOption","getEntryComponent","renderedWidgets","widgetsOrder","filter","widgetId","groupWidgetsOrder","groupWidgetId","allGroupWidgets","renderWidget","isInteractable","localWidget","optionContext","option","optionKey","optionValue","typeOptions","OptionsGroup","SelectChoice","checkIcon","Select","isOpen","setIsOpen","allChoices","renderedChoices","choice","activeLabel","find","selectLabel","Slider","min","max","showPlusSymbol","valueDisplay","Number","parseInt","Toggle","SidebarOptionPanel","OptionPanel","getNonInteractableWidgets","getHiddenWidgets","stateToProps","preferences","allOptions","nonInteractableOptions","_difference","_toConsumableArray","Edit","fm","rightBarPanel","RightBarPanel","AppLayout","routes","path","universalRouter","UniversalRouter","controller","Controller","getElementById","Provider","navigator","serviceWorker","register","reg","console","log","storeEnhancers","composeWithDevTools","applyMiddleware","thunkMiddleware","persistedState","rendering","_defaultsDeep","seed","createReduxStore","allReducers","subscribe","createStore","sampleSong","gettingStarted","addSampleContent","router","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","m","O","result","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","splice","getter","__esModule","definition","globalThis","Function","obj","prop","nmd","paths","scriptUrl","importScripts","currentScript","src","scripts","getElementsByTagName","replace","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","bind","__webpack_exports__"],"sourceRoot":""}