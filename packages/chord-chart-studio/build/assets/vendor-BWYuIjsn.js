var Tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function o$(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}function s$(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var XS=s$;function l$(t){return t}var Rl=l$,a$=XS,by=Math.max;function u$(t,e,n){return e=by(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=by(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(s),a$(t,this,l)}}var ZS=u$;function c$(t){return function(){return t}}var eb=c$,f$=typeof Tn=="object"&&Tn&&Tn.Object===Object&&Tn,tb=f$,d$=tb,p$=typeof self=="object"&&self&&self.Object===Object&&self,h$=d$||p$||Function("return this")(),vn=h$,m$=vn,g$=m$.Symbol,Go=g$,wy=Go,nb=Object.prototype,y$=nb.hasOwnProperty,v$=nb.toString,ms=wy?wy.toStringTag:void 0;function S$(t){var e=y$.call(t,ms),n=t[ms];try{t[ms]=void 0;var r=!0}catch{}var i=v$.call(t);return r&&(e?t[ms]=n:delete t[ms]),i}var b$=S$,w$=Object.prototype,E$=w$.toString;function C$(t){return E$.call(t)}var x$=C$,Ey=Go,T$=b$,O$=x$,$$="[object Null]",k$="[object Undefined]",Cy=Ey?Ey.toStringTag:void 0;function A$(t){return t==null?t===void 0?k$:$$:Cy&&Cy in Object(t)?T$(t):O$(t)}var _i=A$;function P$(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var tn=P$,_$=_i,M$=tn,N$="[object AsyncFunction]",I$="[object Function]",D$="[object GeneratorFunction]",R$="[object Proxy]";function L$(t){if(!M$(t))return!1;var e=_$(t);return e==I$||e==D$||e==N$||e==R$}var zh=L$,F$=vn,B$=F$["__core-js_shared__"],z$=B$,Of=z$,xy=function(){var t=/[^.]+$/.exec(Of&&Of.keys&&Of.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function j$(t){return!!xy&&xy in t}var U$=j$,W$=Function.prototype,V$=W$.toString;function H$(t){if(t!=null){try{return V$.call(t)}catch{}try{return t+""}catch{}}return""}var rb=H$,K$=zh,G$=U$,q$=tn,Y$=rb,J$=/[\\^$.*+?()[\]{}|]/g,Q$=/^\[object .+?Constructor\]$/,X$=Function.prototype,Z$=Object.prototype,ek=X$.toString,tk=Z$.hasOwnProperty,nk=RegExp("^"+ek.call(tk).replace(J$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rk(t){if(!q$(t)||G$(t))return!1;var e=K$(t)?nk:Q$;return e.test(Y$(t))}var ik=rk;function ok(t,e){return t==null?void 0:t[e]}var sk=ok,lk=ik,ak=sk;function uk(t,e){var n=ak(t,e);return lk(n)?n:void 0}var Mi=uk,ck=Mi,fk=function(){try{var t=ck(Object,"defineProperty");return t({},"",{}),t}catch{}}(),ib=fk,dk=eb,Ty=ib,pk=Rl,hk=Ty?function(t,e){return Ty(t,"toString",{configurable:!0,enumerable:!1,value:dk(e),writable:!0})}:pk,mk=hk,gk=800,yk=16,vk=Date.now;function Sk(t){var e=0,n=0;return function(){var r=vk(),i=yk-(r-n);if(n=r,i>0){if(++e>=gk)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var bk=Sk,wk=mk,Ek=bk,Ck=Ek(wk),ob=Ck,xk=Rl,Tk=ZS,Ok=ob;function $k(t,e){return Ok(Tk(t,e,xk),t+"")}var qo=$k;function kk(){this.__data__=[],this.size=0}var Ak=kk;function Pk(t,e){return t===e||t!==t&&e!==e}var Ll=Pk,_k=Ll;function Mk(t,e){for(var n=t.length;n--;)if(_k(t[n][0],e))return n;return-1}var cc=Mk,Nk=cc,Ik=Array.prototype,Dk=Ik.splice;function Rk(t){var e=this.__data__,n=Nk(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Dk.call(e,n,1),--this.size,!0}var Lk=Rk,Fk=cc;function Bk(t){var e=this.__data__,n=Fk(e,t);return n<0?void 0:e[n][1]}var zk=Bk,jk=cc;function Uk(t){return jk(this.__data__,t)>-1}var Wk=Uk,Vk=cc;function Hk(t,e){var n=this.__data__,r=Vk(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Kk=Hk,Gk=Ak,qk=Lk,Yk=zk,Jk=Wk,Qk=Kk;function Yo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yo.prototype.clear=Gk;Yo.prototype.delete=qk;Yo.prototype.get=Yk;Yo.prototype.has=Jk;Yo.prototype.set=Qk;var fc=Yo,Xk=fc;function Zk(){this.__data__=new Xk,this.size=0}var eA=Zk;function tA(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var nA=tA;function rA(t){return this.__data__.get(t)}var iA=rA;function oA(t){return this.__data__.has(t)}var sA=oA,lA=Mi,aA=vn,uA=lA(aA,"Map"),jh=uA,cA=Mi,fA=cA(Object,"create"),dc=fA,Oy=dc;function dA(){this.__data__=Oy?Oy(null):{},this.size=0}var pA=dA;function hA(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var mA=hA,gA=dc,yA="__lodash_hash_undefined__",vA=Object.prototype,SA=vA.hasOwnProperty;function bA(t){var e=this.__data__;if(gA){var n=e[t];return n===yA?void 0:n}return SA.call(e,t)?e[t]:void 0}var wA=bA,EA=dc,CA=Object.prototype,xA=CA.hasOwnProperty;function TA(t){var e=this.__data__;return EA?e[t]!==void 0:xA.call(e,t)}var OA=TA,$A=dc,kA="__lodash_hash_undefined__";function AA(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=$A&&e===void 0?kA:e,this}var PA=AA,_A=pA,MA=mA,NA=wA,IA=OA,DA=PA;function Jo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jo.prototype.clear=_A;Jo.prototype.delete=MA;Jo.prototype.get=NA;Jo.prototype.has=IA;Jo.prototype.set=DA;var RA=Jo,$y=RA,LA=fc,FA=jh;function BA(){this.size=0,this.__data__={hash:new $y,map:new(FA||LA),string:new $y}}var zA=BA;function jA(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var UA=jA,WA=UA;function VA(t,e){var n=t.__data__;return WA(e)?n[typeof e=="string"?"string":"hash"]:n.map}var pc=VA,HA=pc;function KA(t){var e=HA(this,t).delete(t);return this.size-=e?1:0,e}var GA=KA,qA=pc;function YA(t){return qA(this,t).get(t)}var JA=YA,QA=pc;function XA(t){return QA(this,t).has(t)}var ZA=XA,eP=pc;function tP(t,e){var n=eP(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var nP=tP,rP=zA,iP=GA,oP=JA,sP=ZA,lP=nP;function Qo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qo.prototype.clear=rP;Qo.prototype.delete=iP;Qo.prototype.get=oP;Qo.prototype.has=sP;Qo.prototype.set=lP;var Uh=Qo,aP=fc,uP=jh,cP=Uh,fP=200;function dP(t,e){var n=this.__data__;if(n instanceof aP){var r=n.__data__;if(!uP||r.length<fP-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new cP(r)}return n.set(t,e),this.size=n.size,this}var pP=dP,hP=fc,mP=eA,gP=nA,yP=iA,vP=sA,SP=pP;function Xo(t){var e=this.__data__=new hP(t);this.size=e.size}Xo.prototype.clear=mP;Xo.prototype.delete=gP;Xo.prototype.get=yP;Xo.prototype.has=vP;Xo.prototype.set=SP;var hc=Xo,ky=ib;function bP(t,e,n){e=="__proto__"&&ky?ky(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Wh=bP,wP=Wh,EP=Ll;function CP(t,e,n){(n!==void 0&&!EP(t[e],n)||n===void 0&&!(e in t))&&wP(t,e,n)}var sb=CP;function xP(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),l=s.length;l--;){var a=s[t?l:++i];if(n(o[a],a,o)===!1)break}return e}}var TP=xP,OP=TP,$P=OP(),lb=$P,ou={exports:{}};ou.exports;(function(t,e){var n=vn,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?n.Buffer:void 0,l=s?s.allocUnsafe:void 0;function a(u,c){if(c)return u.slice();var f=u.length,d=l?l(f):new u.constructor(f);return u.copy(d),d}t.exports=a})(ou,ou.exports);var ab=ou.exports,kP=vn,AP=kP.Uint8Array,ub=AP,Ay=ub;function PP(t){var e=new t.constructor(t.byteLength);return new Ay(e).set(new Ay(t)),e}var Vh=PP,_P=Vh;function MP(t,e){var n=e?_P(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var cb=MP;function NP(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var fb=NP,IP=tn,Py=Object.create,DP=function(){function t(){}return function(e){if(!IP(e))return{};if(Py)return Py(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),RP=DP;function LP(t,e){return function(n){return t(e(n))}}var db=LP,FP=db,BP=FP(Object.getPrototypeOf,Object),Hh=BP,zP=Object.prototype;function jP(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||zP;return t===n}var Kh=jP,UP=RP,WP=Hh,VP=Kh;function HP(t){return typeof t.constructor=="function"&&!VP(t)?UP(WP(t)):{}}var pb=HP;function KP(t){return t!=null&&typeof t=="object"}var In=KP,GP=_i,qP=In,YP="[object Arguments]";function JP(t){return qP(t)&&GP(t)==YP}var QP=JP,_y=QP,XP=In,hb=Object.prototype,ZP=hb.hasOwnProperty,e_=hb.propertyIsEnumerable,t_=_y(function(){return arguments}())?_y:function(t){return XP(t)&&ZP.call(t,"callee")&&!e_.call(t,"callee")},mc=t_,n_=Array.isArray,vt=n_;const Gh=xe(vt);var r_=9007199254740991;function i_(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=r_}var qh=i_,o_=zh,s_=qh;function l_(t){return t!=null&&s_(t.length)&&!o_(t)}var Ni=l_,a_=Ni,u_=In;function c_(t){return u_(t)&&a_(t)}var gc=c_,su={exports:{}};function f_(){return!1}var d_=f_;su.exports;(function(t,e){var n=vn,r=d_,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,l=s?n.Buffer:void 0,a=l?l.isBuffer:void 0,u=a||r;t.exports=u})(su,su.exports);var yc=su.exports,p_=_i,h_=Hh,m_=In,g_="[object Object]",y_=Function.prototype,v_=Object.prototype,mb=y_.toString,S_=v_.hasOwnProperty,b_=mb.call(Object);function w_(t){if(!m_(t)||p_(t)!=g_)return!1;var e=h_(t);if(e===null)return!0;var n=S_.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&mb.call(n)==b_}var gb=w_,E_=_i,C_=qh,x_=In,T_="[object Arguments]",O_="[object Array]",$_="[object Boolean]",k_="[object Date]",A_="[object Error]",P_="[object Function]",__="[object Map]",M_="[object Number]",N_="[object Object]",I_="[object RegExp]",D_="[object Set]",R_="[object String]",L_="[object WeakMap]",F_="[object ArrayBuffer]",B_="[object DataView]",z_="[object Float32Array]",j_="[object Float64Array]",U_="[object Int8Array]",W_="[object Int16Array]",V_="[object Int32Array]",H_="[object Uint8Array]",K_="[object Uint8ClampedArray]",G_="[object Uint16Array]",q_="[object Uint32Array]",we={};we[z_]=we[j_]=we[U_]=we[W_]=we[V_]=we[H_]=we[K_]=we[G_]=we[q_]=!0;we[T_]=we[O_]=we[F_]=we[$_]=we[B_]=we[k_]=we[A_]=we[P_]=we[__]=we[M_]=we[N_]=we[I_]=we[D_]=we[R_]=we[L_]=!1;function Y_(t){return x_(t)&&C_(t.length)&&!!we[E_(t)]}var J_=Y_;function Q_(t){return function(e){return t(e)}}var Zo=Q_,lu={exports:{}};lu.exports;(function(t,e){var n=tb,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,l=function(){try{var a=i&&i.require&&i.require("util").types;return a||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l})(lu,lu.exports);var Yh=lu.exports,X_=J_,Z_=Zo,My=Yh,Ny=My&&My.isTypedArray,eM=Ny?Z_(Ny):X_,Jh=eM;function tM(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var yb=tM,nM=Wh,rM=Ll,iM=Object.prototype,oM=iM.hasOwnProperty;function sM(t,e,n){var r=t[e];(!(oM.call(t,e)&&rM(r,n))||n===void 0&&!(e in t))&&nM(t,e,n)}var Qh=sM,lM=Qh,aM=Wh;function uM(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var l=e[o],a=r?r(n[l],t[l],l,n,t):void 0;a===void 0&&(a=t[l]),i?aM(n,l,a):lM(n,l,a)}return n}var es=uM;function cM(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var fM=cM,dM=9007199254740991,pM=/^(?:0|[1-9]\d*)$/;function hM(t,e){var n=typeof t;return e=e??dM,!!e&&(n=="number"||n!="symbol"&&pM.test(t))&&t>-1&&t%1==0&&t<e}var vc=hM,mM=fM,gM=mc,yM=vt,vM=yc,SM=vc,bM=Jh,wM=Object.prototype,EM=wM.hasOwnProperty;function CM(t,e){var n=yM(t),r=!n&&gM(t),i=!n&&!r&&vM(t),o=!n&&!r&&!i&&bM(t),s=n||r||i||o,l=s?mM(t.length,String):[],a=l.length;for(var u in t)(e||EM.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||SM(u,a)))&&l.push(u);return l}var vb=CM;function xM(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var TM=xM,OM=tn,$M=Kh,kM=TM,AM=Object.prototype,PM=AM.hasOwnProperty;function _M(t){if(!OM(t))return kM(t);var e=$M(t),n=[];for(var r in t)r=="constructor"&&(e||!PM.call(t,r))||n.push(r);return n}var MM=_M,NM=vb,IM=MM,DM=Ni;function RM(t){return DM(t)?NM(t,!0):IM(t)}var Fl=RM,LM=es,FM=Fl;function BM(t){return LM(t,FM(t))}var zM=BM,Iy=sb,jM=ab,UM=cb,WM=fb,VM=pb,Dy=mc,Ry=vt,HM=gc,KM=yc,GM=zh,qM=tn,YM=gb,JM=Jh,Ly=yb,QM=zM;function XM(t,e,n,r,i,o,s){var l=Ly(t,n),a=Ly(e,n),u=s.get(a);if(u){Iy(t,n,u);return}var c=o?o(l,a,n+"",t,e,s):void 0,f=c===void 0;if(f){var d=Ry(a),p=!d&&KM(a),h=!d&&!p&&JM(a);c=a,d||p||h?Ry(l)?c=l:HM(l)?c=WM(l):p?(f=!1,c=jM(a,!0)):h?(f=!1,c=UM(a,!0)):c=[]:YM(a)||Dy(a)?(c=l,Dy(l)?c=QM(l):(!qM(l)||GM(l))&&(c=VM(a))):f=!1}f&&(s.set(a,c),i(c,a,r,o,s),s.delete(a)),Iy(t,n,c)}var ZM=XM,eN=hc,tN=sb,nN=lb,rN=ZM,iN=tn,oN=Fl,sN=yb;function Sb(t,e,n,r,i){t!==e&&nN(e,function(o,s){if(i||(i=new eN),iN(o))rN(t,e,s,n,Sb,r,i);else{var l=r?r(sN(t,s),o,s+"",t,e,i):void 0;l===void 0&&(l=o),tN(t,s,l)}},oN)}var bb=Sb,lN=bb,Fy=tn;function wb(t,e,n,r,i,o){return Fy(t)&&Fy(e)&&(o.set(e,t),lN(t,e,void 0,wb,o),o.delete(e)),t}var aN=wb,uN=Ll,cN=Ni,fN=vc,dN=tn;function pN(t,e,n){if(!dN(n))return!1;var r=typeof e;return(r=="number"?cN(n)&&fN(e,n.length):r=="string"&&e in n)?uN(n[e],t):!1}var Eb=pN,hN=qo,mN=Eb;function gN(t){return hN(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&mN(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var l=n[r];l&&t(e,l,r,o)}return e})}var yN=gN,vN=bb,SN=yN,bN=SN(function(t,e,n,r){vN(t,e,n,r)}),wN=bN,EN=XS,CN=qo,xN=aN,TN=wN,ON=CN(function(t){return t.push(void 0,xN),EN(TN,void 0,t)}),$N=ON;const KX=xe($N);function Ke(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var kN=typeof Symbol=="function"&&Symbol.observable||"@@observable",By=kN,$f=()=>Math.random().toString(36).substring(7).split("").join("."),AN={INIT:`@@redux/INIT${$f()}`,REPLACE:`@@redux/REPLACE${$f()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$f()}`},au=AN;function Xh(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Cb(t,e,n){if(typeof t!="function")throw new Error(Ke(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ke(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ke(1));return n(Cb)(t,e)}let r=t,i=e,o=new Map,s=o,l=0,a=!1;function u(){s===o&&(s=new Map,o.forEach((S,m)=>{s.set(m,S)}))}function c(){if(a)throw new Error(Ke(3));return i}function f(S){if(typeof S!="function")throw new Error(Ke(4));if(a)throw new Error(Ke(5));let m=!0;u();const y=l++;return s.set(y,S),function(){if(m){if(a)throw new Error(Ke(6));m=!1,u(),s.delete(y),o=null}}}function d(S){if(!Xh(S))throw new Error(Ke(7));if(typeof S.type>"u")throw new Error(Ke(8));if(typeof S.type!="string")throw new Error(Ke(17));if(a)throw new Error(Ke(9));try{a=!0,i=r(i,S)}finally{a=!1}return(o=s).forEach(y=>{y()}),S}function p(S){if(typeof S!="function")throw new Error(Ke(10));r=S,d({type:au.REPLACE})}function h(){const S=f;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(Ke(11));function y(){const w=m;w.next&&w.next(c())}return y(),{unsubscribe:S(y)}},[By](){return this}}}return d({type:au.INIT}),{dispatch:d,subscribe:f,getState:c,replaceReducer:p,[By]:h}}function PN(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:au.INIT})>"u")throw new Error(Ke(12));if(typeof n(void 0,{type:au.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ke(13))})}function _N(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{PN(n)}catch(o){i=o}return function(s={},l){if(i)throw i;let a=!1;const u={};for(let c=0;c<r.length;c++){const f=r[c],d=n[f],p=s[f],h=d(p,l);if(typeof h>"u")throw l&&l.type,new Error(Ke(14));u[f]=h,a=a||h!==p}return a=a||r.length!==Object.keys(s).length,a?u:s}}function uu(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function MN(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Ke(15))};const s={getState:i.getState,dispatch:(a,...u)=>o(a,...u)},l=t.map(a=>a(s));return o=uu(...l)(i.dispatch),{...i,dispatch:o}}}function NN(t){return Xh(t)&&"type"in t&&typeof t.type=="string"}var xb=Symbol.for("immer-nothing"),zy=Symbol.for("immer-draftable"),Ft=Symbol.for("immer-state");function cn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ao=Object.getPrototypeOf;function Si(t){return!!t&&!!t[Ft]}function bi(t){var e;return t?Tb(t)||Array.isArray(t)||!!t[zy]||!!((e=t.constructor)!=null&&e[zy])||bc(t)||wc(t):!1}var IN=Object.prototype.constructor.toString();function Tb(t){if(!t||typeof t!="object")return!1;const e=Ao(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===IN}function cu(t,e){Sc(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Sc(t){const e=t[Ft];return e?e.type_:Array.isArray(t)?1:bc(t)?2:wc(t)?3:0}function Qd(t,e){return Sc(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Ob(t,e,n){const r=Sc(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function DN(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function bc(t){return t instanceof Map}function wc(t){return t instanceof Set}function Yr(t){return t.copy_||t.base_}function Xd(t,e){if(bc(t))return new Map(t);if(wc(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&Tb(t))return Ao(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Ft];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const o=r[i],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[o]})}return Object.create(Ao(t),n)}function Zh(t,e=!1){return Ec(t)||Si(t)||!bi(t)||(Sc(t)>1&&(t.set=t.add=t.clear=t.delete=RN),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>Zh(r,!0))),t}function RN(){cn(2)}function Ec(t){return Object.isFrozen(t)}var LN={};function wi(t){const e=LN[t];return e||cn(0,t),e}var rl;function $b(){return rl}function FN(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jy(t,e){e&&(wi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Zd(t){ep(t),t.drafts_.forEach(BN),t.drafts_=null}function ep(t){t===rl&&(rl=t.parent_)}function Uy(t){return rl=FN(rl,t)}function BN(t){const e=t[Ft];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Wy(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ft].modified_&&(Zd(e),cn(4)),bi(t)&&(t=fu(e,t),e.parent_||du(e,t)),e.patches_&&wi("Patches").generateReplacementPatches_(n[Ft].base_,t,e.patches_,e.inversePatches_)):t=fu(e,n,[]),Zd(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==xb?t:void 0}function fu(t,e,n){if(Ec(e))return e;const r=e[Ft];if(!r)return cu(e,(i,o)=>Vy(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return du(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),cu(o,(l,a)=>Vy(t,r,i,l,a,n,s)),du(t,i,!1),n&&t.patches_&&wi("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Vy(t,e,n,r,i,o,s){if(Si(i)){const l=o&&e&&e.type_!==3&&!Qd(e.assigned_,r)?o.concat(r):void 0,a=fu(t,i,l);if(Ob(n,r,a),Si(a))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(bi(i)&&!Ec(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;fu(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&du(t,i)}}function du(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Zh(e,n)}function zN(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:$b(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=em;n&&(i=[r],o=il);const{revoke:s,proxy:l}=Proxy.revocable(i,o);return r.draft_=l,r.revoke_=s,l}var em={get(t,e){if(e===Ft)return t;const n=Yr(t);if(!Qd(n,e))return jN(t,n,e);const r=n[e];return t.finalized_||!bi(r)?r:r===kf(t.base_,e)?(Af(t),t.copy_[e]=np(r,t)):r},has(t,e){return e in Yr(t)},ownKeys(t){return Reflect.ownKeys(Yr(t))},set(t,e,n){const r=kb(Yr(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=kf(Yr(t),e),o=i==null?void 0:i[Ft];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(DN(n,i)&&(n!==void 0||Qd(t.base_,e)))return!0;Af(t),tp(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return kf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Af(t),tp(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Yr(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){cn(11)},getPrototypeOf(t){return Ao(t.base_)},setPrototypeOf(){cn(12)}},il={};cu(em,(t,e)=>{il[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});il.deleteProperty=function(t,e){return il.set.call(this,t,e,void 0)};il.set=function(t,e,n){return em.set.call(this,t[0],e,n,t[0])};function kf(t,e){const n=t[Ft];return(n?Yr(n):t)[e]}function jN(t,e,n){var i;const r=kb(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function kb(t,e){if(!(e in t))return;let n=Ao(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ao(n)}}function tp(t){t.modified_||(t.modified_=!0,t.parent_&&tp(t.parent_))}function Af(t){t.copy_||(t.copy_=Xd(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var UN=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(a=o,...u){return s.produce(a,c=>n.call(this,c,...u))}}typeof n!="function"&&cn(6),r!==void 0&&typeof r!="function"&&cn(7);let i;if(bi(e)){const o=Uy(this),s=np(e,void 0);let l=!0;try{i=n(s),l=!1}finally{l?Zd(o):ep(o)}return jy(o,r),Wy(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===xb&&(i=void 0),this.autoFreeze_&&Zh(i,!0),r){const o=[],s=[];wi("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else cn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...l)=>this.produceWithPatches(s,a=>e(a,...l));let r,i;return[this.produce(e,n,(s,l)=>{r=s,i=l}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){bi(t)||cn(8),Si(t)&&(t=Ab(t));const e=Uy(this),n=np(t,void 0);return n[Ft].isManual_=!0,ep(e),n}finishDraft(t,e){const n=t&&t[Ft];(!n||!n.isManual_)&&cn(9);const{scope_:r}=n;return jy(r,e),Wy(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=wi("Patches").applyPatches_;return Si(t)?r(t,e):this.produce(t,i=>r(i,e))}};function np(t,e){const n=bc(t)?wi("MapSet").proxyMap_(t,e):wc(t)?wi("MapSet").proxySet_(t,e):zN(t,e);return(e?e.scope_:$b()).drafts_.push(n),n}function Ab(t){return Si(t)||cn(10,t),Pb(t)}function Pb(t){if(!bi(t)||Ec(t))return t;const e=t[Ft];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Xd(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Xd(t,!0);return cu(n,(r,i)=>{Ob(n,r,Pb(i))}),e&&(e.finalized_=!1),n}var Bt=new UN;Bt.produce;Bt.produceWithPatches.bind(Bt);Bt.setAutoFreeze.bind(Bt);Bt.setUseStrictShallowCopy.bind(Bt);Bt.applyPatches.bind(Bt);Bt.createDraft.bind(Bt);Bt.finishDraft.bind(Bt);function WN(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function VN(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function HN(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var Hy=t=>Array.isArray(t)?t:[t];function KN(t){const e=Array.isArray(t[0])?t[0]:t;return HN(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function GN(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var qN=class{constructor(t){this.value=t}deref(){return this.value}},YN=typeof WeakRef<"u"?WeakRef:qN,JN=0,Ky=1;function ra(){return{s:JN,v:void 0,o:null,p:null}}function tm(t,e={}){let n=ra();const{resultEqualityCheck:r}=e;let i,o=0;function s(){var f;let l=n;const{length:a}=arguments;for(let d=0,p=a;d<p;d++){const h=arguments[d];if(typeof h=="function"||typeof h=="object"&&h!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const S=v.get(h);S===void 0?(l=ra(),v.set(h,l)):l=S}else{let v=l.p;v===null&&(l.p=v=new Map);const S=v.get(h);S===void 0?(l=ra(),v.set(h,l)):l=S}}const u=l;let c;if(l.s===Ky?c=l.v:(c=t.apply(null,arguments),o++),u.s=Ky,r){const d=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;d!=null&&r(d,c)&&(c=d,o!==0&&o--),i=typeof c=="object"&&c!==null||typeof c=="function"?new YN(c):c}return u.v=c,c}return s.clearCache=()=>{n=ra(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function _b(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,s=0,l,a={},u=i.pop();typeof u=="object"&&(a=u,u=i.pop()),WN(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...a},{memoize:f,memoizeOptions:d=[],argsMemoize:p=tm,argsMemoizeOptions:h=[],devModeChecks:v={}}=c,S=Hy(d),m=Hy(h),y=KN(i),g=f(function(){return o++,u.apply(null,arguments)},...S),w=p(function(){s++;const x=GN(y,arguments);return l=g.apply(null,x),l},...m);return Object.assign(w,{resultFunc:u,memoizedResultFunc:g,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>l,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:f,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var QN=_b(tm),XN=Object.assign((t,e=QN)=>{VN(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((s,l,a)=>(s[n[a]]=l,s),{}))},{withTypes:()=>XN});function Mb(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var ZN=Mb(),eI=Mb,tI=(...t)=>{const e=_b(...t),n=Object.assign((...r)=>{const i=e(...r),o=(s,...l)=>i(Si(s)?Ab(s):s,...l);return Object.assign(o,i),o},{withTypes:()=>n});return n};tI(tm);var nI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?uu:uu.apply(null,arguments)};function Cc(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Bl(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>NN(r)&&r.type===t,n}var Nb=class As extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,As.prototype)}static get[Symbol.species](){return As}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new As(...e[0].concat(this)):new As(...e.concat(this))}};function rI(t){return typeof t=="boolean"}var iI=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new Nb;return n&&(rI(n)?s.push(ZN):s.push(eI(n.extraArgument))),s},oI="RTK_autoBatch",Ib=t=>e=>{setTimeout(e,t)},sI=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ib(10),lI=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const l=new Set,a=t.type==="tick"?queueMicrotask:t.type==="raf"?sI:t.type==="callback"?t.queueNotification:Ib(t.timeout),u=()=>{s=!1,o&&(o=!1,l.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const f=()=>i&&c(),d=r.subscribe(f);return l.add(c),()=>{d(),l.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[oI]),o=!i,o&&(s||(s=!0,a(u))),r.dispatch(c)}finally{i=!0}}})},aI=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new Nb(t);return r&&i.push(lI(typeof r=="object"?r:void 0)),i},uI=!0;function GX(t){const e=iI(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(Xh(n))l=_N(n);else throw new Error(Bl(1));let a;typeof r=="function"?a=r(e):a=e();let u=uu;i&&(u=nI({trace:!uI,...typeof i=="object"&&i}));const c=MN(...a),f=aI(c);let d=typeof s=="function"?s(f):f();const p=u(...d);return Cb(l,o,p)}var cI="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fI=(t=21)=>{let e="",n=t;for(;n--;)e+=cI[Math.random()*64|0];return e},dI=(t,e)=>{if(typeof t!="function")throw new Error(Bl(32))},nm="listenerMiddleware",pI=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=Cc(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Bl(21));return dI(o),{predicate:i,type:e,effect:o}},hI=Object.assign(t=>{const{type:e,predicate:n,effect:r}=pI(t);return{id:fI(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Bl(22))}}},{withTypes:()=>hI}),mI=Object.assign(Cc(`${nm}/add`),{withTypes:()=>mI});Cc(`${nm}/removeAll`);var gI=Object.assign(Cc(`${nm}/remove`),{withTypes:()=>gI});function Bl(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Db={},rm={};Object.defineProperty(rm,"__esModule",{value:!0});rm.default=vI;function yI(){return"@@is-valid-redux-reducer/"+Math.random().toString(36).substring(7).split("").join("\\")}function vI(t){var e=arguments.length<=1||arguments[1]===void 0?!1:arguments[1];if(typeof t!="function"){if(e)throw new Error("Reducer must be a function.");return!1}var n=t(void 0,{type:yI()});if(typeof n>"u"){if(e)throw new Error("Reducer must return the initial state if the state is undefined.");return!1}return!0}Object.defineProperty(Db,"__esModule",{value:!0});var qX=Db.default=EI,SI=rm,bI=wI(SI);function wI(t){return t&&t.__esModule?t:{default:t}}function EI(t){var e=Object.keys(t),n=void 0;try{for(var r=0;r<e.length;r++)(0,bI.default)(t[e[r]],!0)}catch(i){n=i}return function(i,o,s){if(n)throw n;var l=!1,a=typeof i>"u"?{}:Object.assign({},i);function u(c,f,d){for(var p=0;p<e.length;p++){var h=e[p],v=c(h),S=t[h](v,f,d);a[h]=S,l=l||S!==v}}return typeof i>"u"?u(function(c){},o,void 0):typeof s>"u"?u(function(c){return i[c]},o,i):u(function(c){return i[c]},o,s),l?a:i}}var CI=_i,xI=In,TI="[object Symbol]";function OI(t){return typeof t=="symbol"||xI(t)&&CI(t)==TI}var zl=OI,$I=vt,kI=zl,AI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PI=/^\w*$/;function _I(t,e){if($I(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||kI(t)?!0:PI.test(t)||!AI.test(t)||e!=null&&t in Object(e)}var im=_I,Rb=Uh,MI="Expected a function";function om(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(MI);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(om.Cache||Rb),n}om.Cache=Rb;var NI=om,II=NI,DI=500;function RI(t){var e=II(t,function(r){return n.size===DI&&n.clear(),r}),n=e.cache;return e}var LI=RI,FI=LI,BI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zI=/\\(\\)?/g,jI=FI(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(BI,function(n,r,i,o){e.push(i?o.replace(zI,"$1"):r||n)}),e}),UI=jI;function WI(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Ii=WI,Gy=Go,VI=Ii,HI=vt,KI=zl,GI=1/0,qy=Gy?Gy.prototype:void 0,Yy=qy?qy.toString:void 0;function Lb(t){if(typeof t=="string")return t;if(HI(t))return VI(t,Lb)+"";if(KI(t))return Yy?Yy.call(t):"";var e=t+"";return e=="0"&&1/t==-GI?"-0":e}var qI=Lb,YI=qI;function JI(t){return t==null?"":YI(t)}var Fb=JI,QI=vt,XI=im,ZI=UI,eD=Fb;function tD(t,e){return QI(t)?t:XI(t,e)?[t]:ZI(eD(t))}var ts=tD,nD=zl,rD=1/0;function iD(t){if(typeof t=="string"||nD(t))return t;var e=t+"";return e=="0"&&1/t==-rD?"-0":e}var ns=iD,oD=ts,sD=ns;function lD(t,e){e=oD(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[sD(e[n++])];return n&&n==r?t:void 0}var jl=lD,aD=Qh,uD=ts,cD=vc,Jy=tn,fD=ns;function dD(t,e,n,r){if(!Jy(t))return t;e=uD(e,t);for(var i=-1,o=e.length,s=o-1,l=t;l!=null&&++i<o;){var a=fD(e[i]),u=n;if(a==="__proto__"||a==="constructor"||a==="prototype")return t;if(i!=s){var c=l[a];u=r?r(c,a,l):void 0,u===void 0&&(u=Jy(c)?c:cD(e[i+1])?[]:{})}aD(l,a,u),l=l[a]}return t}var pD=dD,hD=jl,mD=pD,gD=ts;function yD(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],l=hD(t,s);n(l,s)&&mD(o,gD(s,t),l)}return o}var vD=yD;function SD(t,e){return t!=null&&e in Object(t)}var bD=SD,wD=ts,ED=mc,CD=vt,xD=vc,TD=qh,OD=ns;function $D(t,e,n){e=wD(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=OD(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&TD(i)&&xD(s,i)&&(CD(t)||ED(t)))}var kD=$D,AD=bD,PD=kD;function _D(t,e){return t!=null&&PD(t,e,AD)}var Bb=_D,MD=vD,ND=Bb;function ID(t,e){return MD(t,e,function(n,r){return ND(t,r)})}var DD=ID;function RD(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var sm=RD,Qy=Go,LD=mc,FD=vt,Xy=Qy?Qy.isConcatSpreadable:void 0;function BD(t){return FD(t)||LD(t)||!!(Xy&&t&&t[Xy])}var zD=BD,jD=sm,UD=zD;function zb(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=UD),i||(i=[]);++o<s;){var l=t[o];e>0&&n(l)?e>1?zb(l,e-1,n,r,i):jD(i,l):r||(i[i.length]=l)}return i}var lm=zb,WD=lm;function VD(t){var e=t==null?0:t.length;return e?WD(t,1):[]}var HD=VD,KD=HD,GD=ZS,qD=ob;function YD(t){return qD(GD(t,void 0,KD),t+"")}var jb=YD,JD=DD,QD=jb,XD=QD(function(t,e){return t==null?{}:JD(t,e)}),ZD=XD;const YX=xe(ZD);var eR="__lodash_hash_undefined__";function tR(t){return this.__data__.set(t,eR),this}var nR=tR;function rR(t){return this.__data__.has(t)}var iR=rR,oR=Uh,sR=nR,lR=iR;function pu(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new oR;++e<n;)this.add(t[e])}pu.prototype.add=pu.prototype.push=sR;pu.prototype.has=lR;var xc=pu;function aR(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var uR=aR;function cR(t,e){return t.has(e)}var Tc=cR,fR=xc,dR=uR,pR=Tc,hR=1,mR=2;function gR(t,e,n,r,i,o){var s=n&hR,l=t.length,a=e.length;if(l!=a&&!(s&&a>l))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=n&mR?new fR:void 0;for(o.set(t,e),o.set(e,t);++f<l;){var h=t[f],v=e[f];if(r)var S=s?r(v,h,f,e,t,o):r(h,v,f,t,e,o);if(S!==void 0){if(S)continue;d=!1;break}if(p){if(!dR(e,function(m,y){if(!pR(p,y)&&(h===m||i(h,m,n,r,o)))return p.push(y)})){d=!1;break}}else if(!(h===v||i(h,v,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var Ub=gR;function yR(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var vR=yR;function SR(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var am=SR,Zy=Go,ev=ub,bR=Ll,wR=Ub,ER=vR,CR=am,xR=1,TR=2,OR="[object Boolean]",$R="[object Date]",kR="[object Error]",AR="[object Map]",PR="[object Number]",_R="[object RegExp]",MR="[object Set]",NR="[object String]",IR="[object Symbol]",DR="[object ArrayBuffer]",RR="[object DataView]",tv=Zy?Zy.prototype:void 0,Pf=tv?tv.valueOf:void 0;function LR(t,e,n,r,i,o,s){switch(n){case RR:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case DR:return!(t.byteLength!=e.byteLength||!o(new ev(t),new ev(e)));case OR:case $R:case PR:return bR(+t,+e);case kR:return t.name==e.name&&t.message==e.message;case _R:case NR:return t==e+"";case AR:var l=ER;case MR:var a=r&xR;if(l||(l=CR),t.size!=e.size&&!a)return!1;var u=s.get(t);if(u)return u==e;r|=TR,s.set(t,e);var c=wR(l(t),l(e),r,i,o,s);return s.delete(t),c;case IR:if(Pf)return Pf.call(t)==Pf.call(e)}return!1}var FR=LR,BR=sm,zR=vt;function jR(t,e,n){var r=e(t);return zR(t)?r:BR(r,n(t))}var Wb=jR;function UR(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var WR=UR;function VR(){return[]}var Vb=VR,HR=WR,KR=Vb,GR=Object.prototype,qR=GR.propertyIsEnumerable,nv=Object.getOwnPropertySymbols,YR=nv?function(t){return t==null?[]:(t=Object(t),HR(nv(t),function(e){return qR.call(t,e)}))}:KR,um=YR,JR=db,QR=JR(Object.keys,Object),XR=QR,ZR=Kh,e2=XR,t2=Object.prototype,n2=t2.hasOwnProperty;function r2(t){if(!ZR(t))return e2(t);var e=[];for(var n in Object(t))n2.call(t,n)&&n!="constructor"&&e.push(n);return e}var i2=r2,o2=vb,s2=i2,l2=Ni;function a2(t){return l2(t)?o2(t):s2(t)}var rs=a2,u2=Wb,c2=um,f2=rs;function d2(t){return u2(t,f2,c2)}var Hb=d2,rv=Hb,p2=1,h2=Object.prototype,m2=h2.hasOwnProperty;function g2(t,e,n,r,i,o){var s=n&p2,l=rv(t),a=l.length,u=rv(e),c=u.length;if(a!=c&&!s)return!1;for(var f=a;f--;){var d=l[f];if(!(s?d in e:m2.call(e,d)))return!1}var p=o.get(t),h=o.get(e);if(p&&h)return p==e&&h==t;var v=!0;o.set(t,e),o.set(e,t);for(var S=s;++f<a;){d=l[f];var m=t[d],y=e[d];if(r)var g=s?r(y,m,d,e,t,o):r(m,y,d,t,e,o);if(!(g===void 0?m===y||i(m,y,n,r,o):g)){v=!1;break}S||(S=d=="constructor")}if(v&&!S){var w=t.constructor,C=e.constructor;w!=C&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof C=="function"&&C instanceof C)&&(v=!1)}return o.delete(t),o.delete(e),v}var y2=g2,v2=Mi,S2=vn,b2=v2(S2,"DataView"),w2=b2,E2=Mi,C2=vn,x2=E2(C2,"Promise"),T2=x2,O2=Mi,$2=vn,k2=O2($2,"Set"),Kb=k2,A2=Mi,P2=vn,_2=A2(P2,"WeakMap"),M2=_2,rp=w2,ip=jh,op=T2,sp=Kb,lp=M2,Gb=_i,is=rb,iv="[object Map]",N2="[object Object]",ov="[object Promise]",sv="[object Set]",lv="[object WeakMap]",av="[object DataView]",I2=is(rp),D2=is(ip),R2=is(op),L2=is(sp),F2=is(lp),Jr=Gb;(rp&&Jr(new rp(new ArrayBuffer(1)))!=av||ip&&Jr(new ip)!=iv||op&&Jr(op.resolve())!=ov||sp&&Jr(new sp)!=sv||lp&&Jr(new lp)!=lv)&&(Jr=function(t){var e=Gb(t),n=e==N2?t.constructor:void 0,r=n?is(n):"";if(r)switch(r){case I2:return av;case D2:return iv;case R2:return ov;case L2:return sv;case F2:return lv}return e});var Oc=Jr,_f=hc,B2=Ub,z2=FR,j2=y2,uv=Oc,cv=vt,fv=yc,U2=Jh,W2=1,dv="[object Arguments]",pv="[object Array]",ia="[object Object]",V2=Object.prototype,hv=V2.hasOwnProperty;function H2(t,e,n,r,i,o){var s=cv(t),l=cv(e),a=s?pv:uv(t),u=l?pv:uv(e);a=a==dv?ia:a,u=u==dv?ia:u;var c=a==ia,f=u==ia,d=a==u;if(d&&fv(t)){if(!fv(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new _f),s||U2(t)?B2(t,e,n,r,i,o):z2(t,e,a,n,r,i,o);if(!(n&W2)){var p=c&&hv.call(t,"__wrapped__"),h=f&&hv.call(e,"__wrapped__");if(p||h){var v=p?t.value():t,S=h?e.value():e;return o||(o=new _f),i(v,S,n,r,o)}}return d?(o||(o=new _f),j2(t,e,n,r,i,o)):!1}var K2=H2,G2=K2,mv=In;function qb(t,e,n,r,i){return t===e?!0:t==null||e==null||!mv(t)&&!mv(e)?t!==t&&e!==e:G2(t,e,n,r,qb,i)}var cm=qb,q2=hc,Y2=cm,J2=1,Q2=2;function X2(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var l=n[i];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){l=n[i];var a=l[0],u=t[a],c=l[1];if(s&&l[2]){if(u===void 0&&!(a in t))return!1}else{var f=new q2;if(r)var d=r(u,c,a,t,e,f);if(!(d===void 0?Y2(c,u,J2|Q2,r,f):d))return!1}}return!0}var Z2=X2,eL=tn;function tL(t){return t===t&&!eL(t)}var Yb=tL,nL=Yb,rL=rs;function iL(t){for(var e=rL(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,nL(i)]}return e}var oL=iL;function sL(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Jb=sL,lL=Z2,aL=oL,uL=Jb;function cL(t){var e=aL(t);return e.length==1&&e[0][2]?uL(e[0][0],e[0][1]):function(n){return n===t||lL(n,t,e)}}var fL=cL,dL=jl;function pL(t,e,n){var r=t==null?void 0:dL(t,e);return r===void 0?n:r}var hL=pL,mL=cm,gL=hL,yL=Bb,vL=im,SL=Yb,bL=Jb,wL=ns,EL=1,CL=2;function xL(t,e){return vL(t)&&SL(e)?bL(wL(t),e):function(n){var r=gL(n,t);return r===void 0&&r===e?yL(n,t):mL(e,r,EL|CL)}}var TL=xL;function OL(t){return function(e){return e==null?void 0:e[t]}}var $L=OL,kL=jl;function AL(t){return function(e){return kL(e,t)}}var PL=AL,_L=$L,ML=PL,NL=im,IL=ns;function DL(t){return NL(t)?_L(IL(t)):ML(t)}var RL=DL,LL=fL,FL=TL,BL=Rl,zL=vt,jL=RL;function UL(t){return typeof t=="function"?t:t==null?BL:typeof t=="object"?zL(t)?FL(t[0],t[1]):LL(t):jL(t)}var $c=UL,WL=lb,VL=rs;function HL(t,e){return t&&WL(t,e,VL)}var Qb=HL,KL=Ni;function GL(t,e){return function(n,r){if(n==null)return n;if(!KL(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var qL=GL,YL=Qb,JL=qL,QL=JL(YL),XL=QL,ZL=XL,eF=Ni;function tF(t,e){var n=-1,r=eF(t)?Array(t.length):[];return ZL(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var Xb=tF,nF=Ii,rF=$c,iF=Xb,oF=vt;function sF(t,e){var n=oF(t)?nF:iF;return n(t,rF(e))}var lF=sF;const JX=xe(lF);function aF(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var uF=aF,cF=es,fF=rs;function dF(t,e){return t&&cF(e,fF(e),t)}var pF=dF,hF=es,mF=Fl;function gF(t,e){return t&&hF(e,mF(e),t)}var yF=gF,vF=es,SF=um;function bF(t,e){return vF(t,SF(t),e)}var wF=bF,EF=sm,CF=Hh,xF=um,TF=Vb,OF=Object.getOwnPropertySymbols,$F=OF?function(t){for(var e=[];t;)EF(e,xF(t)),t=CF(t);return e}:TF,Zb=$F,kF=es,AF=Zb;function PF(t,e){return kF(t,AF(t),e)}var _F=PF,MF=Wb,NF=Zb,IF=Fl;function DF(t){return MF(t,IF,NF)}var ew=DF,RF=Object.prototype,LF=RF.hasOwnProperty;function FF(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&LF.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var BF=FF,zF=Vh;function jF(t,e){var n=e?zF(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var UF=jF,WF=/\w*$/;function VF(t){var e=new t.constructor(t.source,WF.exec(t));return e.lastIndex=t.lastIndex,e}var HF=VF,gv=Go,yv=gv?gv.prototype:void 0,vv=yv?yv.valueOf:void 0;function KF(t){return vv?Object(vv.call(t)):{}}var GF=KF,qF=Vh,YF=UF,JF=HF,QF=GF,XF=cb,ZF="[object Boolean]",e3="[object Date]",t3="[object Map]",n3="[object Number]",r3="[object RegExp]",i3="[object Set]",o3="[object String]",s3="[object Symbol]",l3="[object ArrayBuffer]",a3="[object DataView]",u3="[object Float32Array]",c3="[object Float64Array]",f3="[object Int8Array]",d3="[object Int16Array]",p3="[object Int32Array]",h3="[object Uint8Array]",m3="[object Uint8ClampedArray]",g3="[object Uint16Array]",y3="[object Uint32Array]";function v3(t,e,n){var r=t.constructor;switch(e){case l3:return qF(t);case ZF:case e3:return new r(+t);case a3:return YF(t,n);case u3:case c3:case f3:case d3:case p3:case h3:case m3:case g3:case y3:return XF(t,n);case t3:return new r;case n3:case o3:return new r(t);case r3:return JF(t);case i3:return new r;case s3:return QF(t)}}var S3=v3,b3=Oc,w3=In,E3="[object Map]";function C3(t){return w3(t)&&b3(t)==E3}var x3=C3,T3=x3,O3=Zo,Sv=Yh,bv=Sv&&Sv.isMap,$3=bv?O3(bv):T3,k3=$3,A3=Oc,P3=In,_3="[object Set]";function M3(t){return P3(t)&&A3(t)==_3}var N3=M3,I3=N3,D3=Zo,wv=Yh,Ev=wv&&wv.isSet,R3=Ev?D3(Ev):I3,L3=R3,F3=hc,B3=uF,z3=Qh,j3=pF,U3=yF,W3=ab,V3=fb,H3=wF,K3=_F,G3=Hb,q3=ew,Y3=Oc,J3=BF,Q3=S3,X3=pb,Z3=vt,eB=yc,tB=k3,nB=tn,rB=L3,iB=rs,oB=Fl,sB=1,lB=2,aB=4,tw="[object Arguments]",uB="[object Array]",cB="[object Boolean]",fB="[object Date]",dB="[object Error]",nw="[object Function]",pB="[object GeneratorFunction]",hB="[object Map]",mB="[object Number]",rw="[object Object]",gB="[object RegExp]",yB="[object Set]",vB="[object String]",SB="[object Symbol]",bB="[object WeakMap]",wB="[object ArrayBuffer]",EB="[object DataView]",CB="[object Float32Array]",xB="[object Float64Array]",TB="[object Int8Array]",OB="[object Int16Array]",$B="[object Int32Array]",kB="[object Uint8Array]",AB="[object Uint8ClampedArray]",PB="[object Uint16Array]",_B="[object Uint32Array]",ve={};ve[tw]=ve[uB]=ve[wB]=ve[EB]=ve[cB]=ve[fB]=ve[CB]=ve[xB]=ve[TB]=ve[OB]=ve[$B]=ve[hB]=ve[mB]=ve[rw]=ve[gB]=ve[yB]=ve[vB]=ve[SB]=ve[kB]=ve[AB]=ve[PB]=ve[_B]=!0;ve[dB]=ve[nw]=ve[bB]=!1;function Ba(t,e,n,r,i,o){var s,l=e&sB,a=e&lB,u=e&aB;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!nB(t))return t;var c=Z3(t);if(c){if(s=J3(t),!l)return V3(t,s)}else{var f=Y3(t),d=f==nw||f==pB;if(eB(t))return W3(t,l);if(f==rw||f==tw||d&&!i){if(s=a||d?{}:X3(t),!l)return a?K3(t,U3(s,t)):H3(t,j3(s,t))}else{if(!ve[f])return i?t:{};s=Q3(t,f,l)}}o||(o=new F3);var p=o.get(t);if(p)return p;o.set(t,s),rB(t)?t.forEach(function(S){s.add(Ba(S,e,n,S,t,o))}):tB(t)&&t.forEach(function(S,m){s.set(m,Ba(S,e,n,m,t,o))});var h=u?a?q3:G3:a?oB:iB,v=c?void 0:h(t);return B3(v||t,function(S,m){v&&(m=S,S=t[m]),z3(s,m,Ba(S,e,n,m,t,o))}),s}var fm=Ba,MB=fm,NB=1,IB=4;function DB(t){return MB(t,NB|IB)}var RB=DB;const oe=xe(RB);var LB=cm;function FB(t,e){return LB(t,e)}var BB=FB;const ol=xe(BB);function zB(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var jB=zB,Cv=zl;function UB(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=Cv(t),s=e!==void 0,l=e===null,a=e===e,u=Cv(e);if(!l&&!u&&!o&&t>e||o&&s&&a&&!l&&!u||r&&s&&a||!n&&a||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||l&&n&&i||!s&&i||!a)return-1}return 0}var WB=UB,VB=WB;function HB(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,l=n.length;++r<s;){var a=VB(i[r],o[r]);if(a){if(r>=l)return a;var u=n[r];return a*(u=="desc"?-1:1)}}return t.index-e.index}var KB=HB,Mf=Ii,GB=jl,qB=$c,YB=Xb,JB=jB,QB=Zo,XB=KB,ZB=Rl,ez=vt;function tz(t,e,n){e.length?e=Mf(e,function(o){return ez(o)?function(s){return GB(s,o.length===1?o[0]:o)}:o}):e=[ZB];var r=-1;e=Mf(e,QB(qB));var i=YB(t,function(o,s,l){var a=Mf(e,function(u){return u(o)});return{criteria:a,index:++r,value:o}});return JB(i,function(o,s){return XB(o,s,n)})}var nz=tz,rz=lm,iz=nz,oz=qo,xv=Eb,sz=oz(function(t,e){if(t==null)return[];var n=e.length;return n>1&&xv(t,e[0],e[1])?e=[]:n>2&&xv(e[0],e[1],e[2])&&(e=[e[0]]),iz(t,rz(e,1),[])}),lz=sz;const QX=xe(lz);var hu="NOT_FOUND";function az(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:hu},put:function(r,i){e={key:r,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function uz(t,e){var n=[];function r(l){var a=n.findIndex(function(c){return e(l,c.key)});if(a>-1){var u=n[a];return a>0&&(n.splice(a,1),n.unshift(u)),u.value}return hu}function i(l,a){r(l)===hu&&(n.unshift({key:l,value:a}),n.length>t&&n.pop())}function o(){return n}function s(){n=[]}return{get:r,put:i,getEntries:o,clear:s}}var cz=function(e,n){return e===n};function fz(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,o=0;o<i;o++)if(!t(n[o],r[o]))return!1;return!0}}function XX(t,e){var n=typeof e=="object"?e:{equalityCheck:e},r=n.equalityCheck,i=r===void 0?cz:r,o=n.maxSize,s=o===void 0?1:o,l=n.resultEqualityCheck,a=fz(i),u=s===1?az(a):uz(s,a);function c(){var f=u.get(arguments);if(f===hu){if(f=t.apply(null,arguments),l){var d=u.getEntries(),p=d.find(function(h){return l(h.value,f)});p&&(f=p.value)}u.put(arguments,f)}return f}return c.clearCache=function(){return u.clear()},c}function dz(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var n=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function ZX(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=function(){for(var s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];var u=0,c,f={memoizeOptions:void 0},d=l.pop();if(typeof d=="object"&&(f=d,d=l.pop()),typeof d!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof d+"]");var p=f,h=p.memoizeOptions,v=h===void 0?n:h,S=Array.isArray(v)?v:[v],m=dz(l),y=t.apply(void 0,[function(){return u++,d.apply(null,arguments)}].concat(S)),g=t(function(){for(var C=[],x=m.length,P=0;P<x;P++)C.push(m[P].apply(null,arguments));return c=y.apply(null,C),c});return Object.assign(g,{resultFunc:d,memoizedResultFunc:y,dependencies:m,lastResult:function(){return c},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),g};return i}/*! @license DOMPurify 3.0.9 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.9/LICENSE */const{entries:iw,setPrototypeOf:Tv,isFrozen:pz,getPrototypeOf:hz,getOwnPropertyDescriptor:mz}=Object;let{freeze:ht,seal:mn,create:ow}=Object,{apply:ap,construct:up}=typeof Reflect<"u"&&Reflect;ht||(ht=function(e){return e});mn||(mn=function(e){return e});ap||(ap=function(e,n,r){return e.apply(n,r)});up||(up=function(e,n){return new e(...n)});const oa=zt(Array.prototype.forEach),Ov=zt(Array.prototype.pop),gs=zt(Array.prototype.push),za=zt(String.prototype.toLowerCase),Nf=zt(String.prototype.toString),gz=zt(String.prototype.match),ys=zt(String.prototype.replace),yz=zt(String.prototype.indexOf),vz=zt(String.prototype.trim),on=zt(Object.prototype.hasOwnProperty),_t=zt(RegExp.prototype.test),vs=Sz(TypeError);function zt(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ap(t,e,r)}}function Sz(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return up(t,n)}}function Z(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:za;Tv&&Tv(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=n(i);o!==i&&(pz(e)||(e[r]=o),i=o)}t[i]=!0}return t}function bz(t){for(let e=0;e<t.length;e++)on(t,e)||(t[e]=null);return t}function Qr(t){const e=ow(null);for(const[n,r]of iw(t))on(t,n)&&(Array.isArray(r)?e[n]=bz(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Qr(r):e[n]=r);return e}function sa(t,e){for(;t!==null;){const r=mz(t,e);if(r){if(r.get)return zt(r.get);if(typeof r.value=="function")return zt(r.value)}t=hz(t)}function n(){return null}return n}const $v=ht(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),If=ht(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Df=ht(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),wz=ht(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Rf=ht(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ez=ht(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),kv=ht(["#text"]),Av=ht(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Lf=ht(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Pv=ht(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),la=ht(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Cz=mn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),xz=mn(/<%[\w\W]*|[\w\W]*%>/gm),Tz=mn(/\${[\w\W]*}/gm),Oz=mn(/^data-[\-\w.\u00B7-\uFFFF]/),$z=mn(/^aria-[\-\w]+$/),sw=mn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kz=mn(/^(?:\w+script|data):/i),Az=mn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),lw=mn(/^html$/i);var _v=Object.freeze({__proto__:null,MUSTACHE_EXPR:Cz,ERB_EXPR:xz,TMPLIT_EXPR:Tz,DATA_ATTR:Oz,ARIA_ATTR:$z,IS_ALLOWED_URI:sw,IS_SCRIPT_OR_DATA:kz,ATTR_WHITESPACE:Az,DOCTYPE_NAME:lw});const Pz=function(){return typeof window>"u"?null:window},_z=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function aw(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Pz();const e=K=>aw(K);if(e.version="3.0.9",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:l,Element:a,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:p}=t,h=a.prototype,v=sa(h,"cloneNode"),S=sa(h,"nextSibling"),m=sa(h,"childNodes"),y=sa(h,"parentNode");if(typeof s=="function"){const K=n.createElement("template");K.content&&K.content.ownerDocument&&(n=K.content.ownerDocument)}let g,w="";const{implementation:C,createNodeIterator:x,createDocumentFragment:P,getElementsByTagName:b}=n,{importNode:A}=r;let I={};e.isSupported=typeof iw=="function"&&typeof y=="function"&&C&&C.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:$,TMPLIT_EXPR:T,DATA_ATTR:k,ARIA_ATTR:U,IS_SCRIPT_OR_DATA:ie,ATTR_WHITESPACE:De}=_v;let{IS_ALLOWED_URI:B}=_v,W=null;const q=Z({},[...$v,...If,...Df,...Rf,...kv]);let Y=null;const ce=Z({},[...Av,...Lf,...Pv,...la]);let L=Object.seal(ow(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Q=null,X=null,Ae=!0,ge=!0,Dn=!1,Sn=!0,Pt=!1,ir=!1,wt=!1,Rn=!1,Li=!1,Zl=!1,ea=!1,ey=!0,ty=!1;const JO="user-content-";let bf=!0,ds=!1,Fi={},Bi=null;const ny=Z({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ry=null;const iy=Z({},["audio","video","img","source","image","track"]);let wf=null;const oy=Z({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ta="http://www.w3.org/1998/Math/MathML",na="http://www.w3.org/2000/svg",Ln="http://www.w3.org/1999/xhtml";let zi=Ln,Ef=!1,Cf=null;const QO=Z({},[ta,na,Ln],Nf);let ps=null;const XO=["application/xhtml+xml","text/html"],ZO="text/html";let Re=null,ji=null;const e$=n.createElement("form"),sy=function(E){return E instanceof RegExp||E instanceof Function},xf=function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ji&&ji===E)){if((!E||typeof E!="object")&&(E={}),E=Qr(E),ps=XO.indexOf(E.PARSER_MEDIA_TYPE)===-1?ZO:E.PARSER_MEDIA_TYPE,Re=ps==="application/xhtml+xml"?Nf:za,W=on(E,"ALLOWED_TAGS")?Z({},E.ALLOWED_TAGS,Re):q,Y=on(E,"ALLOWED_ATTR")?Z({},E.ALLOWED_ATTR,Re):ce,Cf=on(E,"ALLOWED_NAMESPACES")?Z({},E.ALLOWED_NAMESPACES,Nf):QO,wf=on(E,"ADD_URI_SAFE_ATTR")?Z(Qr(oy),E.ADD_URI_SAFE_ATTR,Re):oy,ry=on(E,"ADD_DATA_URI_TAGS")?Z(Qr(iy),E.ADD_DATA_URI_TAGS,Re):iy,Bi=on(E,"FORBID_CONTENTS")?Z({},E.FORBID_CONTENTS,Re):ny,Q=on(E,"FORBID_TAGS")?Z({},E.FORBID_TAGS,Re):{},X=on(E,"FORBID_ATTR")?Z({},E.FORBID_ATTR,Re):{},Fi=on(E,"USE_PROFILES")?E.USE_PROFILES:!1,Ae=E.ALLOW_ARIA_ATTR!==!1,ge=E.ALLOW_DATA_ATTR!==!1,Dn=E.ALLOW_UNKNOWN_PROTOCOLS||!1,Sn=E.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Pt=E.SAFE_FOR_TEMPLATES||!1,ir=E.WHOLE_DOCUMENT||!1,Li=E.RETURN_DOM||!1,Zl=E.RETURN_DOM_FRAGMENT||!1,ea=E.RETURN_TRUSTED_TYPE||!1,Rn=E.FORCE_BODY||!1,ey=E.SANITIZE_DOM!==!1,ty=E.SANITIZE_NAMED_PROPS||!1,bf=E.KEEP_CONTENT!==!1,ds=E.IN_PLACE||!1,B=E.ALLOWED_URI_REGEXP||sw,zi=E.NAMESPACE||Ln,L=E.CUSTOM_ELEMENT_HANDLING||{},E.CUSTOM_ELEMENT_HANDLING&&sy(E.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(L.tagNameCheck=E.CUSTOM_ELEMENT_HANDLING.tagNameCheck),E.CUSTOM_ELEMENT_HANDLING&&sy(E.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(L.attributeNameCheck=E.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),E.CUSTOM_ELEMENT_HANDLING&&typeof E.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(L.allowCustomizedBuiltInElements=E.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Pt&&(ge=!1),Zl&&(Li=!0),Fi&&(W=Z({},kv),Y=[],Fi.html===!0&&(Z(W,$v),Z(Y,Av)),Fi.svg===!0&&(Z(W,If),Z(Y,Lf),Z(Y,la)),Fi.svgFilters===!0&&(Z(W,Df),Z(Y,Lf),Z(Y,la)),Fi.mathMl===!0&&(Z(W,Rf),Z(Y,Pv),Z(Y,la))),E.ADD_TAGS&&(W===q&&(W=Qr(W)),Z(W,E.ADD_TAGS,Re)),E.ADD_ATTR&&(Y===ce&&(Y=Qr(Y)),Z(Y,E.ADD_ATTR,Re)),E.ADD_URI_SAFE_ATTR&&Z(wf,E.ADD_URI_SAFE_ATTR,Re),E.FORBID_CONTENTS&&(Bi===ny&&(Bi=Qr(Bi)),Z(Bi,E.FORBID_CONTENTS,Re)),bf&&(W["#text"]=!0),ir&&Z(W,["html","head","body"]),W.table&&(Z(W,["tbody"]),delete Q.tbody),E.TRUSTED_TYPES_POLICY){if(typeof E.TRUSTED_TYPES_POLICY.createHTML!="function")throw vs('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof E.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw vs('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');g=E.TRUSTED_TYPES_POLICY,w=g.createHTML("")}else g===void 0&&(g=_z(p,i)),g!==null&&typeof w=="string"&&(w=g.createHTML(""));ht&&ht(E),ji=E}},ly=Z({},["mi","mo","mn","ms","mtext"]),ay=Z({},["foreignobject","desc","title","annotation-xml"]),t$=Z({},["title","style","font","a","script"]),uy=Z({},[...If,...Df,...wz]),cy=Z({},[...Rf,...Ez]),n$=function(E){let R=y(E);(!R||!R.tagName)&&(R={namespaceURI:zi,tagName:"template"});const H=za(E.tagName),ye=za(R.tagName);return Cf[E.namespaceURI]?E.namespaceURI===na?R.namespaceURI===Ln?H==="svg":R.namespaceURI===ta?H==="svg"&&(ye==="annotation-xml"||ly[ye]):!!uy[H]:E.namespaceURI===ta?R.namespaceURI===Ln?H==="math":R.namespaceURI===na?H==="math"&&ay[ye]:!!cy[H]:E.namespaceURI===Ln?R.namespaceURI===na&&!ay[ye]||R.namespaceURI===ta&&!ly[ye]?!1:!cy[H]&&(t$[H]||!uy[H]):!!(ps==="application/xhtml+xml"&&Cf[E.namespaceURI]):!1},Kr=function(E){gs(e.removed,{element:E});try{E.parentNode.removeChild(E)}catch{E.remove()}},Tf=function(E,R){try{gs(e.removed,{attribute:R.getAttributeNode(E),from:R})}catch{gs(e.removed,{attribute:null,from:R})}if(R.removeAttribute(E),E==="is"&&!Y[E])if(Li||Zl)try{Kr(R)}catch{}else try{R.setAttribute(E,"")}catch{}},fy=function(E){let R=null,H=null;if(Rn)E="<remove></remove>"+E;else{const Ze=gz(E,/^[\r\n\t ]+/);H=Ze&&Ze[0]}ps==="application/xhtml+xml"&&zi===Ln&&(E='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+E+"</body></html>");const ye=g?g.createHTML(E):E;if(zi===Ln)try{R=new d().parseFromString(ye,ps)}catch{}if(!R||!R.documentElement){R=C.createDocument(zi,"template",null);try{R.documentElement.innerHTML=Ef?w:ye}catch{}}const Xe=R.body||R.documentElement;return E&&H&&Xe.insertBefore(n.createTextNode(H),Xe.childNodes[0]||null),zi===Ln?b.call(R,ir?"html":"body")[0]:ir?R.documentElement:Xe},dy=function(E){return x.call(E.ownerDocument||E,E,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null)},r$=function(E){return E instanceof f&&(typeof E.nodeName!="string"||typeof E.textContent!="string"||typeof E.removeChild!="function"||!(E.attributes instanceof c)||typeof E.removeAttribute!="function"||typeof E.setAttribute!="function"||typeof E.namespaceURI!="string"||typeof E.insertBefore!="function"||typeof E.hasChildNodes!="function")},py=function(E){return typeof l=="function"&&E instanceof l},Fn=function(E,R,H){I[E]&&oa(I[E],ye=>{ye.call(e,R,H,ji)})},hy=function(E){let R=null;if(Fn("beforeSanitizeElements",E,null),r$(E))return Kr(E),!0;const H=Re(E.nodeName);if(Fn("uponSanitizeElement",E,{tagName:H,allowedTags:W}),E.hasChildNodes()&&!py(E.firstElementChild)&&_t(/<[/\w]/g,E.innerHTML)&&_t(/<[/\w]/g,E.textContent))return Kr(E),!0;if(!W[H]||Q[H]){if(!Q[H]&&gy(H)&&(L.tagNameCheck instanceof RegExp&&_t(L.tagNameCheck,H)||L.tagNameCheck instanceof Function&&L.tagNameCheck(H)))return!1;if(bf&&!Bi[H]){const ye=y(E)||E.parentNode,Xe=m(E)||E.childNodes;if(Xe&&ye){const Ze=Xe.length;for(let Et=Ze-1;Et>=0;--Et)ye.insertBefore(v(Xe[Et],!0),S(E))}}return Kr(E),!0}return E instanceof a&&!n$(E)||(H==="noscript"||H==="noembed"||H==="noframes")&&_t(/<\/no(script|embed|frames)/i,E.innerHTML)?(Kr(E),!0):(Pt&&E.nodeType===3&&(R=E.textContent,oa([M,$,T],ye=>{R=ys(R,ye," ")}),E.textContent!==R&&(gs(e.removed,{element:E.cloneNode()}),E.textContent=R)),Fn("afterSanitizeElements",E,null),!1)},my=function(E,R,H){if(ey&&(R==="id"||R==="name")&&(H in n||H in e$))return!1;if(!(ge&&!X[R]&&_t(k,R))){if(!(Ae&&_t(U,R))){if(!Y[R]||X[R]){if(!(gy(E)&&(L.tagNameCheck instanceof RegExp&&_t(L.tagNameCheck,E)||L.tagNameCheck instanceof Function&&L.tagNameCheck(E))&&(L.attributeNameCheck instanceof RegExp&&_t(L.attributeNameCheck,R)||L.attributeNameCheck instanceof Function&&L.attributeNameCheck(R))||R==="is"&&L.allowCustomizedBuiltInElements&&(L.tagNameCheck instanceof RegExp&&_t(L.tagNameCheck,H)||L.tagNameCheck instanceof Function&&L.tagNameCheck(H))))return!1}else if(!wf[R]){if(!_t(B,ys(H,De,""))){if(!((R==="src"||R==="xlink:href"||R==="href")&&E!=="script"&&yz(H,"data:")===0&&ry[E])){if(!(Dn&&!_t(ie,ys(H,De,"")))){if(H)return!1}}}}}}return!0},gy=function(E){return E!=="annotation-xml"&&E.indexOf("-")>0},yy=function(E){Fn("beforeSanitizeAttributes",E,null);const{attributes:R}=E;if(!R)return;const H={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Y};let ye=R.length;for(;ye--;){const Xe=R[ye],{name:Ze,namespaceURI:Et,value:Gr}=Xe,hs=Re(Ze);let Ct=Ze==="value"?Gr:vz(Gr);if(H.attrName=hs,H.attrValue=Ct,H.keepAttr=!0,H.forceKeepAttr=void 0,Fn("uponSanitizeAttribute",E,H),Ct=H.attrValue,H.forceKeepAttr||(Tf(Ze,E),!H.keepAttr))continue;if(!Sn&&_t(/\/>/i,Ct)){Tf(Ze,E);continue}Pt&&oa([M,$,T],Sy=>{Ct=ys(Ct,Sy," ")});const vy=Re(E.nodeName);if(my(vy,hs,Ct)){if(ty&&(hs==="id"||hs==="name")&&(Tf(Ze,E),Ct=JO+Ct),g&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Et)switch(p.getAttributeType(vy,hs)){case"TrustedHTML":{Ct=g.createHTML(Ct);break}case"TrustedScriptURL":{Ct=g.createScriptURL(Ct);break}}try{Et?E.setAttributeNS(Et,Ze,Ct):E.setAttribute(Ze,Ct),Ov(e.removed)}catch{}}}Fn("afterSanitizeAttributes",E,null)},i$=function K(E){let R=null;const H=dy(E);for(Fn("beforeSanitizeShadowDOM",E,null);R=H.nextNode();)Fn("uponSanitizeShadowNode",R,null),!hy(R)&&(R.content instanceof o&&K(R.content),yy(R));Fn("afterSanitizeShadowDOM",E,null)};return e.sanitize=function(K){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=null,H=null,ye=null,Xe=null;if(Ef=!K,Ef&&(K="<!-->"),typeof K!="string"&&!py(K))if(typeof K.toString=="function"){if(K=K.toString(),typeof K!="string")throw vs("dirty is not a string, aborting")}else throw vs("toString is not a function");if(!e.isSupported)return K;if(wt||xf(E),e.removed=[],typeof K=="string"&&(ds=!1),ds){if(K.nodeName){const Gr=Re(K.nodeName);if(!W[Gr]||Q[Gr])throw vs("root node is forbidden and cannot be sanitized in-place")}}else if(K instanceof l)R=fy("<!---->"),H=R.ownerDocument.importNode(K,!0),H.nodeType===1&&H.nodeName==="BODY"||H.nodeName==="HTML"?R=H:R.appendChild(H);else{if(!Li&&!Pt&&!ir&&K.indexOf("<")===-1)return g&&ea?g.createHTML(K):K;if(R=fy(K),!R)return Li?null:ea?w:""}R&&Rn&&Kr(R.firstChild);const Ze=dy(ds?K:R);for(;ye=Ze.nextNode();)hy(ye)||(ye.content instanceof o&&i$(ye.content),yy(ye));if(ds)return K;if(Li){if(Zl)for(Xe=P.call(R.ownerDocument);R.firstChild;)Xe.appendChild(R.firstChild);else Xe=R;return(Y.shadowroot||Y.shadowrootmode)&&(Xe=A.call(r,Xe,!0)),Xe}let Et=ir?R.outerHTML:R.innerHTML;return ir&&W["!doctype"]&&R.ownerDocument&&R.ownerDocument.doctype&&R.ownerDocument.doctype.name&&_t(lw,R.ownerDocument.doctype.name)&&(Et="<!DOCTYPE "+R.ownerDocument.doctype.name+`>
`+Et),Pt&&oa([M,$,T],Gr=>{Et=ys(Et,Gr," ")}),g&&ea?g.createHTML(Et):Et},e.setConfig=function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};xf(K),wt=!0},e.clearConfig=function(){ji=null,wt=!1},e.isValidAttribute=function(K,E,R){ji||xf({});const H=Re(K),ye=Re(E);return my(H,ye,R)},e.addHook=function(K,E){typeof E=="function"&&(I[K]=I[K]||[],gs(I[K],E))},e.removeHook=function(K){if(I[K])return Ov(I[K])},e.removeHooks=function(K){I[K]&&(I[K]=[])},e.removeAllHooks=function(){I={}},e}var kc=aw();let aa;const Mz=new Uint8Array(16);function Nz(){if(!aa&&(aa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!aa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return aa(Mz)}const He=[];for(let t=0;t<256;++t)He.push((t+256).toString(16).slice(1));function Iz(t,e=0){return He[t[e+0]]+He[t[e+1]]+He[t[e+2]]+He[t[e+3]]+"-"+He[t[e+4]]+He[t[e+5]]+"-"+He[t[e+6]]+He[t[e+7]]+"-"+He[t[e+8]]+He[t[e+9]]+"-"+He[t[e+10]]+He[t[e+11]]+He[t[e+12]]+He[t[e+13]]+He[t[e+14]]+He[t[e+15]]}const Dz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Mv={randomUUID:Dz};function eZ(t,e,n){if(Mv.randomUUID&&!e&&!t)return Mv.randomUUID();t=t||{};const r=t.random||(t.rng||Nz)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return Iz(r)}function Rz(t){for(var e=[],n=0;n<t.length;){var r=t[n];if(r==="*"||r==="+"||r==="?"){e.push({type:"MODIFIER",index:n,value:t[n++]});continue}if(r==="\\"){e.push({type:"ESCAPED_CHAR",index:n++,value:t[n++]});continue}if(r==="{"){e.push({type:"OPEN",index:n,value:t[n++]});continue}if(r==="}"){e.push({type:"CLOSE",index:n,value:t[n++]});continue}if(r===":"){for(var i="",o=n+1;o<t.length;){var s=t.charCodeAt(o);if(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||s===95){i+=t[o++];continue}break}if(!i)throw new TypeError("Missing parameter name at ".concat(n));e.push({type:"NAME",index:n,value:i}),n=o;continue}if(r==="("){var l=1,a="",o=n+1;if(t[o]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(o));for(;o<t.length;){if(t[o]==="\\"){a+=t[o++]+t[o++];continue}if(t[o]===")"){if(l--,l===0){o++;break}}else if(t[o]==="("&&(l++,t[o+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(o));a+=t[o++]}if(l)throw new TypeError("Unbalanced pattern at ".concat(n));if(!a)throw new TypeError("Missing pattern at ".concat(n));e.push({type:"PATTERN",index:n,value:a}),n=o;continue}e.push({type:"CHAR",index:n,value:t[n++]})}return e.push({type:"END",index:n,value:""}),e}function uw(t,e){e===void 0&&(e={});for(var n=Rz(t),r=e.prefixes,i=r===void 0?"./":r,o="[^".concat(Ji(e.delimiter||"/#?"),"]+?"),s=[],l=0,a=0,u="",c=function(x){if(a<n.length&&n[a].type===x)return n[a++].value},f=function(x){var P=c(x);if(P!==void 0)return P;var b=n[a],A=b.type,I=b.index;throw new TypeError("Unexpected ".concat(A," at ").concat(I,", expected ").concat(x))},d=function(){for(var x="",P;P=c("CHAR")||c("ESCAPED_CHAR");)x+=P;return x};a<n.length;){var p=c("CHAR"),h=c("NAME"),v=c("PATTERN");if(h||v){var S=p||"";i.indexOf(S)===-1&&(u+=S,S=""),u&&(s.push(u),u=""),s.push({name:h||l++,prefix:S,suffix:"",pattern:v||o,modifier:c("MODIFIER")||""});continue}var m=p||c("ESCAPED_CHAR");if(m){u+=m;continue}u&&(s.push(u),u="");var y=c("OPEN");if(y){var S=d(),g=c("NAME")||"",w=c("PATTERN")||"",C=d();f("CLOSE"),s.push({name:g||(w?l++:""),pattern:g&&!w?o:w,prefix:S,suffix:C,modifier:c("MODIFIER")||""});continue}f("END")}return s}function Lz(t,e){e===void 0&&(e={});var n=dm(e),r=e.encode,i=r===void 0?function(a){return a}:r,o=e.validate,s=o===void 0?!0:o,l=t.map(function(a){if(typeof a=="object")return new RegExp("^(?:".concat(a.pattern,")$"),n)});return function(a){for(var u="",c=0;c<t.length;c++){var f=t[c];if(typeof f=="string"){u+=f;continue}var d=a?a[f.name]:void 0,p=f.modifier==="?"||f.modifier==="*",h=f.modifier==="*"||f.modifier==="+";if(Array.isArray(d)){if(!h)throw new TypeError('Expected "'.concat(f.name,'" to not repeat, but got an array'));if(d.length===0){if(p)continue;throw new TypeError('Expected "'.concat(f.name,'" to not be empty'))}for(var v=0;v<d.length;v++){var S=i(d[v],f);if(s&&!l[c].test(S))throw new TypeError('Expected all "'.concat(f.name,'" to match "').concat(f.pattern,'", but got "').concat(S,'"'));u+=f.prefix+S+f.suffix}continue}if(typeof d=="string"||typeof d=="number"){var S=i(String(d),f);if(s&&!l[c].test(S))throw new TypeError('Expected "'.concat(f.name,'" to match "').concat(f.pattern,'", but got "').concat(S,'"'));u+=f.prefix+S+f.suffix;continue}if(!p){var m=h?"an array":"a string";throw new TypeError('Expected "'.concat(f.name,'" to be ').concat(m))}}return u}}function Fz(t,e){var n=[],r=cw(t,n,e);return Bz(r,n,e)}function Bz(t,e,n){n===void 0&&(n={});var r=n.decode,i=r===void 0?function(o){return o}:r;return function(o){var s=t.exec(o);if(!s)return!1;for(var l=s[0],a=s.index,u=Object.create(null),c=function(d){if(s[d]===void 0)return"continue";var p=e[d-1];p.modifier==="*"||p.modifier==="+"?u[p.name]=s[d].split(p.prefix+p.suffix).map(function(h){return i(h,p)}):u[p.name]=i(s[d],p)},f=1;f<s.length;f++)c(f);return{path:l,index:a,params:u}}}function Ji(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function dm(t){return t&&t.sensitive?"":"i"}function zz(t,e){if(!e)return t;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,i=n.exec(t.source);i;)e.push({name:i[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),i=n.exec(t.source);return t}function jz(t,e,n){var r=t.map(function(i){return cw(i,e,n).source});return new RegExp("(?:".concat(r.join("|"),")"),dm(n))}function Uz(t,e,n){return Wz(uw(t,n),e,n)}function Wz(t,e,n){n===void 0&&(n={});for(var r=n.strict,i=r===void 0?!1:r,o=n.start,s=o===void 0?!0:o,l=n.end,a=l===void 0?!0:l,u=n.encode,c=u===void 0?function(I){return I}:u,f=n.delimiter,d=f===void 0?"/#?":f,p=n.endsWith,h=p===void 0?"":p,v="[".concat(Ji(h),"]|$"),S="[".concat(Ji(d),"]"),m=s?"^":"",y=0,g=t;y<g.length;y++){var w=g[y];if(typeof w=="string")m+=Ji(c(w));else{var C=Ji(c(w.prefix)),x=Ji(c(w.suffix));if(w.pattern)if(e&&e.push(w),C||x)if(w.modifier==="+"||w.modifier==="*"){var P=w.modifier==="*"?"?":"";m+="(?:".concat(C,"((?:").concat(w.pattern,")(?:").concat(x).concat(C,"(?:").concat(w.pattern,"))*)").concat(x,")").concat(P)}else m+="(?:".concat(C,"(").concat(w.pattern,")").concat(x,")").concat(w.modifier);else w.modifier==="+"||w.modifier==="*"?m+="((?:".concat(w.pattern,")").concat(w.modifier,")"):m+="(".concat(w.pattern,")").concat(w.modifier);else m+="(?:".concat(C).concat(x,")").concat(w.modifier)}}if(a)i||(m+="".concat(S,"?")),m+=n.endsWith?"(?=".concat(v,")"):"$";else{var b=t[t.length-1],A=typeof b=="string"?S.indexOf(b[b.length-1])>-1:b===void 0;i||(m+="(?:".concat(S,"(?=").concat(v,"))?")),A||(m+="(?=".concat(S,"|").concat(v,")"))}return new RegExp(m,dm(n))}function cw(t,e,n){return t instanceof RegExp?zz(t,e):Array.isArray(t)?jz(t,e,n):Uz(t,e,n)}/*! Universal Router | MIT License | https://www.kriasoft.com/universal-router/ */function Vz(t){try{return decodeURIComponent(t)}catch{return t}}function fw(t,e,n,r,i){var o,s,l=0;return{next:function(u){if(t===u)return{done:!0,value:!1};if(!o){var c=t,f=!c.children;if(c.match||(c.match=Fz(c.path||"",Object.assign({end:f},n))),o=c.match(r),o){var d=o,p=d.path;return o.path=!f&&p.charAt(p.length-1)==="/"?p.substr(1):p,o.params=Object.assign({},i,o.params),{done:!1,value:{route:t,baseUrl:e,path:o.path,params:o.params}}}}if(o&&t.children)for(;l<t.children.length;){if(!s){var h=t.children[l];h.parent=t,s=fw(h,e+o.path,n,r.substr(o.path.length),o.params)}var v=s.next(u);if(!v.done)return{done:!1,value:v.value};s=null,l++}return{done:!0,value:!1}}}}function Hz(t,e){if(typeof t.route.action=="function")return t.route.action(t,e)}function Kz(t,e){for(var n=e;n;)if(n=n.parent,n===t)return!0;return!1}var tZ=function(){function t(n,r){if(!n||typeof n!="object")throw new TypeError("Invalid routes");this.options=Object.assign({decode:Vz},r),this.baseUrl=this.options.baseUrl||"",this.root=Array.isArray(n)?{path:"",children:n,parent:null}:n,this.root.parent=null}var e=t.prototype;return e.resolve=function(r){var i=this,o=Object.assign({router:this},this.options.context,typeof r=="string"?{pathname:r}:r),s=fw(this.root,this.baseUrl,this.options,o.pathname.substr(this.baseUrl.length)),l=this.options.resolveRoute||Hz,a,u,c=o;function f(d,p,h){p===void 0&&(p=!a.done&&a.value.route);var v=h===null&&!a.done&&a.value.route;if(a=u||s.next(v),u=null,!d&&(a.done||!Kz(p,a.value.route)))return u=a,Promise.resolve(null);if(a.done){var S=new Error("Route not found");return S.status=404,Promise.reject(S)}return c=Object.assign({},o,a.value),Promise.resolve(l(c,a.value.params)).then(function(m){return m??f(d,p,m)})}return o.next=f,Promise.resolve().then(function(){return f(!0,i.root)}).catch(function(d){if(i.options.errorHandler)return i.options.errorHandler(d,c);throw d})},t}();/*! Universal Router | MIT License | https://www.kriasoft.com/universal-router/ */function dw(t,e,n,r,i){if(e.name&&r&&t.has(r))throw new Error('Route "'+r+'" already exists');if(e.name&&r&&t.set(r,e),n)for(var o=0;o<n.length;o++){var s=n[o],l=s.name;s.parent=e,dw(t,s,s.children,r&&i?l?r+i+l:r:l,i)}}function nZ(t,e){if(!t)throw new ReferenceError("Router is not defined");var n=new Map,r=new Map,i=Object.assign({encode:encodeURIComponent},e);return function(o,s){var l=n.get(o);if(!l&&(n.clear(),r.clear(),dw(n,t.root,t.root.children,t.root.name,i.uniqueRouteNameSep),l=n.get(o),!l))throw new Error('Route "'+o+'" not found');var a=r.get(l);if(!a){for(var u="",c=l;c;){var f=Array.isArray(c.path)?c.path[0]:c.path;f&&(u=f+u),c=c.parent}for(var d=uw(u,i),p=Lz(d,i),h=Object.create(null),v=0;v<d.length;v++){var S=d[v];typeof S!="string"&&(h[S.name]=!0)}a={toPath:p,keys:h},r.set(l,a)}var m=t.baseUrl+a.toPath(s)||"/";if(i.stringifyQueryParams&&s){for(var y={},g=Object.keys(s),w=0;w<g.length;w++){var C=g[w];a.keys[C]||(y[C]=s[C])}var x=i.stringifyQueryParams(y);x&&(m+=x.charAt(0)==="?"?x:"?"+x)}return m}}var Gz=Error,qz=EvalError,Yz=RangeError,Jz=ReferenceError,pw=SyntaxError,Ul=TypeError,Qz=URIError,Xz=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,n);if(s.value!==i||s.enumerable!==!0)return!1}return!0},Nv=typeof Symbol<"u"&&Symbol,Zz=Xz,e6=function(){return typeof Nv!="function"||typeof Symbol!="function"||typeof Nv("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Zz()},Ff={__proto__:null,foo:{}},t6=Object,n6=function(){return{__proto__:Ff}.foo===Ff.foo&&!(Ff instanceof t6)},r6="Function.prototype.bind called on incompatible ",i6=Object.prototype.toString,o6=Math.max,s6="[object Function]",Iv=function(e,n){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var o=0;o<n.length;o+=1)r[o+e.length]=n[o];return r},l6=function(e,n){for(var r=[],i=n||0,o=0;i<e.length;i+=1,o+=1)r[o]=e[i];return r},a6=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n},u6=function(e){var n=this;if(typeof n!="function"||i6.apply(n)!==s6)throw new TypeError(r6+n);for(var r=l6(arguments,1),i,o=function(){if(this instanceof i){var c=n.apply(this,Iv(r,arguments));return Object(c)===c?c:this}return n.apply(e,Iv(r,arguments))},s=o6(0,n.length-r.length),l=[],a=0;a<s;a++)l[a]="$"+a;if(i=Function("binder","return function ("+a6(l,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var u=function(){};u.prototype=n.prototype,i.prototype=new u,u.prototype=null}return i},c6=u6,pm=Function.prototype.bind||c6,f6=Function.prototype.call,d6=Object.prototype.hasOwnProperty,p6=pm,h6=p6.call(f6,d6),ee,m6=Gz,g6=qz,y6=Yz,v6=Jz,Po=pw,go=Ul,S6=Qz,hw=Function,Bf=function(t){try{return hw('"use strict"; return ('+t+").constructor;")()}catch{}},ui=Object.getOwnPropertyDescriptor;if(ui)try{ui({},"")}catch{ui=null}var zf=function(){throw new go},b6=ui?function(){try{return arguments.callee,zf}catch{try{return ui(arguments,"callee").get}catch{return zf}}}():zf,Ui=e6(),w6=n6(),Fe=Object.getPrototypeOf||(w6?function(t){return t.__proto__}:null),Qi={},E6=typeof Uint8Array>"u"||!Fe?ee:Fe(Uint8Array),ci={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ee:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ee:ArrayBuffer,"%ArrayIteratorPrototype%":Ui&&Fe?Fe([][Symbol.iterator]()):ee,"%AsyncFromSyncIteratorPrototype%":ee,"%AsyncFunction%":Qi,"%AsyncGenerator%":Qi,"%AsyncGeneratorFunction%":Qi,"%AsyncIteratorPrototype%":Qi,"%Atomics%":typeof Atomics>"u"?ee:Atomics,"%BigInt%":typeof BigInt>"u"?ee:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ee:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ee:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ee:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":m6,"%eval%":eval,"%EvalError%":g6,"%Float32Array%":typeof Float32Array>"u"?ee:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ee:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ee:FinalizationRegistry,"%Function%":hw,"%GeneratorFunction%":Qi,"%Int8Array%":typeof Int8Array>"u"?ee:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ee:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ee:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ui&&Fe?Fe(Fe([][Symbol.iterator]())):ee,"%JSON%":typeof JSON=="object"?JSON:ee,"%Map%":typeof Map>"u"?ee:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ui||!Fe?ee:Fe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ee:Promise,"%Proxy%":typeof Proxy>"u"?ee:Proxy,"%RangeError%":y6,"%ReferenceError%":v6,"%Reflect%":typeof Reflect>"u"?ee:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ee:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ui||!Fe?ee:Fe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ee:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ui&&Fe?Fe(""[Symbol.iterator]()):ee,"%Symbol%":Ui?Symbol:ee,"%SyntaxError%":Po,"%ThrowTypeError%":b6,"%TypedArray%":E6,"%TypeError%":go,"%Uint8Array%":typeof Uint8Array>"u"?ee:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ee:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ee:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ee:Uint32Array,"%URIError%":S6,"%WeakMap%":typeof WeakMap>"u"?ee:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ee:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ee:WeakSet};if(Fe)try{null.error}catch(t){var C6=Fe(Fe(t));ci["%Error.prototype%"]=C6}var x6=function t(e){var n;if(e==="%AsyncFunction%")n=Bf("async function () {}");else if(e==="%GeneratorFunction%")n=Bf("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Bf("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Fe&&(n=Fe(i.prototype))}return ci[e]=n,n},Dv={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Wl=pm,mu=h6,T6=Wl.call(Function.call,Array.prototype.concat),O6=Wl.call(Function.apply,Array.prototype.splice),Rv=Wl.call(Function.call,String.prototype.replace),gu=Wl.call(Function.call,String.prototype.slice),$6=Wl.call(Function.call,RegExp.prototype.exec),k6=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A6=/\\(\\)?/g,P6=function(e){var n=gu(e,0,1),r=gu(e,-1);if(n==="%"&&r!=="%")throw new Po("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new Po("invalid intrinsic syntax, expected opening `%`");var i=[];return Rv(e,k6,function(o,s,l,a){i[i.length]=l?Rv(a,A6,"$1"):s||o}),i},_6=function(e,n){var r=e,i;if(mu(Dv,r)&&(i=Dv[r],r="%"+i[0]+"%"),mu(ci,r)){var o=ci[r];if(o===Qi&&(o=x6(r)),typeof o>"u"&&!n)throw new go("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new Po("intrinsic "+e+" does not exist!")},ss=function(e,n){if(typeof e!="string"||e.length===0)throw new go("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new go('"allowMissing" argument must be a boolean');if($6(/^%?[^%]*%?$/,e)===null)throw new Po("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=P6(e),i=r.length>0?r[0]:"",o=_6("%"+i+"%",n),s=o.name,l=o.value,a=!1,u=o.alias;u&&(i=u[0],O6(r,T6([0,1],u)));for(var c=1,f=!0;c<r.length;c+=1){var d=r[c],p=gu(d,0,1),h=gu(d,-1);if((p==='"'||p==="'"||p==="`"||h==='"'||h==="'"||h==="`")&&p!==h)throw new Po("property names with quotes must have matching quotes");if((d==="constructor"||!f)&&(a=!0),i+="."+d,s="%"+i+"%",mu(ci,s))l=ci[s];else if(l!=null){if(!(d in l)){if(!n)throw new go("base intrinsic for "+e+" exists, but the property is not available.");return}if(ui&&c+1>=r.length){var v=ui(l,d);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?l=v.get:l=l[d]}else f=mu(l,d),l=l[d];f&&!a&&(ci[s]=l)}}return l},mw={exports:{}},jf,Lv;function hm(){if(Lv)return jf;Lv=1;var t=ss,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return jf=e,jf}var M6=ss,ja=M6("%Object.getOwnPropertyDescriptor%",!0);if(ja)try{ja([],"length")}catch{ja=null}var gw=ja,Fv=hm(),N6=pw,Wi=Ul,Bv=gw,I6=function(e,n,r){if(!e||typeof e!="object"&&typeof e!="function")throw new Wi("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Wi("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Wi("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Wi("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Wi("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Wi("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,a=!!Bv&&Bv(e,n);if(Fv)Fv(e,n,{configurable:s===null&&a?a.configurable:!s,enumerable:i===null&&a?a.enumerable:!i,value:r,writable:o===null&&a?a.writable:!o});else if(l||!i&&!o&&!s)e[n]=r;else throw new N6("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},cp=hm(),yw=function(){return!!cp};yw.hasArrayLengthDefineBug=function(){if(!cp)return null;try{return cp([],"length",{value:1}).length!==1}catch{return!0}};var D6=yw,R6=ss,zv=I6,L6=D6(),jv=gw,Uv=Ul,F6=R6("%Math.floor%"),B6=function(e,n){if(typeof e!="function")throw new Uv("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||F6(n)!==n)throw new Uv("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&jv){var s=jv(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!r)&&(L6?zv(e,"length",n,!0,!0):zv(e,"length",n)),e};(function(t){var e=pm,n=ss,r=B6,i=Ul,o=n("%Function.prototype.apply%"),s=n("%Function.prototype.call%"),l=n("%Reflect.apply%",!0)||e.call(s,o),a=hm(),u=n("%Math.max%");t.exports=function(d){if(typeof d!="function")throw new i("a function is required");var p=l(e,s,arguments);return r(p,1+u(0,d.length-(arguments.length-1)),!0)};var c=function(){return l(e,o,arguments)};a?a(t.exports,"apply",{value:c}):t.exports.apply=c})(mw);var z6=mw.exports,vw=ss,Sw=z6,j6=Sw(vw("String.prototype.indexOf")),U6=function(e,n){var r=vw(e,!!n);return typeof r=="function"&&j6(e,".prototype.")>-1?Sw(r):r};const W6={},V6=Object.freeze(Object.defineProperty({__proto__:null,default:W6},Symbol.toStringTag,{value:"Module"})),H6=o$(V6);var mm=typeof Map=="function"&&Map.prototype,Uf=Object.getOwnPropertyDescriptor&&mm?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,yu=mm&&Uf&&typeof Uf.get=="function"?Uf.get:null,Wv=mm&&Map.prototype.forEach,gm=typeof Set=="function"&&Set.prototype,Wf=Object.getOwnPropertyDescriptor&&gm?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,vu=gm&&Wf&&typeof Wf.get=="function"?Wf.get:null,Vv=gm&&Set.prototype.forEach,K6=typeof WeakMap=="function"&&WeakMap.prototype,Fs=K6?WeakMap.prototype.has:null,G6=typeof WeakSet=="function"&&WeakSet.prototype,Bs=G6?WeakSet.prototype.has:null,q6=typeof WeakRef=="function"&&WeakRef.prototype,Hv=q6?WeakRef.prototype.deref:null,Y6=Boolean.prototype.valueOf,J6=Object.prototype.toString,Q6=Function.prototype.toString,X6=String.prototype.match,ym=String.prototype.slice,gr=String.prototype.replace,Z6=String.prototype.toUpperCase,Kv=String.prototype.toLowerCase,bw=RegExp.prototype.test,Gv=Array.prototype.concat,xn=Array.prototype.join,e4=Array.prototype.slice,qv=Math.floor,fp=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Vf=Object.getOwnPropertySymbols,dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,_o=typeof Symbol=="function"&&typeof Symbol.iterator=="object",lt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===_o||!0)?Symbol.toStringTag:null,ww=Object.prototype.propertyIsEnumerable,Yv=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Jv(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||bw.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-qv(-t):qv(t);if(r!==t){var i=String(r),o=ym.call(e,i.length+1);return gr.call(i,n,"$&_")+"."+gr.call(gr.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return gr.call(e,n,"$&_")}var pp=H6,Qv=pp.custom,Xv=Cw(Qv)?Qv:null,t4=function t(e,n,r,i){var o=n||{};if(lr(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(lr(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=lr(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(lr(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(lr(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Tw(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var a=String(e);return l?Jv(e,a):a}if(typeof e=="bigint"){var u=String(e)+"n";return l?Jv(e,u):u}var c=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=c&&c>0&&typeof e=="object")return hp(e)?"[Array]":"[Object]";var f=S4(o,r);if(typeof i>"u")i=[];else if(xw(i,e)>=0)return"[Circular]";function d(T,k,U){if(k&&(i=e4.call(i),i.push(k)),U){var ie={depth:o.depth};return lr(o,"quoteStyle")&&(ie.quoteStyle=o.quoteStyle),t(T,ie,r+1,i)}return t(T,o,r+1,i)}if(typeof e=="function"&&!Zv(e)){var p=c4(e),h=ua(e,d);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(h.length>0?" { "+xn.call(h,", ")+" }":"")}if(Cw(e)){var v=_o?gr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):dp.call(e);return typeof e=="object"&&!_o?Ss(v):v}if(g4(e)){for(var S="<"+Kv.call(String(e.nodeName)),m=e.attributes||[],y=0;y<m.length;y++)S+=" "+m[y].name+"="+Ew(n4(m[y].value),"double",o);return S+=">",e.childNodes&&e.childNodes.length&&(S+="..."),S+="</"+Kv.call(String(e.nodeName))+">",S}if(hp(e)){if(e.length===0)return"[]";var g=ua(e,d);return f&&!v4(g)?"["+mp(g,f)+"]":"[ "+xn.call(g,", ")+" ]"}if(i4(e)){var w=ua(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!ww.call(e,"cause")?"{ ["+String(e)+"] "+xn.call(Gv.call("[cause]: "+d(e.cause),w),", ")+" }":w.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+xn.call(w,", ")+" }"}if(typeof e=="object"&&s){if(Xv&&typeof e[Xv]=="function"&&pp)return pp(e,{depth:c-r});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(f4(e)){var C=[];return Wv&&Wv.call(e,function(T,k){C.push(d(k,e,!0)+" => "+d(T,e))}),e0("Map",yu.call(e),C,f)}if(h4(e)){var x=[];return Vv&&Vv.call(e,function(T){x.push(d(T,e))}),e0("Set",vu.call(e),x,f)}if(d4(e))return Hf("WeakMap");if(m4(e))return Hf("WeakSet");if(p4(e))return Hf("WeakRef");if(s4(e))return Ss(d(Number(e)));if(a4(e))return Ss(d(fp.call(e)));if(l4(e))return Ss(Y6.call(e));if(o4(e))return Ss(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Tn)return"{ [object globalThis] }";if(!r4(e)&&!Zv(e)){var P=ua(e,d),b=Yv?Yv(e)===Object.prototype:e instanceof Object||e.constructor===Object,A=e instanceof Object?"":"null prototype",I=!b&&lt&&Object(e)===e&&lt in e?ym.call(jr(e),8,-1):A?"Object":"",M=b||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",$=M+(I||A?"["+xn.call(Gv.call([],I||[],A||[]),": ")+"] ":"");return P.length===0?$+"{}":f?$+"{"+mp(P,f)+"}":$+"{ "+xn.call(P,", ")+" }"}return String(e)};function Ew(t,e,n){var r=(n.quoteStyle||e)==="double"?'"':"'";return r+t+r}function n4(t){return gr.call(String(t),/"/g,"&quot;")}function hp(t){return jr(t)==="[object Array]"&&(!lt||!(typeof t=="object"&&lt in t))}function r4(t){return jr(t)==="[object Date]"&&(!lt||!(typeof t=="object"&&lt in t))}function Zv(t){return jr(t)==="[object RegExp]"&&(!lt||!(typeof t=="object"&&lt in t))}function i4(t){return jr(t)==="[object Error]"&&(!lt||!(typeof t=="object"&&lt in t))}function o4(t){return jr(t)==="[object String]"&&(!lt||!(typeof t=="object"&&lt in t))}function s4(t){return jr(t)==="[object Number]"&&(!lt||!(typeof t=="object"&&lt in t))}function l4(t){return jr(t)==="[object Boolean]"&&(!lt||!(typeof t=="object"&&lt in t))}function Cw(t){if(_o)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!dp)return!1;try{return dp.call(t),!0}catch{}return!1}function a4(t){if(!t||typeof t!="object"||!fp)return!1;try{return fp.call(t),!0}catch{}return!1}var u4=Object.prototype.hasOwnProperty||function(t){return t in this};function lr(t,e){return u4.call(t,e)}function jr(t){return J6.call(t)}function c4(t){if(t.name)return t.name;var e=X6.call(Q6.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function xw(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function f4(t){if(!yu||!t||typeof t!="object")return!1;try{yu.call(t);try{vu.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function d4(t){if(!Fs||!t||typeof t!="object")return!1;try{Fs.call(t,Fs);try{Bs.call(t,Bs)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function p4(t){if(!Hv||!t||typeof t!="object")return!1;try{return Hv.call(t),!0}catch{}return!1}function h4(t){if(!vu||!t||typeof t!="object")return!1;try{vu.call(t);try{yu.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function m4(t){if(!Bs||!t||typeof t!="object")return!1;try{Bs.call(t,Bs);try{Fs.call(t,Fs)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function g4(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Tw(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Tw(ym.call(t,0,e.maxStringLength),e)+r}var i=gr.call(gr.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,y4);return Ew(i,"single",e)}function y4(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+Z6.call(e.toString(16))}function Ss(t){return"Object("+t+")"}function Hf(t){return t+" { ? }"}function e0(t,e,n,r){var i=r?mp(n,r):xn.call(n,", ");return t+" ("+e+") {"+i+"}"}function v4(t){for(var e=0;e<t.length;e++)if(xw(t[e],`
`)>=0)return!1;return!0}function S4(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=xn.call(Array(t.indent+1)," ");else return null;return{base:n,prev:xn.call(Array(e+1),n)}}function mp(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+xn.call(t,","+n)+`
`+e.prev}function ua(t,e){var n=hp(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=lr(t,i)?e(t[i],t):""}var o=typeof Vf=="function"?Vf(t):[],s;if(_o){s={};for(var l=0;l<o.length;l++)s["$"+o[l]]=o[l]}for(var a in t)lr(t,a)&&(n&&String(Number(a))===a&&a<t.length||_o&&s["$"+a]instanceof Symbol||(bw.call(/[^\w$]/,a)?r.push(e(a,t)+": "+e(t[a],t)):r.push(a+": "+e(t[a],t))));if(typeof Vf=="function")for(var u=0;u<o.length;u++)ww.call(t,o[u])&&r.push("["+e(o[u])+"]: "+e(t[o[u]],t));return r}var Ow=ss,ls=U6,b4=t4,w4=Ul,ca=Ow("%WeakMap%",!0),fa=Ow("%Map%",!0),E4=ls("WeakMap.prototype.get",!0),C4=ls("WeakMap.prototype.set",!0),x4=ls("WeakMap.prototype.has",!0),T4=ls("Map.prototype.get",!0),O4=ls("Map.prototype.set",!0),$4=ls("Map.prototype.has",!0),vm=function(t,e){for(var n=t,r;(r=n.next)!==null;n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},k4=function(t,e){var n=vm(t,e);return n&&n.value},A4=function(t,e,n){var r=vm(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},P4=function(t,e){return!!vm(t,e)},_4=function(){var e,n,r,i={assert:function(o){if(!i.has(o))throw new w4("Side channel does not contain "+b4(o))},get:function(o){if(ca&&o&&(typeof o=="object"||typeof o=="function")){if(e)return E4(e,o)}else if(fa){if(n)return T4(n,o)}else if(r)return k4(r,o)},has:function(o){if(ca&&o&&(typeof o=="object"||typeof o=="function")){if(e)return x4(e,o)}else if(fa){if(n)return $4(n,o)}else if(r)return P4(r,o);return!1},set:function(o,s){ca&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new ca),C4(e,o,s)):fa?(n||(n=new fa),O4(n,o,s)):(r||(r={key:{},next:null}),A4(r,o,s))}};return i},M4=String.prototype.replace,N4=/%20/g,Kf={RFC1738:"RFC1738",RFC3986:"RFC3986"},Sm={default:Kf.RFC3986,formatters:{RFC1738:function(t){return M4.call(t,N4,"+")},RFC3986:function(t){return String(t)}},RFC1738:Kf.RFC1738,RFC3986:Kf.RFC3986},I4=Sm,Gf=Object.prototype.hasOwnProperty,ti=Array.isArray,bn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),D4=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(ti(r)){for(var i=[],o=0;o<r.length;++o)typeof r[o]<"u"&&i.push(r[o]);n.obj[n.prop]=i}}},$w=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},R4=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(ti(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Gf.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return ti(e)&&!ti(n)&&(i=$w(e,r)),ti(e)&&ti(n)?(n.forEach(function(o,s){if(Gf.call(e,s)){var l=e[s];l&&typeof l=="object"&&o&&typeof o=="object"?e[s]=t(l,o,r):e.push(o)}else e[s]=o}),e):Object.keys(n).reduce(function(o,s){var l=n[s];return Gf.call(o,s)?o[s]=t(o[s],l,r):o[s]=l,o},i)},L4=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},F4=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},B4=function(e,n,r,i,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var l="",a=0;a<s.length;++a){var u=s.charCodeAt(a);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||o===I4.RFC1738&&(u===40||u===41)){l+=s.charAt(a);continue}if(u<128){l=l+bn[u];continue}if(u<2048){l=l+(bn[192|u>>6]+bn[128|u&63]);continue}if(u<55296||u>=57344){l=l+(bn[224|u>>12]+bn[128|u>>6&63]+bn[128|u&63]);continue}a+=1,u=65536+((u&1023)<<10|s.charCodeAt(a)&1023),l+=bn[240|u>>18]+bn[128|u>>12&63]+bn[128|u>>6&63]+bn[128|u&63]}return l},z4=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var o=n[i],s=o.obj[o.prop],l=Object.keys(s),a=0;a<l.length;++a){var u=l[a],c=s[u];typeof c=="object"&&c!==null&&r.indexOf(c)===-1&&(n.push({obj:s,prop:u}),r.push(c))}return D4(n),e},j4=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},U4=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},W4=function(e,n){return[].concat(e,n)},V4=function(e,n){if(ti(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},kw={arrayToObject:$w,assign:L4,combine:W4,compact:z4,decode:F4,encode:B4,isBuffer:U4,isRegExp:j4,maybeMap:V4,merge:R4},Aw=_4,Ua=kw,zs=Sm,H4=Object.prototype.hasOwnProperty,t0={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},Vn=Array.isArray,K4=Array.prototype.push,Pw=function(t,e){K4.apply(t,Vn(e)?e:[e])},G4=Date.prototype.toISOString,n0=zs.default,nt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ua.encode,encodeValuesOnly:!1,format:n0,formatter:zs.formatters[n0],indices:!1,serializeDate:function(e){return G4.call(e)},skipNulls:!1,strictNullHandling:!1},q4=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},qf={},Y4=function t(e,n,r,i,o,s,l,a,u,c,f,d,p,h,v,S){for(var m=e,y=S,g=0,w=!1;(y=y.get(qf))!==void 0&&!w;){var C=y.get(e);if(g+=1,typeof C<"u"){if(C===g)throw new RangeError("Cyclic object value");w=!0}typeof y.get(qf)>"u"&&(g=0)}if(typeof a=="function"?m=a(n,m):m instanceof Date?m=f(m):r==="comma"&&Vn(m)&&(m=Ua.maybeMap(m,function(ie){return ie instanceof Date?f(ie):ie})),m===null){if(o)return l&&!h?l(n,nt.encoder,v,"key",d):n;m=""}if(q4(m)||Ua.isBuffer(m)){if(l){var x=h?n:l(n,nt.encoder,v,"key",d);return[p(x)+"="+p(l(m,nt.encoder,v,"value",d))]}return[p(n)+"="+p(String(m))]}var P=[];if(typeof m>"u")return P;var b;if(r==="comma"&&Vn(m))h&&l&&(m=Ua.maybeMap(m,l)),b=[{value:m.length>0?m.join(",")||null:void 0}];else if(Vn(a))b=a;else{var A=Object.keys(m);b=u?A.sort(u):A}for(var I=i&&Vn(m)&&m.length===1?n+"[]":n,M=0;M<b.length;++M){var $=b[M],T=typeof $=="object"&&typeof $.value<"u"?$.value:m[$];if(!(s&&T===null)){var k=Vn(m)?typeof r=="function"?r(I,$):I:I+(c?"."+$:"["+$+"]");S.set(e,g);var U=Aw();U.set(qf,S),Pw(P,t(T,k,r,i,o,s,r==="comma"&&h&&Vn(m)?null:l,a,u,c,f,d,p,h,v,U))}}return P},J4=function(e){if(!e)return nt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||nt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=zs.default;if(typeof e.format<"u"){if(!H4.call(zs.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=zs.formatters[r],o=nt.filter;return(typeof e.filter=="function"||Vn(e.filter))&&(o=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:nt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?nt.allowDots:!!e.allowDots,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:nt.charsetSentinel,delimiter:typeof e.delimiter>"u"?nt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:nt.encode,encoder:typeof e.encoder=="function"?e.encoder:nt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:nt.encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:nt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:nt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:nt.strictNullHandling}},Q4=function(t,e){var n=t,r=J4(e),i,o;typeof r.filter=="function"?(o=r.filter,n=o("",n)):Vn(r.filter)&&(o=r.filter,i=o);var s=[];if(typeof n!="object"||n===null)return"";var l;e&&e.arrayFormat in t0?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var a=t0[l];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=a==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var c=Aw(),f=0;f<i.length;++f){var d=i[f];r.skipNulls&&n[d]===null||Pw(s,Y4(n[d],d,a,u,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}var p=s.join(r.delimiter),h=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),p.length>0?h+p:""},Mo=kw,gp=Object.prototype.hasOwnProperty,X4=Array.isArray,Le={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Mo.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Z4=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},_w=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},e5="utf8=%26%2310003%3B",t5="utf8=%E2%9C%93",n5=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=n.parameterLimit===1/0?void 0:n.parameterLimit,s=i.split(n.delimiter,o),l=-1,a,u=n.charset;if(n.charsetSentinel)for(a=0;a<s.length;++a)s[a].indexOf("utf8=")===0&&(s[a]===t5?u="utf-8":s[a]===e5&&(u="iso-8859-1"),l=a,a=s.length);for(a=0;a<s.length;++a)if(a!==l){var c=s[a],f=c.indexOf("]="),d=f===-1?c.indexOf("="):f+1,p,h;d===-1?(p=n.decoder(c,Le.decoder,u,"key"),h=n.strictNullHandling?null:""):(p=n.decoder(c.slice(0,d),Le.decoder,u,"key"),h=Mo.maybeMap(_w(c.slice(d+1),n),function(v){return n.decoder(v,Le.decoder,u,"value")})),h&&n.interpretNumericEntities&&u==="iso-8859-1"&&(h=Z4(h)),c.indexOf("[]=")>-1&&(h=X4(h)?[h]:h),gp.call(r,p)?r[p]=Mo.combine(r[p],h):r[p]=h}return r},r5=function(t,e,n,r){for(var i=r?e:_w(e,n),o=t.length-1;o>=0;--o){var s,l=t[o];if(l==="[]"&&n.parseArrays)s=[].concat(i);else{s=n.plainObjects?Object.create(null):{};var a=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,u=parseInt(a,10);!n.parseArrays&&a===""?s={0:i}:!isNaN(u)&&l!==a&&String(u)===a&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(s=[],s[u]=i):a!=="__proto__"&&(s[a]=i)}i=s}return i},i5=function(e,n,r,i){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,a=r.depth>0&&s.exec(o),u=a?o.slice(0,a.index):o,c=[];if(u){if(!r.plainObjects&&gp.call(Object.prototype,u)&&!r.allowPrototypes)return;c.push(u)}for(var f=0;r.depth>0&&(a=l.exec(o))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&gp.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+o.slice(a.index)+"]"),r5(c,n,r,i)}},o5=function(e){if(!e)return Le;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?Le.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Le.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Le.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Le.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Le.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Le.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Le.comma,decoder:typeof e.decoder=="function"?e.decoder:Le.decoder,delimiter:typeof e.delimiter=="string"||Mo.isRegExp(e.delimiter)?e.delimiter:Le.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Le.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Le.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Le.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Le.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Le.strictNullHandling}},s5=function(t,e){var n=o5(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?n5(t,n):t,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),s=0;s<o.length;++s){var l=o[s],a=i5(l,r[l],n,typeof t=="string");i=Mo.merge(i,a,n)}return n.allowSparse===!0?i:Mo.compact(i)},l5=Q4,a5=s5,u5=Sm,c5={formats:u5,parse:a5,stringify:l5};const rZ=xe(c5);var Mw={exports:{}},Ac={},Nw={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vl=Symbol.for("react.element"),f5=Symbol.for("react.portal"),d5=Symbol.for("react.fragment"),p5=Symbol.for("react.strict_mode"),h5=Symbol.for("react.profiler"),m5=Symbol.for("react.provider"),g5=Symbol.for("react.context"),y5=Symbol.for("react.forward_ref"),v5=Symbol.for("react.suspense"),S5=Symbol.for("react.memo"),b5=Symbol.for("react.lazy"),r0=Symbol.iterator;function w5(t){return t===null||typeof t!="object"?null:(t=r0&&t[r0]||t["@@iterator"],typeof t=="function"?t:null)}var Iw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dw=Object.assign,Rw={};function as(t,e,n){this.props=t,this.context=e,this.refs=Rw,this.updater=n||Iw}as.prototype.isReactComponent={};as.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};as.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Lw(){}Lw.prototype=as.prototype;function bm(t,e,n){this.props=t,this.context=e,this.refs=Rw,this.updater=n||Iw}var wm=bm.prototype=new Lw;wm.constructor=bm;Dw(wm,as.prototype);wm.isPureReactComponent=!0;var i0=Array.isArray,Fw=Object.prototype.hasOwnProperty,Em={current:null},Bw={key:!0,ref:!0,__self:!0,__source:!0};function zw(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Fw.call(e,r)&&!Bw.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Vl,type:t,key:o,ref:s,props:i,_owner:Em.current}}function E5(t,e){return{$$typeof:Vl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vl}function C5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var o0=/\/+/g;function Yf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?C5(""+t.key):e.toString(36)}function Wa(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Vl:case f5:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Yf(s,0):r,i0(i)?(n="",t!=null&&(n=t.replace(o0,"$&/")+"/"),Wa(i,e,n,"",function(u){return u})):i!=null&&(Cm(i)&&(i=E5(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(o0,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",i0(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+Yf(o,l);s+=Wa(o,e,n,a,i)}else if(a=w5(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+Yf(o,l++),s+=Wa(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function da(t,e,n){if(t==null)return t;var r=[],i=0;return Wa(t,r,"","",function(o){return e.call(n,o,i++)}),r}function x5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var St={current:null},Va={transition:null},T5={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:Va,ReactCurrentOwner:Em};ne.Children={map:da,forEach:function(t,e,n){da(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return da(t,function(){e++}),e},toArray:function(t){return da(t,function(e){return e})||[]},only:function(t){if(!Cm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=as;ne.Fragment=d5;ne.Profiler=h5;ne.PureComponent=bm;ne.StrictMode=p5;ne.Suspense=v5;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T5;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Dw({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Em.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Fw.call(e,a)&&!Bw.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Vl,type:t.type,key:i,ref:o,props:r,_owner:s}};ne.createContext=function(t){return t={$$typeof:g5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:m5,_context:t},t.Consumer=t};ne.createElement=zw;ne.createFactory=function(t){var e=zw.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:y5,render:t}};ne.isValidElement=Cm;ne.lazy=function(t){return{$$typeof:b5,_payload:{_status:-1,_result:t},_init:x5}};ne.memo=function(t,e){return{$$typeof:S5,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=Va.transition;Va.transition={};try{t()}finally{Va.transition=e}};ne.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ne.useCallback=function(t,e){return St.current.useCallback(t,e)};ne.useContext=function(t){return St.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return St.current.useDeferredValue(t)};ne.useEffect=function(t,e){return St.current.useEffect(t,e)};ne.useId=function(){return St.current.useId()};ne.useImperativeHandle=function(t,e,n){return St.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return St.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return St.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return St.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return St.current.useReducer(t,e,n)};ne.useRef=function(t){return St.current.useRef(t)};ne.useState=function(t){return St.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return St.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return St.current.useTransition()};ne.version="18.2.0";Nw.exports=ne;var _=Nw.exports;const We=xe(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O5=_,$5=Symbol.for("react.element"),k5=Symbol.for("react.fragment"),A5=Object.prototype.hasOwnProperty,P5=O5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_5={key:!0,ref:!0,__self:!0,__source:!0};function jw(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)A5.call(e,r)&&!_5.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:$5,type:t,key:o,ref:s,props:i,_owner:P5.current}}Ac.Fragment=k5;Ac.jsx=jw;Ac.jsxs=jw;Mw.exports=Ac;var iZ=Mw.exports,Uw={exports:{}},Ut={},Ww={exports:{}},Vw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,W){var q=B.length;B.push(W);e:for(;0<q;){var Y=q-1>>>1,ce=B[Y];if(0<i(ce,W))B[Y]=W,B[q]=ce,q=Y;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var W=B[0],q=B.pop();if(q!==W){B[0]=q;e:for(var Y=0,ce=B.length,L=ce>>>1;Y<L;){var Q=2*(Y+1)-1,X=B[Q],Ae=Q+1,ge=B[Ae];if(0>i(X,q))Ae<ce&&0>i(ge,X)?(B[Y]=ge,B[Ae]=q,Y=Ae):(B[Y]=X,B[Q]=q,Y=Q);else if(Ae<ce&&0>i(ge,q))B[Y]=ge,B[Ae]=q,Y=Ae;else break e}}return W}function i(B,W){var q=B.sortIndex-W.sortIndex;return q!==0?q:B.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,f=null,d=3,p=!1,h=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(B){for(var W=n(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=B)r(u),W.sortIndex=W.expirationTime,e(a,W);else break;W=n(u)}}function w(B){if(v=!1,g(B),!h)if(n(a)!==null)h=!0,ie(C);else{var W=n(u);W!==null&&De(w,W.startTime-B)}}function C(B,W){h=!1,v&&(v=!1,m(b),b=-1),p=!0;var q=d;try{for(g(W),f=n(a);f!==null&&(!(f.expirationTime>W)||B&&!M());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,d=f.priorityLevel;var ce=Y(f.expirationTime<=W);W=t.unstable_now(),typeof ce=="function"?f.callback=ce:f===n(a)&&r(a),g(W)}else r(a);f=n(a)}if(f!==null)var L=!0;else{var Q=n(u);Q!==null&&De(w,Q.startTime-W),L=!1}return L}finally{f=null,d=q,p=!1}}var x=!1,P=null,b=-1,A=5,I=-1;function M(){return!(t.unstable_now()-I<A)}function $(){if(P!==null){var B=t.unstable_now();I=B;var W=!0;try{W=P(!0,B)}finally{W?T():(x=!1,P=null)}}else x=!1}var T;if(typeof y=="function")T=function(){y($)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,U=k.port2;k.port1.onmessage=$,T=function(){U.postMessage(null)}}else T=function(){S($,0)};function ie(B){P=B,x||(x=!0,T())}function De(B,W){b=S(function(){B(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,ie(C))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(B){switch(d){case 1:case 2:case 3:var W=3;break;default:W=d}var q=d;d=W;try{return B()}finally{d=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=d;d=B;try{return W()}finally{d=q}},t.unstable_scheduleCallback=function(B,W,q){var Y=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Y+q:Y):q=Y,B){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=q+ce,B={id:c++,callback:W,priorityLevel:B,startTime:q,expirationTime:ce,sortIndex:-1},q>Y?(B.sortIndex=q,e(u,B),n(a)===null&&B===n(u)&&(v?(m(b),b=-1):v=!0,De(w,q-Y))):(B.sortIndex=ce,e(a,B),h||p||(h=!0,ie(C))),B},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(B){var W=d;return function(){var q=d;d=W;try{return B.apply(this,arguments)}finally{d=q}}}})(Vw);Ww.exports=Vw;var M5=Ww.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw=_,jt=M5;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kw=new Set,sl={};function Di(t,e){No(t,e),No(t+"Capture",e)}function No(t,e){for(sl[t]=e,t=0;t<e.length;t++)Kw.add(e[t])}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yp=Object.prototype.hasOwnProperty,N5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s0={},l0={};function I5(t){return yp.call(l0,t)?!0:yp.call(s0,t)?!1:N5.test(t)?l0[t]=!0:(s0[t]=!0,!1)}function D5(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function R5(t,e,n,r){if(e===null||typeof e>"u"||D5(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qe[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qe[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qe[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qe[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qe[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qe[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qe[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qe[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qe[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var xm=/[\-:]([a-z])/g;function Tm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xm,Tm);Qe[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xm,Tm);Qe[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xm,Tm);Qe[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qe[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});Qe.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qe[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Om(t,e,n,r){var i=Qe.hasOwnProperty(e)?Qe[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(R5(e,n,i,r)&&(n=null),r||i===null?I5(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var nr=Hw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pa=Symbol.for("react.element"),no=Symbol.for("react.portal"),ro=Symbol.for("react.fragment"),$m=Symbol.for("react.strict_mode"),vp=Symbol.for("react.profiler"),Gw=Symbol.for("react.provider"),qw=Symbol.for("react.context"),km=Symbol.for("react.forward_ref"),Sp=Symbol.for("react.suspense"),bp=Symbol.for("react.suspense_list"),Am=Symbol.for("react.memo"),ar=Symbol.for("react.lazy"),Yw=Symbol.for("react.offscreen"),a0=Symbol.iterator;function bs(t){return t===null||typeof t!="object"?null:(t=a0&&t[a0]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,Jf;function Ps(t){if(Jf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jf=e&&e[1]||""}return`
`+Jf+t}var Qf=!1;function Xf(t,e){if(!t||Qf)return"";Qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{Qf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ps(t):""}function L5(t){switch(t.tag){case 5:return Ps(t.type);case 16:return Ps("Lazy");case 13:return Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 2:case 15:return t=Xf(t.type,!1),t;case 11:return t=Xf(t.type.render,!1),t;case 1:return t=Xf(t.type,!0),t;default:return""}}function wp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ro:return"Fragment";case no:return"Portal";case vp:return"Profiler";case $m:return"StrictMode";case Sp:return"Suspense";case bp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qw:return(t.displayName||"Context")+".Consumer";case Gw:return(t._context.displayName||"Context")+".Provider";case km:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Am:return e=t.displayName||null,e!==null?e:wp(t.type)||"Memo";case ar:e=t._payload,t=t._init;try{return wp(t(e))}catch{}}return null}function F5(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wp(e);case 8:return e===$m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function B5(t){var e=Jw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ha(t){t._valueTracker||(t._valueTracker=B5(t))}function Qw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Jw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Su(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ep(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function u0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xw(t,e){e=e.checked,e!=null&&Om(t,"checked",e,!1)}function Cp(t,e){Xw(t,e);var n=Rr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xp(t,e.type,n):e.hasOwnProperty("defaultValue")&&xp(t,e.type,Rr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function c0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xp(t,e,n){(e!=="number"||Su(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _s=Array.isArray;function yo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Tp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function f0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(_s(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rr(n)}}function Zw(t,e){var n=Rr(e.value),r=Rr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function d0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Op(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ma,tE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ma=ma||document.createElement("div"),ma.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ma.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ll(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z5=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(t){z5.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),js[e]=js[t]})});function nE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||js.hasOwnProperty(t)&&js[t]?(""+e).trim():e+"px"}function rE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=nE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var j5=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $p(t,e){if(e){if(j5[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function kp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ap=null;function Pm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pp=null,vo=null,So=null;function p0(t){if(t=Gl(t)){if(typeof Pp!="function")throw Error(D(280));var e=t.stateNode;e&&(e=Ic(e),Pp(t.stateNode,t.type,e))}}function iE(t){vo?So?So.push(t):So=[t]:vo=t}function oE(){if(vo){var t=vo,e=So;if(So=vo=null,p0(t),e)for(t=0;t<e.length;t++)p0(e[t])}}function sE(t,e){return t(e)}function lE(){}var Zf=!1;function aE(t,e,n){if(Zf)return t(e,n);Zf=!0;try{return sE(t,e,n)}finally{Zf=!1,(vo!==null||So!==null)&&(lE(),oE())}}function al(t,e){var n=t.stateNode;if(n===null)return null;var r=Ic(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var _p=!1;if(Xn)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){_p=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{_p=!1}function U5(t,e,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Us=!1,bu=null,wu=!1,Mp=null,W5={onError:function(t){Us=!0,bu=t}};function V5(t,e,n,r,i,o,s,l,a){Us=!1,bu=null,U5.apply(W5,arguments)}function H5(t,e,n,r,i,o,s,l,a){if(V5.apply(this,arguments),Us){if(Us){var u=bu;Us=!1,bu=null}else throw Error(D(198));wu||(wu=!0,Mp=u)}}function Ri(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function h0(t){if(Ri(t)!==t)throw Error(D(188))}function K5(t){var e=t.alternate;if(!e){if(e=Ri(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return h0(i),t;if(o===r)return h0(i),e;o=o.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function cE(t){return t=K5(t),t!==null?fE(t):null}function fE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fE(t);if(e!==null)return e;t=t.sibling}return null}var dE=jt.unstable_scheduleCallback,m0=jt.unstable_cancelCallback,G5=jt.unstable_shouldYield,q5=jt.unstable_requestPaint,Pe=jt.unstable_now,Y5=jt.unstable_getCurrentPriorityLevel,_m=jt.unstable_ImmediatePriority,pE=jt.unstable_UserBlockingPriority,Eu=jt.unstable_NormalPriority,J5=jt.unstable_LowPriority,hE=jt.unstable_IdlePriority,Pc=null,Pn=null;function Q5(t){if(Pn&&typeof Pn.onCommitFiberRoot=="function")try{Pn.onCommitFiberRoot(Pc,t,void 0,(t.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:e8,X5=Math.log,Z5=Math.LN2;function e8(t){return t>>>=0,t===0?32:31-(X5(t)/Z5|0)|0}var ga=64,ya=4194304;function Ms(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=Ms(l):(o&=s,o!==0&&(r=Ms(o)))}else s=n&~i,s!==0?r=Ms(s):o!==0&&(r=Ms(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pn(e),i=1<<n,r|=t[n],e&=~i;return r}function t8(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n8(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-pn(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=t8(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function Np(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mE(){var t=ga;return ga<<=1,!(ga&4194240)&&(ga=64),t}function ed(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pn(e),t[e]=n}function r8(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-pn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Mm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var de=0;function gE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yE,Nm,vE,SE,bE,Ip=!1,va=[],Er=null,Cr=null,xr=null,ul=new Map,cl=new Map,dr=[],i8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function g0(t,e){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":ul.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(e.pointerId)}}function Es(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Gl(e),e!==null&&Nm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function o8(t,e,n,r,i){switch(e){case"focusin":return Er=Es(Er,t,e,n,r,i),!0;case"dragenter":return Cr=Es(Cr,t,e,n,r,i),!0;case"mouseover":return xr=Es(xr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ul.set(o,Es(ul.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,cl.set(o,Es(cl.get(o)||null,t,e,n,r,i)),!0}return!1}function wE(t){var e=ri(t.target);if(e!==null){var n=Ri(e);if(n!==null){if(e=n.tag,e===13){if(e=uE(n),e!==null){t.blockedOn=e,bE(t.priority,function(){vE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ha(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ap=r,n.target.dispatchEvent(r),Ap=null}else return e=Gl(n),e!==null&&Nm(e),t.blockedOn=n,!1;e.shift()}return!0}function y0(t,e,n){Ha(t)&&n.delete(e)}function s8(){Ip=!1,Er!==null&&Ha(Er)&&(Er=null),Cr!==null&&Ha(Cr)&&(Cr=null),xr!==null&&Ha(xr)&&(xr=null),ul.forEach(y0),cl.forEach(y0)}function Cs(t,e){t.blockedOn===e&&(t.blockedOn=null,Ip||(Ip=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,s8)))}function fl(t){function e(i){return Cs(i,t)}if(0<va.length){Cs(va[0],t);for(var n=1;n<va.length;n++){var r=va[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Er!==null&&Cs(Er,t),Cr!==null&&Cs(Cr,t),xr!==null&&Cs(xr,t),ul.forEach(e),cl.forEach(e),n=0;n<dr.length;n++)r=dr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<dr.length&&(n=dr[0],n.blockedOn===null);)wE(n),n.blockedOn===null&&dr.shift()}var bo=nr.ReactCurrentBatchConfig,xu=!0;function l8(t,e,n,r){var i=de,o=bo.transition;bo.transition=null;try{de=1,Im(t,e,n,r)}finally{de=i,bo.transition=o}}function a8(t,e,n,r){var i=de,o=bo.transition;bo.transition=null;try{de=4,Im(t,e,n,r)}finally{de=i,bo.transition=o}}function Im(t,e,n,r){if(xu){var i=Dp(t,e,n,r);if(i===null)cd(t,e,r,Tu,n),g0(t,r);else if(o8(i,t,e,n,r))r.stopPropagation();else if(g0(t,r),e&4&&-1<i8.indexOf(t)){for(;i!==null;){var o=Gl(i);if(o!==null&&yE(o),o=Dp(t,e,n,r),o===null&&cd(t,e,r,Tu,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else cd(t,e,r,null,n)}}var Tu=null;function Dp(t,e,n,r){if(Tu=null,t=Pm(r),t=ri(t),t!==null)if(e=Ri(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tu=t,null}function EE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y5()){case _m:return 1;case pE:return 4;case Eu:case J5:return 16;case hE:return 536870912;default:return 16}default:return 16}}var yr=null,Dm=null,Ka=null;function CE(){if(Ka)return Ka;var t,e=Dm,n=e.length,r,i="value"in yr?yr.value:yr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ka=i.slice(t,1<r?1-r:void 0)}function Ga(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sa(){return!0}function v0(){return!1}function Wt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sa:v0,this.isPropagationStopped=v0,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sa)},persist:function(){},isPersistent:Sa}),e}var us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rm=Wt(us),Kl=$e({},us,{view:0,detail:0}),u8=Wt(Kl),td,nd,xs,_c=$e({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xs&&(xs&&t.type==="mousemove"?(td=t.screenX-xs.screenX,nd=t.screenY-xs.screenY):nd=td=0,xs=t),td)},movementY:function(t){return"movementY"in t?t.movementY:nd}}),S0=Wt(_c),c8=$e({},_c,{dataTransfer:0}),f8=Wt(c8),d8=$e({},Kl,{relatedTarget:0}),rd=Wt(d8),p8=$e({},us,{animationName:0,elapsedTime:0,pseudoElement:0}),h8=Wt(p8),m8=$e({},us,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),g8=Wt(m8),y8=$e({},us,{data:0}),b0=Wt(y8),v8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},S8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=b8[t])?!!e[t]:!1}function Lm(){return w8}var E8=$e({},Kl,{key:function(t){if(t.key){var e=v8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ga(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?S8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lm,charCode:function(t){return t.type==="keypress"?Ga(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ga(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),C8=Wt(E8),x8=$e({},_c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w0=Wt(x8),T8=$e({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lm}),O8=Wt(T8),$8=$e({},us,{propertyName:0,elapsedTime:0,pseudoElement:0}),k8=Wt($8),A8=$e({},_c,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P8=Wt(A8),_8=[9,13,27,32],Fm=Xn&&"CompositionEvent"in window,Ws=null;Xn&&"documentMode"in document&&(Ws=document.documentMode);var M8=Xn&&"TextEvent"in window&&!Ws,xE=Xn&&(!Fm||Ws&&8<Ws&&11>=Ws),E0=" ",C0=!1;function TE(t,e){switch(t){case"keyup":return _8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var io=!1;function N8(t,e){switch(t){case"compositionend":return OE(e);case"keypress":return e.which!==32?null:(C0=!0,E0);case"textInput":return t=e.data,t===E0&&C0?null:t;default:return null}}function I8(t,e){if(io)return t==="compositionend"||!Fm&&TE(t,e)?(t=CE(),Ka=Dm=yr=null,io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xE&&e.locale!=="ko"?null:e.data;default:return null}}var D8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!D8[t.type]:e==="textarea"}function $E(t,e,n,r){iE(r),e=Ou(e,"onChange"),0<e.length&&(n=new Rm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vs=null,dl=null;function R8(t){FE(t,0)}function Mc(t){var e=lo(t);if(Qw(e))return t}function L8(t,e){if(t==="change")return e}var kE=!1;if(Xn){var id;if(Xn){var od="oninput"in document;if(!od){var T0=document.createElement("div");T0.setAttribute("oninput","return;"),od=typeof T0.oninput=="function"}id=od}else id=!1;kE=id&&(!document.documentMode||9<document.documentMode)}function O0(){Vs&&(Vs.detachEvent("onpropertychange",AE),dl=Vs=null)}function AE(t){if(t.propertyName==="value"&&Mc(dl)){var e=[];$E(e,dl,t,Pm(t)),aE(R8,e)}}function F8(t,e,n){t==="focusin"?(O0(),Vs=e,dl=n,Vs.attachEvent("onpropertychange",AE)):t==="focusout"&&O0()}function B8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mc(dl)}function z8(t,e){if(t==="click")return Mc(e)}function j8(t,e){if(t==="input"||t==="change")return Mc(e)}function U8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:U8;function pl(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!yp.call(e,i)||!gn(t[i],e[i]))return!1}return!0}function $0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function k0(t,e){var n=$0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$0(n)}}function PE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?PE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _E(){for(var t=window,e=Su();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Su(t.document)}return e}function Bm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function W8(t){var e=_E(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&PE(n.ownerDocument.documentElement,n)){if(r!==null&&Bm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=k0(n,o);var s=k0(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var V8=Xn&&"documentMode"in document&&11>=document.documentMode,oo=null,Rp=null,Hs=null,Lp=!1;function A0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lp||oo==null||oo!==Su(r)||(r=oo,"selectionStart"in r&&Bm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hs&&pl(Hs,r)||(Hs=r,r=Ou(Rp,"onSelect"),0<r.length&&(e=new Rm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=oo)))}function ba(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var so={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},sd={},ME={};Xn&&(ME=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function Nc(t){if(sd[t])return sd[t];if(!so[t])return t;var e=so[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ME)return sd[t]=e[n];return t}var NE=Nc("animationend"),IE=Nc("animationiteration"),DE=Nc("animationstart"),RE=Nc("transitionend"),LE=new Map,P0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(t,e){LE.set(t,e),Di(e,[t])}for(var ld=0;ld<P0.length;ld++){var ad=P0[ld],H8=ad.toLowerCase(),K8=ad[0].toUpperCase()+ad.slice(1);Ur(H8,"on"+K8)}Ur(NE,"onAnimationEnd");Ur(IE,"onAnimationIteration");Ur(DE,"onAnimationStart");Ur("dblclick","onDoubleClick");Ur("focusin","onFocus");Ur("focusout","onBlur");Ur(RE,"onTransitionEnd");No("onMouseEnter",["mouseout","mouseover"]);No("onMouseLeave",["mouseout","mouseover"]);No("onPointerEnter",["pointerout","pointerover"]);No("onPointerLeave",["pointerout","pointerover"]);Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Di("onBeforeInput",["compositionend","keypress","textInput","paste"]);Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ns));function _0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,H5(r,e,void 0,t),t.currentTarget=null}function FE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;_0(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;_0(i,l,u),o=a}}}if(wu)throw t=Mp,wu=!1,Mp=null,t}function be(t,e){var n=e[Up];n===void 0&&(n=e[Up]=new Set);var r=t+"__bubble";n.has(r)||(BE(e,t,2,!1),n.add(r))}function ud(t,e,n){var r=0;e&&(r|=4),BE(n,t,r,e)}var wa="_reactListening"+Math.random().toString(36).slice(2);function hl(t){if(!t[wa]){t[wa]=!0,Kw.forEach(function(n){n!=="selectionchange"&&(G8.has(n)||ud(n,!1,t),ud(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wa]||(e[wa]=!0,ud("selectionchange",!1,e))}}function BE(t,e,n,r){switch(EE(e)){case 1:var i=l8;break;case 4:i=a8;break;default:i=Im}n=i.bind(null,e,n,t),i=void 0,!_p||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function cd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=ri(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}aE(function(){var u=o,c=Pm(n),f=[];e:{var d=LE.get(t);if(d!==void 0){var p=Rm,h=t;switch(t){case"keypress":if(Ga(n)===0)break e;case"keydown":case"keyup":p=C8;break;case"focusin":h="focus",p=rd;break;case"focusout":h="blur",p=rd;break;case"beforeblur":case"afterblur":p=rd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=S0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=f8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=O8;break;case NE:case IE:case DE:p=h8;break;case RE:p=k8;break;case"scroll":p=u8;break;case"wheel":p=P8;break;case"copy":case"cut":case"paste":p=g8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=w0}var v=(e&4)!==0,S=!v&&t==="scroll",m=v?d!==null?d+"Capture":null:d;v=[];for(var y=u,g;y!==null;){g=y;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,m!==null&&(w=al(y,m),w!=null&&v.push(ml(y,w,g)))),S)break;y=y.return}0<v.length&&(d=new p(d,h,null,n,c),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Ap&&(h=n.relatedTarget||n.fromElement)&&(ri(h)||h[Zn]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=u,h=h?ri(h):null,h!==null&&(S=Ri(h),h!==S||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(v=S0,w="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=w0,w="onPointerLeave",m="onPointerEnter",y="pointer"),S=p==null?d:lo(p),g=h==null?d:lo(h),d=new v(w,y+"leave",p,n,c),d.target=S,d.relatedTarget=g,w=null,ri(c)===u&&(v=new v(m,y+"enter",h,n,c),v.target=g,v.relatedTarget=S,w=v),S=w,p&&h)t:{for(v=p,m=h,y=0,g=v;g;g=Vi(g))y++;for(g=0,w=m;w;w=Vi(w))g++;for(;0<y-g;)v=Vi(v),y--;for(;0<g-y;)m=Vi(m),g--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=Vi(v),m=Vi(m)}v=null}else v=null;p!==null&&M0(f,d,p,v,!1),h!==null&&S!==null&&M0(f,S,h,v,!0)}}e:{if(d=u?lo(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var C=L8;else if(x0(d))if(kE)C=j8;else{C=B8;var x=F8}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=z8);if(C&&(C=C(t,u))){$E(f,C,n,c);break e}x&&x(t,d,u),t==="focusout"&&(x=d._wrapperState)&&x.controlled&&d.type==="number"&&xp(d,"number",d.value)}switch(x=u?lo(u):window,t){case"focusin":(x0(x)||x.contentEditable==="true")&&(oo=x,Rp=u,Hs=null);break;case"focusout":Hs=Rp=oo=null;break;case"mousedown":Lp=!0;break;case"contextmenu":case"mouseup":case"dragend":Lp=!1,A0(f,n,c);break;case"selectionchange":if(V8)break;case"keydown":case"keyup":A0(f,n,c)}var P;if(Fm)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else io?TE(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(xE&&n.locale!=="ko"&&(io||b!=="onCompositionStart"?b==="onCompositionEnd"&&io&&(P=CE()):(yr=c,Dm="value"in yr?yr.value:yr.textContent,io=!0)),x=Ou(u,b),0<x.length&&(b=new b0(b,t,null,n,c),f.push({event:b,listeners:x}),P?b.data=P:(P=OE(n),P!==null&&(b.data=P)))),(P=M8?N8(t,n):I8(t,n))&&(u=Ou(u,"onBeforeInput"),0<u.length&&(c=new b0("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=P))}FE(f,e)})}function ml(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ou(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=al(t,n),o!=null&&r.unshift(ml(t,o,i)),o=al(t,e),o!=null&&r.push(ml(t,o,i))),t=t.return}return r}function Vi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function M0(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=al(n,o),a!=null&&s.unshift(ml(n,a,l))):i||(a=al(n,o),a!=null&&s.push(ml(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var q8=/\r\n?/g,Y8=/\u0000|\uFFFD/g;function N0(t){return(typeof t=="string"?t:""+t).replace(q8,`
`).replace(Y8,"")}function Ea(t,e,n){if(e=N0(e),N0(t)!==e&&n)throw Error(D(425))}function $u(){}var Fp=null,Bp=null;function zp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jp=typeof setTimeout=="function"?setTimeout:void 0,J8=typeof clearTimeout=="function"?clearTimeout:void 0,I0=typeof Promise=="function"?Promise:void 0,Q8=typeof queueMicrotask=="function"?queueMicrotask:typeof I0<"u"?function(t){return I0.resolve(null).then(t).catch(X8)}:jp;function X8(t){setTimeout(function(){throw t})}function fd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fl(e)}function Tr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function D0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cs=Math.random().toString(36).slice(2),On="__reactFiber$"+cs,gl="__reactProps$"+cs,Zn="__reactContainer$"+cs,Up="__reactEvents$"+cs,Z8="__reactListeners$"+cs,e7="__reactHandles$"+cs;function ri(t){var e=t[On];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zn]||n[On]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=D0(t);t!==null;){if(n=t[On])return n;t=D0(t)}return e}t=n,n=t.parentNode}return null}function Gl(t){return t=t[On]||t[Zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function Ic(t){return t[gl]||null}var Wp=[],ao=-1;function Wr(t){return{current:t}}function Ee(t){0>ao||(t.current=Wp[ao],Wp[ao]=null,ao--)}function Se(t,e){ao++,Wp[ao]=t.current,t.current=e}var Lr={},at=Wr(Lr),Ot=Wr(!1),Ei=Lr;function Io(t,e){var n=t.type.contextTypes;if(!n)return Lr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $t(t){return t=t.childContextTypes,t!=null}function ku(){Ee(Ot),Ee(at)}function R0(t,e,n){if(at.current!==Lr)throw Error(D(168));Se(at,e),Se(Ot,n)}function zE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(D(108,F5(t)||"Unknown",i));return $e({},n,r)}function Au(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lr,Ei=at.current,Se(at,t),Se(Ot,Ot.current),!0}function L0(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=zE(t,e,Ei),r.__reactInternalMemoizedMergedChildContext=t,Ee(Ot),Ee(at),Se(at,t)):Ee(Ot),Se(Ot,n)}var Hn=null,Dc=!1,dd=!1;function jE(t){Hn===null?Hn=[t]:Hn.push(t)}function t7(t){Dc=!0,jE(t)}function Vr(){if(!dd&&Hn!==null){dd=!0;var t=0,e=de;try{var n=Hn;for(de=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hn=null,Dc=!1}catch(i){throw Hn!==null&&(Hn=Hn.slice(t+1)),dE(_m,Vr),i}finally{de=e,dd=!1}}return null}var uo=[],co=0,Pu=null,_u=0,Kt=[],Gt=0,Ci=null,Gn=1,qn="";function Xr(t,e){uo[co++]=_u,uo[co++]=Pu,Pu=t,_u=e}function UE(t,e,n){Kt[Gt++]=Gn,Kt[Gt++]=qn,Kt[Gt++]=Ci,Ci=t;var r=Gn;t=qn;var i=32-pn(r)-1;r&=~(1<<i),n+=1;var o=32-pn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Gn=1<<32-pn(e)+i|n<<i|r,qn=o+t}else Gn=1<<o|n<<i|r,qn=t}function zm(t){t.return!==null&&(Xr(t,1),UE(t,1,0))}function jm(t){for(;t===Pu;)Pu=uo[--co],uo[co]=null,_u=uo[--co],uo[co]=null;for(;t===Ci;)Ci=Kt[--Gt],Kt[Gt]=null,qn=Kt[--Gt],Kt[Gt]=null,Gn=Kt[--Gt],Kt[Gt]=null}var Dt=null,It=null,Ce=!1,an=null;function WE(t,e){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function F0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Dt=t,It=Tr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Dt=t,It=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ci!==null?{id:Gn,overflow:qn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Dt=t,It=null,!0):!1;default:return!1}}function Vp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Hp(t){if(Ce){var e=It;if(e){var n=e;if(!F0(t,e)){if(Vp(t))throw Error(D(418));e=Tr(n.nextSibling);var r=Dt;e&&F0(t,e)?WE(r,n):(t.flags=t.flags&-4097|2,Ce=!1,Dt=t)}}else{if(Vp(t))throw Error(D(418));t.flags=t.flags&-4097|2,Ce=!1,Dt=t}}}function B0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Dt=t}function Ca(t){if(t!==Dt)return!1;if(!Ce)return B0(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zp(t.type,t.memoizedProps)),e&&(e=It)){if(Vp(t))throw VE(),Error(D(418));for(;e;)WE(t,e),e=Tr(e.nextSibling)}if(B0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){It=Tr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}It=null}}else It=Dt?Tr(t.stateNode.nextSibling):null;return!0}function VE(){for(var t=It;t;)t=Tr(t.nextSibling)}function Do(){It=Dt=null,Ce=!1}function Um(t){an===null?an=[t]:an.push(t)}var n7=nr.ReactCurrentBatchConfig;function sn(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Mu=Wr(null),Nu=null,fo=null,Wm=null;function Vm(){Wm=fo=Nu=null}function Hm(t){var e=Mu.current;Ee(Mu),t._currentValue=e}function Kp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wo(t,e){Nu=t,Wm=fo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tt=!0),t.firstContext=null)}function Zt(t){var e=t._currentValue;if(Wm!==t)if(t={context:t,memoizedValue:e,next:null},fo===null){if(Nu===null)throw Error(D(308));fo=t,Nu.dependencies={lanes:0,firstContext:t}}else fo=fo.next=t;return e}var ii=null;function Km(t){ii===null?ii=[t]:ii.push(t)}function HE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Km(e)):(n.next=i.next,i.next=n),e.interleaved=n,er(t,r)}function er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ur=!1;function Gm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Jn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Or(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,er(t,n)}return i=r.interleaved,i===null?(e.next=e,Km(r)):(e.next=i.next,i.next=e),r.interleaved=e,er(t,n)}function qa(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mm(t,n)}}function z0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Iu(t,e,n,r){var i=t.updateQueue;ur=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var f=i.baseState;s=0,c=u=a=null,l=o;do{var d=l.lane,p=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=t,v=l;switch(d=e,p=n,v.tag){case 1:if(h=v.payload,typeof h=="function"){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,d=typeof h=="function"?h.call(p,f,d):h,d==null)break e;f=$e({},f,d);break e;case 2:ur=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else p={eventTime:p,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,a=f):c=c.next=p,s|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ti|=s,t.lanes=s,t.memoizedState=f}}function j0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var GE=new Hw.Component().refs;function Gp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Rc={isMounted:function(t){return(t=t._reactInternals)?Ri(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=pt(),i=kr(t),o=Jn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Or(t,o,i),e!==null&&(hn(e,t,i,r),qa(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=pt(),i=kr(t),o=Jn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Or(t,o,i),e!==null&&(hn(e,t,i,r),qa(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=pt(),r=kr(t),i=Jn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Or(t,i,r),e!==null&&(hn(e,t,r,n),qa(e,t,r))}};function U0(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!pl(n,r)||!pl(i,o):!0}function qE(t,e,n){var r=!1,i=Lr,o=e.contextType;return typeof o=="object"&&o!==null?o=Zt(o):(i=$t(e)?Ei:at.current,r=e.contextTypes,o=(r=r!=null)?Io(t,i):Lr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Rc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function W0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Rc.enqueueReplaceState(e,e.state,null)}function qp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=GE,Gm(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Zt(o):(o=$t(e)?Ei:at.current,i.context=Io(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Gp(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Rc.enqueueReplaceState(i,i.state,null),Iu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ts(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;l===GE&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function xa(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function V0(t){var e=t._init;return e(t._payload)}function YE(t){function e(m,y){if(t){var g=m.deletions;g===null?(m.deletions=[y],m.flags|=16):g.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Ar(m,y),m.index=0,m.sibling=null,m}function o(m,y,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<y?(m.flags|=2,y):g):(m.flags|=2,y)):(m.flags|=1048576,y)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,y,g,w){return y===null||y.tag!==6?(y=Sd(g,m.mode,w),y.return=m,y):(y=i(y,g),y.return=m,y)}function a(m,y,g,w){var C=g.type;return C===ro?c(m,y,g.props.children,w,g.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ar&&V0(C)===y.type)?(w=i(y,g.props),w.ref=Ts(m,y,g),w.return=m,w):(w=eu(g.type,g.key,g.props,null,m.mode,w),w.ref=Ts(m,y,g),w.return=m,w)}function u(m,y,g,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=bd(g,m.mode,w),y.return=m,y):(y=i(y,g.children||[]),y.return=m,y)}function c(m,y,g,w,C){return y===null||y.tag!==7?(y=di(g,m.mode,w,C),y.return=m,y):(y=i(y,g),y.return=m,y)}function f(m,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Sd(""+y,m.mode,g),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case pa:return g=eu(y.type,y.key,y.props,null,m.mode,g),g.ref=Ts(m,null,y),g.return=m,g;case no:return y=bd(y,m.mode,g),y.return=m,y;case ar:var w=y._init;return f(m,w(y._payload),g)}if(_s(y)||bs(y))return y=di(y,m.mode,g,null),y.return=m,y;xa(m,y)}return null}function d(m,y,g,w){var C=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:l(m,y,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case pa:return g.key===C?a(m,y,g,w):null;case no:return g.key===C?u(m,y,g,w):null;case ar:return C=g._init,d(m,y,C(g._payload),w)}if(_s(g)||bs(g))return C!==null?null:c(m,y,g,w,null);xa(m,g)}return null}function p(m,y,g,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(g)||null,l(y,m,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case pa:return m=m.get(w.key===null?g:w.key)||null,a(y,m,w,C);case no:return m=m.get(w.key===null?g:w.key)||null,u(y,m,w,C);case ar:var x=w._init;return p(m,y,g,x(w._payload),C)}if(_s(w)||bs(w))return m=m.get(g)||null,c(y,m,w,C,null);xa(y,w)}return null}function h(m,y,g,w){for(var C=null,x=null,P=y,b=y=0,A=null;P!==null&&b<g.length;b++){P.index>b?(A=P,P=null):A=P.sibling;var I=d(m,P,g[b],w);if(I===null){P===null&&(P=A);break}t&&P&&I.alternate===null&&e(m,P),y=o(I,y,b),x===null?C=I:x.sibling=I,x=I,P=A}if(b===g.length)return n(m,P),Ce&&Xr(m,b),C;if(P===null){for(;b<g.length;b++)P=f(m,g[b],w),P!==null&&(y=o(P,y,b),x===null?C=P:x.sibling=P,x=P);return Ce&&Xr(m,b),C}for(P=r(m,P);b<g.length;b++)A=p(P,m,b,g[b],w),A!==null&&(t&&A.alternate!==null&&P.delete(A.key===null?b:A.key),y=o(A,y,b),x===null?C=A:x.sibling=A,x=A);return t&&P.forEach(function(M){return e(m,M)}),Ce&&Xr(m,b),C}function v(m,y,g,w){var C=bs(g);if(typeof C!="function")throw Error(D(150));if(g=C.call(g),g==null)throw Error(D(151));for(var x=C=null,P=y,b=y=0,A=null,I=g.next();P!==null&&!I.done;b++,I=g.next()){P.index>b?(A=P,P=null):A=P.sibling;var M=d(m,P,I.value,w);if(M===null){P===null&&(P=A);break}t&&P&&M.alternate===null&&e(m,P),y=o(M,y,b),x===null?C=M:x.sibling=M,x=M,P=A}if(I.done)return n(m,P),Ce&&Xr(m,b),C;if(P===null){for(;!I.done;b++,I=g.next())I=f(m,I.value,w),I!==null&&(y=o(I,y,b),x===null?C=I:x.sibling=I,x=I);return Ce&&Xr(m,b),C}for(P=r(m,P);!I.done;b++,I=g.next())I=p(P,m,b,I.value,w),I!==null&&(t&&I.alternate!==null&&P.delete(I.key===null?b:I.key),y=o(I,y,b),x===null?C=I:x.sibling=I,x=I);return t&&P.forEach(function($){return e(m,$)}),Ce&&Xr(m,b),C}function S(m,y,g,w){if(typeof g=="object"&&g!==null&&g.type===ro&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case pa:e:{for(var C=g.key,x=y;x!==null;){if(x.key===C){if(C=g.type,C===ro){if(x.tag===7){n(m,x.sibling),y=i(x,g.props.children),y.return=m,m=y;break e}}else if(x.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ar&&V0(C)===x.type){n(m,x.sibling),y=i(x,g.props),y.ref=Ts(m,x,g),y.return=m,m=y;break e}n(m,x);break}else e(m,x);x=x.sibling}g.type===ro?(y=di(g.props.children,m.mode,w,g.key),y.return=m,m=y):(w=eu(g.type,g.key,g.props,null,m.mode,w),w.ref=Ts(m,y,g),w.return=m,m=w)}return s(m);case no:e:{for(x=g.key;y!==null;){if(y.key===x)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){n(m,y.sibling),y=i(y,g.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=bd(g,m.mode,w),y.return=m,m=y}return s(m);case ar:return x=g._init,S(m,y,x(g._payload),w)}if(_s(g))return h(m,y,g,w);if(bs(g))return v(m,y,g,w);xa(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,g),y.return=m,m=y):(n(m,y),y=Sd(g,m.mode,w),y.return=m,m=y),s(m)):n(m,y)}return S}var Ro=YE(!0),JE=YE(!1),ql={},_n=Wr(ql),yl=Wr(ql),vl=Wr(ql);function oi(t){if(t===ql)throw Error(D(174));return t}function qm(t,e){switch(Se(vl,e),Se(yl,t),Se(_n,ql),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Op(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Op(e,t)}Ee(_n),Se(_n,e)}function Lo(){Ee(_n),Ee(yl),Ee(vl)}function QE(t){oi(vl.current);var e=oi(_n.current),n=Op(e,t.type);e!==n&&(Se(yl,t),Se(_n,n))}function Ym(t){yl.current===t&&(Ee(_n),Ee(yl))}var Te=Wr(0);function Du(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pd=[];function Jm(){for(var t=0;t<pd.length;t++)pd[t]._workInProgressVersionPrimary=null;pd.length=0}var Ya=nr.ReactCurrentDispatcher,hd=nr.ReactCurrentBatchConfig,xi=0,Oe=null,Ne=null,Be=null,Ru=!1,Ks=!1,Sl=0,r7=0;function et(){throw Error(D(321))}function Qm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gn(t[n],e[n]))return!1;return!0}function Xm(t,e,n,r,i,o){if(xi=o,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ya.current=t===null||t.memoizedState===null?l7:a7,t=n(r,i),Ks){o=0;do{if(Ks=!1,Sl=0,25<=o)throw Error(D(301));o+=1,Be=Ne=null,e.updateQueue=null,Ya.current=u7,t=n(r,i)}while(Ks)}if(Ya.current=Lu,e=Ne!==null&&Ne.next!==null,xi=0,Be=Ne=Oe=null,Ru=!1,e)throw Error(D(300));return t}function Zm(){var t=Sl!==0;return Sl=0,t}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Oe.memoizedState=Be=t:Be=Be.next=t,Be}function en(){if(Ne===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var e=Be===null?Oe.memoizedState:Be.next;if(e!==null)Be=e,Ne=t;else{if(t===null)throw Error(D(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Be===null?Oe.memoizedState=Be=t:Be=Be.next=t}return Be}function bl(t,e){return typeof e=="function"?e(t):e}function md(t){var e=en(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=Ne,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((xi&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,s=r):a=a.next=f,Oe.lanes|=c,Ti|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,gn(r,e.memoizedState)||(Tt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Oe.lanes|=o,Ti|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gd(t){var e=en(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);gn(o,e.memoizedState)||(Tt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function XE(){}function ZE(t,e){var n=Oe,r=en(),i=e(),o=!gn(r.memoizedState,i);if(o&&(r.memoizedState=i,Tt=!0),r=r.queue,eg(nC.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,wl(9,tC.bind(null,n,r,i,e),void 0,null),je===null)throw Error(D(349));xi&30||eC(n,e,i)}return i}function eC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tC(t,e,n,r){e.value=n,e.getSnapshot=r,rC(e)&&iC(t)}function nC(t,e,n){return n(function(){rC(e)&&iC(t)})}function rC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gn(t,n)}catch{return!0}}function iC(t){var e=er(t,1);e!==null&&hn(e,t,1,-1)}function H0(t){var e=En();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:t},e.queue=t,t=t.dispatch=s7.bind(null,Oe,t),[e.memoizedState,t]}function wl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function oC(){return en().memoizedState}function Ja(t,e,n,r){var i=En();Oe.flags|=t,i.memoizedState=wl(1|e,n,void 0,r===void 0?null:r)}function Lc(t,e,n,r){var i=en();r=r===void 0?null:r;var o=void 0;if(Ne!==null){var s=Ne.memoizedState;if(o=s.destroy,r!==null&&Qm(r,s.deps)){i.memoizedState=wl(e,n,o,r);return}}Oe.flags|=t,i.memoizedState=wl(1|e,n,o,r)}function K0(t,e){return Ja(8390656,8,t,e)}function eg(t,e){return Lc(2048,8,t,e)}function sC(t,e){return Lc(4,2,t,e)}function lC(t,e){return Lc(4,4,t,e)}function aC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uC(t,e,n){return n=n!=null?n.concat([t]):null,Lc(4,4,aC.bind(null,e,t),n)}function tg(){}function cC(t,e){var n=en();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fC(t,e){var n=en();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dC(t,e,n){return xi&21?(gn(n,e)||(n=mE(),Oe.lanes|=n,Ti|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=n)}function i7(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var r=hd.transition;hd.transition={};try{t(!1),e()}finally{de=n,hd.transition=r}}function pC(){return en().memoizedState}function o7(t,e,n){var r=kr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hC(t))mC(e,n);else if(n=HE(t,e,n,r),n!==null){var i=pt();hn(n,t,r,i),gC(n,e,r)}}function s7(t,e,n){var r=kr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hC(t))mC(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,gn(l,s)){var a=e.interleaved;a===null?(i.next=i,Km(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=HE(t,e,i,r),n!==null&&(i=pt(),hn(n,t,r,i),gC(n,e,r))}}function hC(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function mC(t,e){Ks=Ru=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mm(t,n)}}var Lu={readContext:Zt,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},l7={readContext:Zt,useCallback:function(t,e){return En().memoizedState=[t,e===void 0?null:e],t},useContext:Zt,useEffect:K0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ja(4194308,4,aC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ja(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ja(4,2,t,e)},useMemo:function(t,e){var n=En();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=En();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=o7.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=En();return t={current:t},e.memoizedState=t},useState:H0,useDebugValue:tg,useDeferredValue:function(t){return En().memoizedState=t},useTransition:function(){var t=H0(!1),e=t[0];return t=i7.bind(null,t[1]),En().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,i=En();if(Ce){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),je===null)throw Error(D(349));xi&30||eC(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,K0(nC.bind(null,r,o,t),[t]),r.flags|=2048,wl(9,tC.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=En(),e=je.identifierPrefix;if(Ce){var n=qn,r=Gn;n=(r&~(1<<32-pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=r7++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},a7={readContext:Zt,useCallback:cC,useContext:Zt,useEffect:eg,useImperativeHandle:uC,useInsertionEffect:sC,useLayoutEffect:lC,useMemo:fC,useReducer:md,useRef:oC,useState:function(){return md(bl)},useDebugValue:tg,useDeferredValue:function(t){var e=en();return dC(e,Ne.memoizedState,t)},useTransition:function(){var t=md(bl)[0],e=en().memoizedState;return[t,e]},useMutableSource:XE,useSyncExternalStore:ZE,useId:pC,unstable_isNewReconciler:!1},u7={readContext:Zt,useCallback:cC,useContext:Zt,useEffect:eg,useImperativeHandle:uC,useInsertionEffect:sC,useLayoutEffect:lC,useMemo:fC,useReducer:gd,useRef:oC,useState:function(){return gd(bl)},useDebugValue:tg,useDeferredValue:function(t){var e=en();return Ne===null?e.memoizedState=t:dC(e,Ne.memoizedState,t)},useTransition:function(){var t=gd(bl)[0],e=en().memoizedState;return[t,e]},useMutableSource:XE,useSyncExternalStore:ZE,useId:pC,unstable_isNewReconciler:!1};function Fo(t,e){try{var n="",r=e;do n+=L5(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function yd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var c7=typeof WeakMap=="function"?WeakMap:Map;function yC(t,e,n){n=Jn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bu||(Bu=!0,oh=r),Yp(t,e)},n}function vC(t,e,n){n=Jn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Yp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Yp(t,e),typeof r!="function"&&($r===null?$r=new Set([this]):$r.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function G0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new c7;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=x7.bind(null,t,e,n),e.then(t,t))}function q0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Y0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Jn(-1,1),e.tag=2,Or(n,e,1))),n.lanes|=1),t)}var f7=nr.ReactCurrentOwner,Tt=!1;function ct(t,e,n,r){e.child=t===null?JE(e,null,n,r):Ro(e,t.child,n,r)}function J0(t,e,n,r,i){n=n.render;var o=e.ref;return wo(e,i),r=Xm(t,e,n,r,o,i),n=Zm(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tr(t,e,i)):(Ce&&n&&zm(e),e.flags|=1,ct(t,e,r,i),e.child)}function Q0(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ug(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,SC(t,e,o,r,i)):(t=eu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:pl,n(s,r)&&t.ref===e.ref)return tr(t,e,i)}return e.flags|=1,t=Ar(o,r),t.ref=e.ref,t.return=e,e.child=t}function SC(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(pl(o,r)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Tt=!0);else return e.lanes=t.lanes,tr(t,e,i)}return Jp(t,e,n,r,i)}function bC(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(ho,Mt),Mt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(ho,Mt),Mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Se(ho,Mt),Mt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Se(ho,Mt),Mt|=r;return ct(t,e,i,n),e.child}function wC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jp(t,e,n,r,i){var o=$t(n)?Ei:at.current;return o=Io(e,o),wo(e,i),n=Xm(t,e,n,r,o,i),r=Zm(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tr(t,e,i)):(Ce&&r&&zm(e),e.flags|=1,ct(t,e,n,i),e.child)}function X0(t,e,n,r,i){if($t(n)){var o=!0;Au(e)}else o=!1;if(wo(e,i),e.stateNode===null)Qa(t,e),qE(e,n,r),qp(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Zt(u):(u=$t(n)?Ei:at.current,u=Io(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&W0(e,s,r,u),ur=!1;var d=e.memoizedState;s.state=d,Iu(e,r,s,i),a=e.memoizedState,l!==r||d!==a||Ot.current||ur?(typeof c=="function"&&(Gp(e,n,c,r),a=e.memoizedState),(l=ur||U0(e,n,l,r,d,a,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,KE(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:sn(e.type,l),s.props=u,f=e.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Zt(a):(a=$t(n)?Ei:at.current,a=Io(e,a));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||d!==a)&&W0(e,s,r,a),ur=!1,d=e.memoizedState,s.state=d,Iu(e,r,s,i);var h=e.memoizedState;l!==f||d!==h||Ot.current||ur?(typeof p=="function"&&(Gp(e,n,p,r),h=e.memoizedState),(u=ur||U0(e,n,u,r,d,h,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,h,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,h,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),s.props=r,s.state=h,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Qp(t,e,n,r,o,i)}function Qp(t,e,n,r,i,o){wC(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&L0(e,n,!1),tr(t,e,o);r=e.stateNode,f7.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ro(e,t.child,null,o),e.child=Ro(e,null,l,o)):ct(t,e,l,o),e.memoizedState=r.state,i&&L0(e,n,!0),e.child}function EC(t){var e=t.stateNode;e.pendingContext?R0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&R0(t,e.context,!1),qm(t,e.containerInfo)}function Z0(t,e,n,r,i){return Do(),Um(i),e.flags|=256,ct(t,e,n,r),e.child}var Xp={dehydrated:null,treeContext:null,retryLane:0};function Zp(t){return{baseLanes:t,cachePool:null,transitions:null}}function CC(t,e,n){var r=e.pendingProps,i=Te.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Se(Te,i&1),t===null)return Hp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=zc(s,r,0,null),t=di(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Zp(n),e.memoizedState=Xp,t):ng(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return d7(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Ar(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Ar(l,o):(o=di(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Zp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Xp,r}return o=t.child,t=o.sibling,r=Ar(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ng(t,e){return e=zc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ta(t,e,n,r){return r!==null&&Um(r),Ro(e,t.child,null,n),t=ng(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function d7(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=yd(Error(D(422))),Ta(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=zc({mode:"visible",children:r.children},i,0,null),o=di(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ro(e,t.child,null,s),e.child.memoizedState=Zp(s),e.memoizedState=Xp,o);if(!(e.mode&1))return Ta(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(D(419)),r=yd(o,r,void 0),Ta(t,e,s,r)}if(l=(s&t.childLanes)!==0,Tt||l){if(r=je,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,er(t,i),hn(r,t,i,-1))}return ag(),r=yd(Error(D(421))),Ta(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=T7.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,It=Tr(i.nextSibling),Dt=e,Ce=!0,an=null,t!==null&&(Kt[Gt++]=Gn,Kt[Gt++]=qn,Kt[Gt++]=Ci,Gn=t.id,qn=t.overflow,Ci=e),e=ng(e,r.children),e.flags|=4096,e)}function e1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Kp(t.return,e,n)}function vd(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function xC(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ct(t,e,r.children,n),r=Te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&e1(t,n,e);else if(t.tag===19)e1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(Te,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Du(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),vd(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Du(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}vd(e,!0,n,null,o);break;case"together":vd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ti|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=Ar(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ar(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function p7(t,e,n){switch(e.tag){case 3:EC(e),Do();break;case 5:QE(e);break;case 1:$t(e.type)&&Au(e);break;case 4:qm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Se(Mu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(Te,Te.current&1),e.flags|=128,null):n&e.child.childLanes?CC(t,e,n):(Se(Te,Te.current&1),t=tr(t,e,n),t!==null?t.sibling:null);Se(Te,Te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(Te,Te.current),r)break;return null;case 22:case 23:return e.lanes=0,bC(t,e,n)}return tr(t,e,n)}var TC,eh,OC,$C;TC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eh=function(){};OC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,oi(_n.current);var o=null;switch(n){case"input":i=Ep(t,i),r=Ep(t,r),o=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),o=[];break;case"textarea":i=Tp(t,i),r=Tp(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$u)}$p(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(sl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(sl.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&be("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};$C=function(t,e,n,r){n!==r&&(e.flags|=4)};function Os(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function h7(t,e,n){var r=e.pendingProps;switch(jm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return $t(e.type)&&ku(),tt(e),null;case 3:return r=e.stateNode,Lo(),Ee(Ot),Ee(at),Jm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ca(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,an!==null&&(ah(an),an=null))),eh(t,e),tt(e),null;case 5:Ym(e);var i=oi(vl.current);if(n=e.type,t!==null&&e.stateNode!=null)OC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return tt(e),null}if(t=oi(_n.current),Ca(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[On]=e,r[gl]=o,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<Ns.length;i++)be(Ns[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":u0(r,o),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},be("invalid",r);break;case"textarea":f0(r,o),be("invalid",r)}$p(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ea(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ea(r.textContent,l,t),i=["children",""+l]):sl.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&be("scroll",r)}switch(n){case"input":ha(r),c0(r,o,!0);break;case"textarea":ha(r),d0(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=$u)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[On]=e,t[gl]=r,TC(t,e,!1,!1),e.stateNode=t;e:{switch(s=kp(n,r),n){case"dialog":be("cancel",t),be("close",t),i=r;break;case"iframe":case"object":case"embed":be("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ns.length;i++)be(Ns[i],t);i=r;break;case"source":be("error",t),i=r;break;case"img":case"image":case"link":be("error",t),be("load",t),i=r;break;case"details":be("toggle",t),i=r;break;case"input":u0(t,r),i=Ep(t,r),be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),be("invalid",t);break;case"textarea":f0(t,r),i=Tp(t,r),be("invalid",t);break;default:i=r}$p(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?rE(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&tE(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ll(t,a):typeof a=="number"&&ll(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(sl.hasOwnProperty(o)?a!=null&&o==="onScroll"&&be("scroll",t):a!=null&&Om(t,o,a,s))}switch(n){case"input":ha(t),c0(t,r,!1);break;case"textarea":ha(t),d0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?yo(t,!!r.multiple,o,!1):r.defaultValue!=null&&yo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=$u)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tt(e),null;case 6:if(t&&e.stateNode!=null)$C(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=oi(vl.current),oi(_n.current),Ca(e)){if(r=e.stateNode,n=e.memoizedProps,r[On]=e,(o=r.nodeValue!==n)&&(t=Dt,t!==null))switch(t.tag){case 3:Ea(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ea(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[On]=e,e.stateNode=r}return tt(e),null;case 13:if(Ee(Te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&It!==null&&e.mode&1&&!(e.flags&128))VE(),Do(),e.flags|=98560,o=!1;else if(o=Ca(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(D(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(D(317));o[On]=e}else Do(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),o=!1}else an!==null&&(ah(an),an=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?Ie===0&&(Ie=3):ag())),e.updateQueue!==null&&(e.flags|=4),tt(e),null);case 4:return Lo(),eh(t,e),t===null&&hl(e.stateNode.containerInfo),tt(e),null;case 10:return Hm(e.type._context),tt(e),null;case 17:return $t(e.type)&&ku(),tt(e),null;case 19:if(Ee(Te),o=e.memoizedState,o===null)return tt(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Os(o,!1);else{if(Ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Du(t),s!==null){for(e.flags|=128,Os(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(Te,Te.current&1|2),e.child}t=t.sibling}o.tail!==null&&Pe()>Bo&&(e.flags|=128,r=!0,Os(o,!1),e.lanes=4194304)}else{if(!r)if(t=Du(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Os(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ce)return tt(e),null}else 2*Pe()-o.renderingStartTime>Bo&&n!==1073741824&&(e.flags|=128,r=!0,Os(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Pe(),e.sibling=null,n=Te.current,Se(Te,r?n&1|2:n&1),e):(tt(e),null);case 22:case 23:return lg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mt&1073741824&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function m7(t,e){switch(jm(e),e.tag){case 1:return $t(e.type)&&ku(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Lo(),Ee(Ot),Ee(at),Jm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ym(e),null;case 13:if(Ee(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));Do()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(Te),null;case 4:return Lo(),null;case 10:return Hm(e.type._context),null;case 22:case 23:return lg(),null;case 24:return null;default:return null}}var Oa=!1,it=!1,g7=typeof WeakSet=="function"?WeakSet:Set,j=null;function po(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function th(t,e,n){try{n()}catch(r){ke(t,e,r)}}var t1=!1;function y7(t,e){if(Fp=xu,t=_E(),Bm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==o||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(l=s),d===o&&++c===r&&(a=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bp={focusedElem:t,selectionRange:n},xu=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,S=h.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:sn(e.type,v),S);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(w){ke(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return h=t1,t1=!1,h}function Gs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&th(e,n,o)}i=i.next}while(i!==r)}}function Fc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function nh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kC(t){var e=t.alternate;e!==null&&(t.alternate=null,kC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[On],delete e[gl],delete e[Up],delete e[Z8],delete e[e7])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function AC(t){return t.tag===5||t.tag===3||t.tag===4}function n1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||AC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$u));else if(r!==4&&(t=t.child,t!==null))for(rh(t,e,n),t=t.sibling;t!==null;)rh(t,e,n),t=t.sibling}function ih(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ih(t,e,n),t=t.sibling;t!==null;)ih(t,e,n),t=t.sibling}var Ge=null,ln=!1;function or(t,e,n){for(n=n.child;n!==null;)PC(t,e,n),n=n.sibling}function PC(t,e,n){if(Pn&&typeof Pn.onCommitFiberUnmount=="function")try{Pn.onCommitFiberUnmount(Pc,n)}catch{}switch(n.tag){case 5:it||po(n,e);case 6:var r=Ge,i=ln;Ge=null,or(t,e,n),Ge=r,ln=i,Ge!==null&&(ln?(t=Ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(ln?(t=Ge,n=n.stateNode,t.nodeType===8?fd(t.parentNode,n):t.nodeType===1&&fd(t,n),fl(t)):fd(Ge,n.stateNode));break;case 4:r=Ge,i=ln,Ge=n.stateNode.containerInfo,ln=!0,or(t,e,n),Ge=r,ln=i;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&th(n,e,s),i=i.next}while(i!==r)}or(t,e,n);break;case 1:if(!it&&(po(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ke(n,e,l)}or(t,e,n);break;case 21:or(t,e,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,or(t,e,n),it=r):or(t,e,n);break;default:or(t,e,n)}}function r1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new g7),e.forEach(function(r){var i=O7.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ge=l.stateNode,ln=!1;break e;case 3:Ge=l.stateNode.containerInfo,ln=!0;break e;case 4:Ge=l.stateNode.containerInfo,ln=!0;break e}l=l.return}if(Ge===null)throw Error(D(160));PC(o,s,i),Ge=null,ln=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ke(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_C(e,t),e=e.sibling}function _C(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rn(e,t),wn(t),r&4){try{Gs(3,t,t.return),Fc(3,t)}catch(v){ke(t,t.return,v)}try{Gs(5,t,t.return)}catch(v){ke(t,t.return,v)}}break;case 1:rn(e,t),wn(t),r&512&&n!==null&&po(n,n.return);break;case 5:if(rn(e,t),wn(t),r&512&&n!==null&&po(n,n.return),t.flags&32){var i=t.stateNode;try{ll(i,"")}catch(v){ke(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Xw(i,o),kp(l,s);var u=kp(l,o);for(s=0;s<a.length;s+=2){var c=a[s],f=a[s+1];c==="style"?rE(i,f):c==="dangerouslySetInnerHTML"?tE(i,f):c==="children"?ll(i,f):Om(i,c,f,u)}switch(l){case"input":Cp(i,o);break;case"textarea":Zw(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?yo(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?yo(i,!!o.multiple,o.defaultValue,!0):yo(i,!!o.multiple,o.multiple?[]:"",!1))}i[gl]=o}catch(v){ke(t,t.return,v)}}break;case 6:if(rn(e,t),wn(t),r&4){if(t.stateNode===null)throw Error(D(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){ke(t,t.return,v)}}break;case 3:if(rn(e,t),wn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fl(e.containerInfo)}catch(v){ke(t,t.return,v)}break;case 4:rn(e,t),wn(t);break;case 13:rn(e,t),wn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(og=Pe())),r&4&&r1(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(it=(u=it)||c,rn(e,t),it=u):rn(e,t),wn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(j=t,c=t.child;c!==null;){for(f=j=c;j!==null;){switch(d=j,p=d.child,d.tag){case 0:case 11:case 14:case 15:Gs(4,d,d.return);break;case 1:po(d,d.return);var h=d.stateNode;if(typeof h.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(v){ke(r,n,v)}}break;case 5:po(d,d.return);break;case 22:if(d.memoizedState!==null){o1(f);continue}}p!==null?(p.return=d,j=p):o1(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=nE("display",s))}catch(v){ke(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){ke(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rn(e,t),wn(t),r&4&&r1(t);break;case 21:break;default:rn(e,t),wn(t)}}function wn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(AC(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ll(i,""),r.flags&=-33);var o=n1(t);ih(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=n1(t);rh(t,l,s);break;default:throw Error(D(161))}}catch(a){ke(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function v7(t,e,n){j=t,MC(t)}function MC(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var i=j,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Oa;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||it;l=Oa;var u=it;if(Oa=s,(it=a)&&!u)for(j=i;j!==null;)s=j,a=s.child,s.tag===22&&s.memoizedState!==null?s1(i):a!==null?(a.return=s,j=a):s1(i);for(;o!==null;)j=o,MC(o),o=o.sibling;j=i,Oa=l,it=u}i1(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,j=o):i1(t)}}function i1(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:it||Fc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!it)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:sn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&j0(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}j0(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&fl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}it||e.flags&512&&nh(e)}catch(d){ke(e,e.return,d)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function o1(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function s1(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fc(4,e)}catch(a){ke(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ke(e,i,a)}}var o=e.return;try{nh(e)}catch(a){ke(e,o,a)}break;case 5:var s=e.return;try{nh(e)}catch(a){ke(e,s,a)}}}catch(a){ke(e,e.return,a)}if(e===t){j=null;break}var l=e.sibling;if(l!==null){l.return=e.return,j=l;break}j=e.return}}var S7=Math.ceil,Fu=nr.ReactCurrentDispatcher,rg=nr.ReactCurrentOwner,Qt=nr.ReactCurrentBatchConfig,se=0,je=null,_e=null,Je=0,Mt=0,ho=Wr(0),Ie=0,El=null,Ti=0,Bc=0,ig=0,qs=null,xt=null,og=0,Bo=1/0,Un=null,Bu=!1,oh=null,$r=null,$a=!1,vr=null,zu=0,Ys=0,sh=null,Xa=-1,Za=0;function pt(){return se&6?Pe():Xa!==-1?Xa:Xa=Pe()}function kr(t){return t.mode&1?se&2&&Je!==0?Je&-Je:n7.transition!==null?(Za===0&&(Za=mE()),Za):(t=de,t!==0||(t=window.event,t=t===void 0?16:EE(t.type)),t):1}function hn(t,e,n,r){if(50<Ys)throw Ys=0,sh=null,Error(D(185));Hl(t,n,r),(!(se&2)||t!==je)&&(t===je&&(!(se&2)&&(Bc|=n),Ie===4&&pr(t,Je)),kt(t,r),n===1&&se===0&&!(e.mode&1)&&(Bo=Pe()+500,Dc&&Vr()))}function kt(t,e){var n=t.callbackNode;n8(t,e);var r=Cu(t,t===je?Je:0);if(r===0)n!==null&&m0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&m0(n),e===1)t.tag===0?t7(l1.bind(null,t)):jE(l1.bind(null,t)),Q8(function(){!(se&6)&&Vr()}),n=null;else{switch(gE(r)){case 1:n=_m;break;case 4:n=pE;break;case 16:n=Eu;break;case 536870912:n=hE;break;default:n=Eu}n=zC(n,NC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NC(t,e){if(Xa=-1,Za=0,se&6)throw Error(D(327));var n=t.callbackNode;if(Eo()&&t.callbackNode!==n)return null;var r=Cu(t,t===je?Je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ju(t,r);else{e=r;var i=se;se|=2;var o=DC();(je!==t||Je!==e)&&(Un=null,Bo=Pe()+500,fi(t,e));do try{E7();break}catch(l){IC(t,l)}while(!0);Vm(),Fu.current=o,se=i,_e!==null?e=0:(je=null,Je=0,e=Ie)}if(e!==0){if(e===2&&(i=Np(t),i!==0&&(r=i,e=lh(t,i))),e===1)throw n=El,fi(t,0),pr(t,r),kt(t,Pe()),n;if(e===6)pr(t,r);else{if(i=t.current.alternate,!(r&30)&&!b7(i)&&(e=ju(t,r),e===2&&(o=Np(t),o!==0&&(r=o,e=lh(t,o))),e===1))throw n=El,fi(t,0),pr(t,r),kt(t,Pe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:Zr(t,xt,Un);break;case 3:if(pr(t,r),(r&130023424)===r&&(e=og+500-Pe(),10<e)){if(Cu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jp(Zr.bind(null,t,xt,Un),e);break}Zr(t,xt,Un);break;case 4:if(pr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-pn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*S7(r/1960))-r,10<r){t.timeoutHandle=jp(Zr.bind(null,t,xt,Un),r);break}Zr(t,xt,Un);break;case 5:Zr(t,xt,Un);break;default:throw Error(D(329))}}}return kt(t,Pe()),t.callbackNode===n?NC.bind(null,t):null}function lh(t,e){var n=qs;return t.current.memoizedState.isDehydrated&&(fi(t,e).flags|=256),t=ju(t,e),t!==2&&(e=xt,xt=n,e!==null&&ah(e)),t}function ah(t){xt===null?xt=t:xt.push.apply(xt,t)}function b7(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!gn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pr(t,e){for(e&=~ig,e&=~Bc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pn(e),r=1<<n;t[n]=-1,e&=~r}}function l1(t){if(se&6)throw Error(D(327));Eo();var e=Cu(t,0);if(!(e&1))return kt(t,Pe()),null;var n=ju(t,e);if(t.tag!==0&&n===2){var r=Np(t);r!==0&&(e=r,n=lh(t,r))}if(n===1)throw n=El,fi(t,0),pr(t,e),kt(t,Pe()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Zr(t,xt,Un),kt(t,Pe()),null}function sg(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(Bo=Pe()+500,Dc&&Vr())}}function Oi(t){vr!==null&&vr.tag===0&&!(se&6)&&Eo();var e=se;se|=1;var n=Qt.transition,r=de;try{if(Qt.transition=null,de=1,t)return t()}finally{de=r,Qt.transition=n,se=e,!(se&6)&&Vr()}}function lg(){Mt=ho.current,Ee(ho)}function fi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,J8(n)),_e!==null)for(n=_e.return;n!==null;){var r=n;switch(jm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ku();break;case 3:Lo(),Ee(Ot),Ee(at),Jm();break;case 5:Ym(r);break;case 4:Lo();break;case 13:Ee(Te);break;case 19:Ee(Te);break;case 10:Hm(r.type._context);break;case 22:case 23:lg()}n=n.return}if(je=t,_e=t=Ar(t.current,null),Je=Mt=e,Ie=0,El=null,ig=Bc=Ti=0,xt=qs=null,ii!==null){for(e=0;e<ii.length;e++)if(n=ii[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ii=null}return t}function IC(t,e){do{var n=_e;try{if(Vm(),Ya.current=Lu,Ru){for(var r=Oe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ru=!1}if(xi=0,Be=Ne=Oe=null,Ks=!1,Sl=0,rg.current=null,n===null||n.return===null){Ie=1,El=e,_e=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=Je,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=q0(s);if(p!==null){p.flags&=-257,Y0(p,s,l,o,e),p.mode&1&&G0(o,u,e),e=p,a=u;var h=e.updateQueue;if(h===null){var v=new Set;v.add(a),e.updateQueue=v}else h.add(a);break e}else{if(!(e&1)){G0(o,u,e),ag();break e}a=Error(D(426))}}else if(Ce&&l.mode&1){var S=q0(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Y0(S,s,l,o,e),Um(Fo(a,l));break e}}o=a=Fo(a,l),Ie!==4&&(Ie=2),qs===null?qs=[o]:qs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=yC(o,a,e);z0(o,m);break e;case 1:l=a;var y=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&($r===null||!$r.has(g)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=vC(o,l,e);z0(o,w);break e}}o=o.return}while(o!==null)}LC(n)}catch(C){e=C,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function DC(){var t=Fu.current;return Fu.current=Lu,t===null?Lu:t}function ag(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),je===null||!(Ti&268435455)&&!(Bc&268435455)||pr(je,Je)}function ju(t,e){var n=se;se|=2;var r=DC();(je!==t||Je!==e)&&(Un=null,fi(t,e));do try{w7();break}catch(i){IC(t,i)}while(!0);if(Vm(),se=n,Fu.current=r,_e!==null)throw Error(D(261));return je=null,Je=0,Ie}function w7(){for(;_e!==null;)RC(_e)}function E7(){for(;_e!==null&&!G5();)RC(_e)}function RC(t){var e=BC(t.alternate,t,Mt);t.memoizedProps=t.pendingProps,e===null?LC(t):_e=e,rg.current=null}function LC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=m7(n,e),n!==null){n.flags&=32767,_e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ie=6,_e=null;return}}else if(n=h7(n,e,Mt),n!==null){_e=n;return}if(e=e.sibling,e!==null){_e=e;return}_e=e=t}while(e!==null);Ie===0&&(Ie=5)}function Zr(t,e,n){var r=de,i=Qt.transition;try{Qt.transition=null,de=1,C7(t,e,n,r)}finally{Qt.transition=i,de=r}return null}function C7(t,e,n,r){do Eo();while(vr!==null);if(se&6)throw Error(D(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(r8(t,o),t===je&&(_e=je=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$a||($a=!0,zC(Eu,function(){return Eo(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Qt.transition,Qt.transition=null;var s=de;de=1;var l=se;se|=4,rg.current=null,y7(t,n),_C(n,t),W8(Bp),xu=!!Fp,Bp=Fp=null,t.current=n,v7(n),q5(),se=l,de=s,Qt.transition=o}else t.current=n;if($a&&($a=!1,vr=t,zu=i),o=t.pendingLanes,o===0&&($r=null),Q5(n.stateNode),kt(t,Pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bu)throw Bu=!1,t=oh,oh=null,t;return zu&1&&t.tag!==0&&Eo(),o=t.pendingLanes,o&1?t===sh?Ys++:(Ys=0,sh=t):Ys=0,Vr(),null}function Eo(){if(vr!==null){var t=gE(zu),e=Qt.transition,n=de;try{if(Qt.transition=null,de=16>t?16:t,vr===null)var r=!1;else{if(t=vr,vr=null,zu=0,se&6)throw Error(D(331));var i=se;for(se|=4,j=t.current;j!==null;){var o=j,s=o.child;if(j.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:Gs(8,c,o)}var f=c.child;if(f!==null)f.return=c,j=f;else for(;j!==null;){c=j;var d=c.sibling,p=c.return;if(kC(c),c===u){j=null;break}if(d!==null){d.return=p,j=d;break}j=p}}}var h=o.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}j=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,j=s;else e:for(;j!==null;){if(o=j,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Gs(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,j=m;break e}j=o.return}}var y=t.current;for(j=y;j!==null;){s=j;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,j=g;else e:for(s=y;j!==null;){if(l=j,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fc(9,l)}}catch(C){ke(l,l.return,C)}if(l===s){j=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,j=w;break e}j=l.return}}if(se=i,Vr(),Pn&&typeof Pn.onPostCommitFiberRoot=="function")try{Pn.onPostCommitFiberRoot(Pc,t)}catch{}r=!0}return r}finally{de=n,Qt.transition=e}}return!1}function a1(t,e,n){e=Fo(n,e),e=yC(t,e,1),t=Or(t,e,1),e=pt(),t!==null&&(Hl(t,1,e),kt(t,e))}function ke(t,e,n){if(t.tag===3)a1(t,t,n);else for(;e!==null;){if(e.tag===3){a1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($r===null||!$r.has(r))){t=Fo(n,t),t=vC(e,t,1),e=Or(e,t,1),t=pt(),e!==null&&(Hl(e,1,t),kt(e,t));break}}e=e.return}}function x7(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=pt(),t.pingedLanes|=t.suspendedLanes&n,je===t&&(Je&n)===n&&(Ie===4||Ie===3&&(Je&130023424)===Je&&500>Pe()-og?fi(t,0):ig|=n),kt(t,e)}function FC(t,e){e===0&&(t.mode&1?(e=ya,ya<<=1,!(ya&130023424)&&(ya=4194304)):e=1);var n=pt();t=er(t,e),t!==null&&(Hl(t,e,n),kt(t,n))}function T7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),FC(t,n)}function O7(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),FC(t,n)}var BC;BC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ot.current)Tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tt=!1,p7(t,e,n);Tt=!!(t.flags&131072)}else Tt=!1,Ce&&e.flags&1048576&&UE(e,_u,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qa(t,e),t=e.pendingProps;var i=Io(e,at.current);wo(e,n),i=Xm(null,e,r,t,i,n);var o=Zm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(r)?(o=!0,Au(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gm(e),i.updater=Rc,e.stateNode=i,i._reactInternals=e,qp(e,r,t,n),e=Qp(null,e,r,!0,o,n)):(e.tag=0,Ce&&o&&zm(e),ct(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qa(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=k7(r),t=sn(r,t),i){case 0:e=Jp(null,e,r,t,n);break e;case 1:e=X0(null,e,r,t,n);break e;case 11:e=J0(null,e,r,t,n);break e;case 14:e=Q0(null,e,r,sn(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),Jp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),X0(t,e,r,i,n);case 3:e:{if(EC(e),t===null)throw Error(D(387));r=e.pendingProps,o=e.memoizedState,i=o.element,KE(t,e),Iu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Fo(Error(D(423)),e),e=Z0(t,e,r,n,i);break e}else if(r!==i){i=Fo(Error(D(424)),e),e=Z0(t,e,r,n,i);break e}else for(It=Tr(e.stateNode.containerInfo.firstChild),Dt=e,Ce=!0,an=null,n=JE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Do(),r===i){e=tr(t,e,n);break e}ct(t,e,r,n)}e=e.child}return e;case 5:return QE(e),t===null&&Hp(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,zp(r,i)?s=null:o!==null&&zp(r,o)&&(e.flags|=32),wC(t,e),ct(t,e,s,n),e.child;case 6:return t===null&&Hp(e),null;case 13:return CC(t,e,n);case 4:return qm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ro(e,null,r,n):ct(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),J0(t,e,r,i,n);case 7:return ct(t,e,e.pendingProps,n),e.child;case 8:return ct(t,e,e.pendingProps.children,n),e.child;case 12:return ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Se(Mu,r._currentValue),r._currentValue=s,o!==null)if(gn(o.value,s)){if(o.children===i.children&&!Ot.current){e=tr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Jn(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Kp(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(D(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Kp(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ct(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wo(e,n),i=Zt(i),r=r(i),e.flags|=1,ct(t,e,r,n),e.child;case 14:return r=e.type,i=sn(r,e.pendingProps),i=sn(r.type,i),Q0(t,e,r,i,n);case 15:return SC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),Qa(t,e),e.tag=1,$t(r)?(t=!0,Au(e)):t=!1,wo(e,n),qE(e,r,i),qp(e,r,i,n),Qp(null,e,r,!0,t,n);case 19:return xC(t,e,n);case 22:return bC(t,e,n)}throw Error(D(156,e.tag))};function zC(t,e){return dE(t,e)}function $7(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,e,n,r){return new $7(t,e,n,r)}function ug(t){return t=t.prototype,!(!t||!t.isReactComponent)}function k7(t){if(typeof t=="function")return ug(t)?1:0;if(t!=null){if(t=t.$$typeof,t===km)return 11;if(t===Am)return 14}return 2}function Ar(t,e){var n=t.alternate;return n===null?(n=Jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function eu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")ug(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ro:return di(n.children,i,o,e);case $m:s=8,i|=8;break;case vp:return t=Jt(12,n,e,i|2),t.elementType=vp,t.lanes=o,t;case Sp:return t=Jt(13,n,e,i),t.elementType=Sp,t.lanes=o,t;case bp:return t=Jt(19,n,e,i),t.elementType=bp,t.lanes=o,t;case Yw:return zc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gw:s=10;break e;case qw:s=9;break e;case km:s=11;break e;case Am:s=14;break e;case ar:s=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=Jt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function di(t,e,n,r){return t=Jt(7,t,r,e),t.lanes=n,t}function zc(t,e,n,r){return t=Jt(22,t,r,e),t.elementType=Yw,t.lanes=n,t.stateNode={isHidden:!1},t}function Sd(t,e,n){return t=Jt(6,t,null,e),t.lanes=n,t}function bd(t,e,n){return e=Jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function A7(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ed(0),this.expirationTimes=ed(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ed(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function cg(t,e,n,r,i,o,s,l,a){return t=new A7(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Jt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gm(o),t}function P7(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:no,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jC(t){if(!t)return Lr;t=t._reactInternals;e:{if(Ri(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if($t(n))return zE(t,n,e)}return e}function UC(t,e,n,r,i,o,s,l,a){return t=cg(n,r,!0,t,i,o,s,l,a),t.context=jC(null),n=t.current,r=pt(),i=kr(n),o=Jn(r,i),o.callback=e??null,Or(n,o,i),t.current.lanes=i,Hl(t,i,r),kt(t,r),t}function jc(t,e,n,r){var i=e.current,o=pt(),s=kr(i);return n=jC(n),e.context===null?e.context=n:e.pendingContext=n,e=Jn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Or(i,e,s),t!==null&&(hn(t,i,s,o),qa(t,i,s)),s}function Uu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function u1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fg(t,e){u1(t,e),(t=t.alternate)&&u1(t,e)}function _7(){return null}var WC=typeof reportError=="function"?reportError:function(t){console.error(t)};function dg(t){this._internalRoot=t}Uc.prototype.render=dg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));jc(t,e,null,null)};Uc.prototype.unmount=dg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oi(function(){jc(null,t,null,null)}),e[Zn]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var e=SE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<dr.length&&e!==0&&e<dr[n].priority;n++);dr.splice(n,0,t),n===0&&wE(t)}};function pg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function c1(){}function M7(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Uu(s);o.call(u)}}var s=UC(e,r,t,0,null,!1,!1,"",c1);return t._reactRootContainer=s,t[Zn]=s.current,hl(t.nodeType===8?t.parentNode:t),Oi(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Uu(a);l.call(u)}}var a=cg(t,0,!1,null,null,!1,!1,"",c1);return t._reactRootContainer=a,t[Zn]=a.current,hl(t.nodeType===8?t.parentNode:t),Oi(function(){jc(e,a,n,r)}),a}function Vc(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=Uu(s);l.call(a)}}jc(e,s,t,i)}else s=M7(n,e,t,i,r);return Uu(s)}yE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ms(e.pendingLanes);n!==0&&(Mm(e,n|1),kt(e,Pe()),!(se&6)&&(Bo=Pe()+500,Vr()))}break;case 13:Oi(function(){var r=er(t,1);if(r!==null){var i=pt();hn(r,t,1,i)}}),fg(t,1)}};Nm=function(t){if(t.tag===13){var e=er(t,134217728);if(e!==null){var n=pt();hn(e,t,134217728,n)}fg(t,134217728)}};vE=function(t){if(t.tag===13){var e=kr(t),n=er(t,e);if(n!==null){var r=pt();hn(n,t,e,r)}fg(t,e)}};SE=function(){return de};bE=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};Pp=function(t,e,n){switch(e){case"input":if(Cp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ic(r);if(!i)throw Error(D(90));Qw(r),Cp(r,i)}}}break;case"textarea":Zw(t,n);break;case"select":e=n.value,e!=null&&yo(t,!!n.multiple,e,!1)}};sE=sg;lE=Oi;var N7={usingClientEntryPoint:!1,Events:[Gl,lo,Ic,iE,oE,sg]},$s={findFiberByHostInstance:ri,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},I7={bundleType:$s.bundleType,version:$s.version,rendererPackageName:$s.rendererPackageName,rendererConfig:$s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cE(t),t===null?null:t.stateNode},findFiberByHostInstance:$s.findFiberByHostInstance||_7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ka.isDisabled&&ka.supportsFiber)try{Pc=ka.inject(I7),Pn=ka}catch{}}Ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N7;Ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pg(e))throw Error(D(200));return P7(t,e,null,n)};Ut.createRoot=function(t,e){if(!pg(t))throw Error(D(299));var n=!1,r="",i=WC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=cg(t,1,!1,null,null,n,!1,r,i),t[Zn]=e.current,hl(t.nodeType===8?t.parentNode:t),new dg(e)};Ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=cE(e),t=t===null?null:t.stateNode,t};Ut.flushSync=function(t){return Oi(t)};Ut.hydrate=function(t,e,n){if(!Wc(e))throw Error(D(200));return Vc(null,t,e,!0,n)};Ut.hydrateRoot=function(t,e,n){if(!pg(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=WC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=UC(e,null,t,1,n??null,i,!1,o,s),t[Zn]=e.current,hl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Uc(e)};Ut.render=function(t,e,n){if(!Wc(e))throw Error(D(200));return Vc(null,t,e,!1,n)};Ut.unmountComponentAtNode=function(t){if(!Wc(t))throw Error(D(40));return t._reactRootContainer?(Oi(function(){Vc(null,null,t,!1,function(){t._reactRootContainer=null,t[Zn]=null})}),!0):!1};Ut.unstable_batchedUpdates=sg;Ut.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wc(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Vc(t,e,n,!1,r)};Ut.version="18.2.0-next-9e3b772b8-20220608";function VC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VC)}catch(t){console.error(t)}}VC(),Uw.exports=Ut;var HC=Uw.exports,D7,f1=HC;D7=f1.createRoot,f1.hydrateRoot;var KC={exports:{}},GC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zo=_;function R7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var L7=typeof Object.is=="function"?Object.is:R7,F7=zo.useState,B7=zo.useEffect,z7=zo.useLayoutEffect,j7=zo.useDebugValue;function U7(t,e){var n=e(),r=F7({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return z7(function(){i.value=n,i.getSnapshot=e,wd(i)&&o({inst:i})},[t,n,e]),B7(function(){return wd(i)&&o({inst:i}),t(function(){wd(i)&&o({inst:i})})},[t]),j7(n),n}function wd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!L7(t,n)}catch{return!0}}function W7(t,e){return e()}var V7=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?W7:U7;GC.useSyncExternalStore=zo.useSyncExternalStore!==void 0?zo.useSyncExternalStore:V7;KC.exports=GC;var hg=KC.exports,qC={exports:{}},YC={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc=_,H7=hg;function K7(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var G7=typeof Object.is=="function"?Object.is:K7,q7=H7.useSyncExternalStore,Y7=Hc.useRef,J7=Hc.useEffect,Q7=Hc.useMemo,X7=Hc.useDebugValue;YC.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=Y7(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=Q7(function(){function a(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var h=s.value;if(i(h,p))return f=h}return f=p}if(h=f,G7(c,p))return h;var v=r(p);return i!==void 0&&i(h,v)?h:(c=p,f=v)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return a(e())},d===null?void 0:function(){return a(d())}]},[e,n,r,i]);var l=q7(t,o[0],o[1]);return J7(function(){s.hasValue=!0,s.value=l},[l]),X7(l),l};qC.exports=YC;var Z7=qC.exports;function e9(t){t()}let JC=e9;const t9=t=>JC=t,n9=()=>JC,d1=Symbol.for("react-redux-context"),p1=typeof globalThis<"u"?globalThis:{};function r9(){var t;if(!_.createContext)return{};const e=(t=p1[d1])!=null?t:p1[d1]=new Map;let n=e.get(_.createContext);return n||(n=_.createContext(null),e.set(_.createContext,n)),n}const Cl=r9();function QC(t=Cl){return function(){return _.useContext(t)}}const i9=QC(),XC=()=>{throw new Error("uSES not initialized!")};let ZC=XC;const o9=t=>{ZC=t},s9=(t,e)=>t===e;function l9(t=Cl){const e=t===Cl?i9:QC(t);return function(r,i={}){const{equalityFn:o=s9,stabilityCheck:s=void 0,noopCheck:l=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:u,getServerState:c,stabilityCheck:f,noopCheck:d}=e();_.useRef(!0);const p=_.useCallback({[r.name](v){return r(v)}}[r.name],[r,f,s]),h=ZC(u.addNestedSub,a.getState,c||a.getState,p,o);return _.useDebugValue(h),h}}const oZ=l9();function Co(){return Co=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Co.apply(this,arguments)}function ex(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var tx={exports:{}},pe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ve=typeof Symbol=="function"&&Symbol.for,mg=Ve?Symbol.for("react.element"):60103,gg=Ve?Symbol.for("react.portal"):60106,Kc=Ve?Symbol.for("react.fragment"):60107,Gc=Ve?Symbol.for("react.strict_mode"):60108,qc=Ve?Symbol.for("react.profiler"):60114,Yc=Ve?Symbol.for("react.provider"):60109,Jc=Ve?Symbol.for("react.context"):60110,yg=Ve?Symbol.for("react.async_mode"):60111,Qc=Ve?Symbol.for("react.concurrent_mode"):60111,Xc=Ve?Symbol.for("react.forward_ref"):60112,Zc=Ve?Symbol.for("react.suspense"):60113,a9=Ve?Symbol.for("react.suspense_list"):60120,ef=Ve?Symbol.for("react.memo"):60115,tf=Ve?Symbol.for("react.lazy"):60116,u9=Ve?Symbol.for("react.block"):60121,c9=Ve?Symbol.for("react.fundamental"):60117,f9=Ve?Symbol.for("react.responder"):60118,d9=Ve?Symbol.for("react.scope"):60119;function Vt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case mg:switch(t=t.type,t){case yg:case Qc:case Kc:case qc:case Gc:case Zc:return t;default:switch(t=t&&t.$$typeof,t){case Jc:case Xc:case tf:case ef:case Yc:return t;default:return e}}case gg:return e}}}function nx(t){return Vt(t)===Qc}pe.AsyncMode=yg;pe.ConcurrentMode=Qc;pe.ContextConsumer=Jc;pe.ContextProvider=Yc;pe.Element=mg;pe.ForwardRef=Xc;pe.Fragment=Kc;pe.Lazy=tf;pe.Memo=ef;pe.Portal=gg;pe.Profiler=qc;pe.StrictMode=Gc;pe.Suspense=Zc;pe.isAsyncMode=function(t){return nx(t)||Vt(t)===yg};pe.isConcurrentMode=nx;pe.isContextConsumer=function(t){return Vt(t)===Jc};pe.isContextProvider=function(t){return Vt(t)===Yc};pe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===mg};pe.isForwardRef=function(t){return Vt(t)===Xc};pe.isFragment=function(t){return Vt(t)===Kc};pe.isLazy=function(t){return Vt(t)===tf};pe.isMemo=function(t){return Vt(t)===ef};pe.isPortal=function(t){return Vt(t)===gg};pe.isProfiler=function(t){return Vt(t)===qc};pe.isStrictMode=function(t){return Vt(t)===Gc};pe.isSuspense=function(t){return Vt(t)===Zc};pe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Kc||t===Qc||t===qc||t===Gc||t===Zc||t===a9||typeof t=="object"&&t!==null&&(t.$$typeof===tf||t.$$typeof===ef||t.$$typeof===Yc||t.$$typeof===Jc||t.$$typeof===Xc||t.$$typeof===c9||t.$$typeof===f9||t.$$typeof===d9||t.$$typeof===u9)};pe.typeOf=Vt;tx.exports=pe;var p9=tx.exports,vg=p9,h9={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},m9={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},g9={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},rx={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Sg={};Sg[vg.ForwardRef]=g9;Sg[vg.Memo]=rx;function h1(t){return vg.isMemo(t)?rx:Sg[t.$$typeof]||h9}var y9=Object.defineProperty,v9=Object.getOwnPropertyNames,m1=Object.getOwnPropertySymbols,S9=Object.getOwnPropertyDescriptor,b9=Object.getPrototypeOf,g1=Object.prototype;function ix(t,e,n){if(typeof e!="string"){if(g1){var r=b9(e);r&&r!==g1&&ix(t,r,n)}var i=v9(e);m1&&(i=i.concat(m1(e)));for(var o=h1(t),s=h1(e),l=0;l<i.length;++l){var a=i[l];if(!m9[a]&&!(n&&n[a])&&!(s&&s[a])&&!(o&&o[a])){var u=S9(e,a);try{y9(t,a,u)}catch{}}}}return t}var w9=ix;const y1=xe(w9);var ox={exports:{}},he={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg=Symbol.for("react.element"),wg=Symbol.for("react.portal"),nf=Symbol.for("react.fragment"),rf=Symbol.for("react.strict_mode"),of=Symbol.for("react.profiler"),sf=Symbol.for("react.provider"),lf=Symbol.for("react.context"),E9=Symbol.for("react.server_context"),af=Symbol.for("react.forward_ref"),uf=Symbol.for("react.suspense"),cf=Symbol.for("react.suspense_list"),ff=Symbol.for("react.memo"),df=Symbol.for("react.lazy"),C9=Symbol.for("react.offscreen"),sx;sx=Symbol.for("react.module.reference");function nn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bg:switch(t=t.type,t){case nf:case of:case rf:case uf:case cf:return t;default:switch(t=t&&t.$$typeof,t){case E9:case lf:case af:case df:case ff:case sf:return t;default:return e}}case wg:return e}}}he.ContextConsumer=lf;he.ContextProvider=sf;he.Element=bg;he.ForwardRef=af;he.Fragment=nf;he.Lazy=df;he.Memo=ff;he.Portal=wg;he.Profiler=of;he.StrictMode=rf;he.Suspense=uf;he.SuspenseList=cf;he.isAsyncMode=function(){return!1};he.isConcurrentMode=function(){return!1};he.isContextConsumer=function(t){return nn(t)===lf};he.isContextProvider=function(t){return nn(t)===sf};he.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bg};he.isForwardRef=function(t){return nn(t)===af};he.isFragment=function(t){return nn(t)===nf};he.isLazy=function(t){return nn(t)===df};he.isMemo=function(t){return nn(t)===ff};he.isPortal=function(t){return nn(t)===wg};he.isProfiler=function(t){return nn(t)===of};he.isStrictMode=function(t){return nn(t)===rf};he.isSuspense=function(t){return nn(t)===uf};he.isSuspenseList=function(t){return nn(t)===cf};he.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===nf||t===of||t===rf||t===uf||t===cf||t===C9||typeof t=="object"&&t!==null&&(t.$$typeof===df||t.$$typeof===ff||t.$$typeof===sf||t.$$typeof===lf||t.$$typeof===af||t.$$typeof===sx||t.getModuleId!==void 0)};he.typeOf=nn;ox.exports=he;var x9=ox.exports;const T9=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function O9(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let l=!1,a,u,c,f,d;function p(y,g){return a=y,u=g,c=t(a,u),f=e(r,u),d=n(c,f,u),l=!0,d}function h(){return c=t(a,u),e.dependsOnOwnProps&&(f=e(r,u)),d=n(c,f,u),d}function v(){return t.dependsOnOwnProps&&(c=t(a,u)),e.dependsOnOwnProps&&(f=e(r,u)),d=n(c,f,u),d}function S(){const y=t(a,u),g=!s(y,c);return c=y,g&&(d=n(c,f,u)),d}function m(y,g){const w=!o(g,u),C=!i(y,a,g,u);return a=y,u=g,w&&C?h():w?v():C?S():d}return function(g,w){return l?m(g,w):p(g,w)}}function $9(t,e){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=e,o=ex(e,T9);const s=n(t,o),l=r(t,o),a=i(t,o);return O9(s,l,a,t,o)}function k9(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...o)=>e(i(...o)))}return n}function uh(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function v1(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function lx(t,e){return function(r,{displayName:i}){const o=function(l,a){return o.dependsOnOwnProps?o.mapToProps(l,a):o.mapToProps(l,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(l,a){o.mapToProps=t,o.dependsOnOwnProps=v1(t);let u=o(l,a);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=v1(u),u=o(l,a)),u},o}}function Eg(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function A9(t){return t&&typeof t=="object"?uh(e=>k9(t,e)):t?typeof t=="function"?lx(t):Eg(t,"mapDispatchToProps"):uh(e=>({dispatch:e}))}function P9(t){return t?typeof t=="function"?lx(t):Eg(t,"mapStateToProps"):uh(()=>({}))}function _9(t,e,n){return Co({},n,t,e)}function M9(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(a,u,c){const f=t(a,u,c);return o?i(f,s)||(s=f):(o=!0,s=f),s}}}function N9(t){return t?typeof t=="function"?M9(t):Eg(t,"mergeProps"):()=>_9}function I9(){const t=n9();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const S1={notify(){},get:()=>[]};function ax(t,e){let n,r=S1,i=0,o=!1;function s(v){c();const S=r.subscribe(v);let m=!1;return()=>{m||(m=!0,S(),f())}}function l(){r.notify()}function a(){h.onStateChange&&h.onStateChange()}function u(){return o}function c(){i++,n||(n=e?e.addNestedSub(a):t.subscribe(a),r=I9())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=S1)}function d(){o||(o=!0,c())}function p(){o&&(o=!1,f())}const h={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:u,trySubscribe:d,tryUnsubscribe:p,getListeners:()=>r};return h}const D9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wu=D9?_.useLayoutEffect:_.useEffect;function b1(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Ed(t,e){if(b1(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!b1(t[n[i]],e[n[i]]))return!1;return!0}const R9=["reactReduxForwardedRef"];let ux=XC;const L9=t=>{ux=t},F9=[null,null];function B9(t,e,n){Wu(()=>t(...e),n)}function z9(t,e,n,r,i,o){t.current=r,n.current=!1,i.current&&(i.current=null,o())}function j9(t,e,n,r,i,o,s,l,a,u,c){if(!t)return()=>{};let f=!1,d=null;const p=()=>{if(f||!l.current)return;const v=e.getState();let S,m;try{S=r(v,i.current)}catch(y){m=y,d=y}m||(d=null),S===o.current?s.current||u():(o.current=S,a.current=S,s.current=!0,c())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}function U9(t,e){return t===e}function sZ(t,e,n,{pure:r,areStatesEqual:i=U9,areOwnPropsEqual:o=Ed,areStatePropsEqual:s=Ed,areMergedPropsEqual:l=Ed,forwardRef:a=!1,context:u=Cl}={}){const c=u,f=P9(t),d=A9(e),p=N9(n),h=!!t;return S=>{const m=S.displayName||S.name||"Component",y=`Connect(${m})`,g={shouldHandleStateChanges:h,displayName:y,wrappedComponentName:m,WrappedComponent:S,initMapStateToProps:f,initMapDispatchToProps:d,initMergeProps:p,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:l};function w(P){const[b,A,I]=_.useMemo(()=>{const{reactReduxForwardedRef:wt}=P,Rn=ex(P,R9);return[P.context,wt,Rn]},[P]),M=_.useMemo(()=>b&&b.Consumer&&x9.isContextConsumer(_.createElement(b.Consumer,null))?b:c,[b,c]),$=_.useContext(M),T=!!P.store&&!!P.store.getState&&!!P.store.dispatch,k=!!$&&!!$.store,U=T?P.store:$.store,ie=k?$.getServerState:U.getState,De=_.useMemo(()=>$9(U.dispatch,g),[U]),[B,W]=_.useMemo(()=>{if(!h)return F9;const wt=ax(U,T?void 0:$.subscription),Rn=wt.notifyNestedSubs.bind(wt);return[wt,Rn]},[U,T,$]),q=_.useMemo(()=>T?$:Co({},$,{subscription:B}),[T,$,B]),Y=_.useRef(),ce=_.useRef(I),L=_.useRef(),Q=_.useRef(!1);_.useRef(!1);const X=_.useRef(!1),Ae=_.useRef();Wu(()=>(X.current=!0,()=>{X.current=!1}),[]);const ge=_.useMemo(()=>()=>L.current&&I===ce.current?L.current:De(U.getState(),I),[U,I]),Dn=_.useMemo(()=>Rn=>B?j9(h,U,B,De,ce,Y,Q,X,L,W,Rn):()=>{},[B]);B9(z9,[ce,Y,Q,I,L,W]);let Sn;try{Sn=ux(Dn,ge,ie?()=>De(ie(),I):ge)}catch(wt){throw Ae.current&&(wt.message+=`
The error may be correlated with this previous error:
${Ae.current.stack}

`),wt}Wu(()=>{Ae.current=void 0,L.current=void 0,Y.current=Sn});const Pt=_.useMemo(()=>_.createElement(S,Co({},Sn,{ref:A})),[A,S,Sn]);return _.useMemo(()=>h?_.createElement(M.Provider,{value:q},Pt):Pt,[M,Pt,q])}const x=_.memo(w);if(x.WrappedComponent=S,x.displayName=w.displayName=y,a){const b=_.forwardRef(function(I,M){return _.createElement(x,Co({},I,{reactReduxForwardedRef:M}))});return b.displayName=y,b.WrappedComponent=S,y1(b,S)}return y1(x,S)}}function lZ({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const s=_.useMemo(()=>{const u=ax(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[t,r,i,o]),l=_.useMemo(()=>t.getState(),[t]);Wu(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,l]);const a=e||Cl;return _.createElement(a.Provider,{value:s},n)}o9(Z7.useSyncExternalStoreWithSelector);L9(hg.useSyncExternalStore);t9(HC.unstable_batchedUpdates);var cx={exports:{}},W9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",V9=W9,H9=V9;function fx(){}function dx(){}dx.resetWarningCache=fx;var K9=function(){function t(r,i,o,s,l,a){if(a!==H9){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:dx,resetWarningCache:fx};return n.PropTypes=n,n};cx.exports=K9();var G9=cx.exports;const aZ=xe(G9),Vu={prefix:String(Math.round(Math.random()*1e10)),current:0},px=We.createContext(Vu),q9=We.createContext(!1);let Y9=!!(typeof window<"u"&&window.document&&window.document.createElement),Cd=new WeakMap;function J9(t=!1){let e=_.useContext(px),n=_.useRef(null);if(n.current===null&&!t){var r,i;let o=(i=We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let s=Cd.get(o);s==null?Cd.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==s.state&&(e.current=s.id,Cd.delete(o))}n.current=++e.current}return n.current}function Q9(t){let e=_.useContext(px);e===Vu&&!Y9&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=J9(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function X9(t){let e=We.useId(),[n]=_.useState(hx()),r=n?"react-aria":`react-aria${Vu.prefix}`;return t||`${r}-${e}`}We.useId;function Z9(){return!1}function ej(){return!0}function tj(t){return()=>{}}function hx(){return typeof We.useSyncExternalStore=="function"?We.useSyncExternalStore(tj,Z9,ej):_.useContext(q9)}function mx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=mx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nj(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=mx(t))&&(r&&(r+=" "),r+=e);return r}const Cg=typeof document<"u"?We.useLayoutEffect:()=>{};function Xi(t){const e=_.useRef(null);return Cg(()=>{e.current=t},[t]),_.useCallback((...n)=>{const r=e.current;return r==null?void 0:r(...n)},[])}let w1=new Map;function rj(t,e){if(t===e)return t;let n=w1.get(t);if(n)return n(e),e;let r=w1.get(e);return r?(r(t),t):e}function gx(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}const Yt=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},kn=t=>t&&"window"in t&&t.window===t?t:Yt(t).defaultView||window;function Fr(...t){let e={...t[0]};for(let n=1;n<t.length;n++){let r=t[n];for(let i in r){let o=e[i],s=r[i];typeof o=="function"&&typeof s=="function"&&i[0]==="o"&&i[1]==="n"&&i.charCodeAt(2)>=65&&i.charCodeAt(2)<=90?e[i]=gx(o,s):(i==="className"||i==="UNSAFE_className")&&typeof o=="string"&&typeof s=="string"?e[i]=nj(o,s):i==="id"&&o&&s?e.id=rj(o,s):e[i]=s!==void 0?s:o}}return e}function ij(...t){return t.length===1?t[0]:e=>{for(let n of t)typeof n=="function"?n(e):n!=null&&(n.current=e)}}const oj=new Set(["id"]),sj=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),lj=new Set(["href","target","rel","download","ping","referrerPolicy"]),aj=/^(data-.*)$/;function yx(t,e={}){let{labelable:n,isLink:r,propNames:i}=e,o={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(oj.has(s)||n&&sj.has(s)||r&&lj.has(s)||i!=null&&i.has(s)||aj.test(s))&&(o[s]=t[s]);return o}function si(t){if(uj())t.focus({preventScroll:!0});else{let e=cj(t);t.focus(),fj(e)}}let Aa=null;function uj(){if(Aa==null){Aa=!1;try{document.createElement("div").focus({get preventScroll(){return Aa=!0,!0}})}catch{}}return Aa}function cj(t){let e=t.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==r;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&n.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function fj(t){for(let{element:e,scrollTop:n,scrollLeft:r}of t)e.scrollTop=n,e.scrollLeft=r}function pf(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function xg(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function xl(){return xg(/^Mac/i)}function dj(){return xg(/^iPhone/i)}function vx(){return xg(/^iPad/i)||xl()&&navigator.maxTouchPoints>1}function Sx(){return dj()||vx()}function pj(){return pf(/AppleWebKit/i)&&!hj()}function hj(){return pf(/Chrome/i)}function bx(){return pf(/Android/i)}function mj(){return pf(/Firefox/i)}function Tl(t,e,n=!0){var r,i;let{metaKey:o,ctrlKey:s,altKey:l,shiftKey:a}=e;mj()&&(!((i=window.event)===null||i===void 0||(r=i.type)===null||r===void 0)&&r.startsWith("key"))&&t.target==="_blank"&&(xl()?o=!0:s=!0);let u=pj()&&xl()&&!vx()?new KeyboardEvent("keydown",{keyIdentifier:"Enter",metaKey:o,ctrlKey:s,altKey:l,shiftKey:a}):new MouseEvent("click",{metaKey:o,ctrlKey:s,altKey:l,shiftKey:a,bubbles:!0,cancelable:!0});Tl.isOpening=n,si(t),t.dispatchEvent(u),Tl.isOpening=!1}Tl.isOpening=!1;let Zi=new Map,ch=new Set;function E1(){if(typeof window>"u")return;function t(r){return"propertyName"in r}let e=r=>{if(!t(r)||!r.target)return;let i=Zi.get(r.target);i||(i=new Set,Zi.set(r.target,i),r.target.addEventListener("transitioncancel",n,{once:!0})),i.add(r.propertyName)},n=r=>{if(!t(r)||!r.target)return;let i=Zi.get(r.target);if(i&&(i.delete(r.propertyName),i.size===0&&(r.target.removeEventListener("transitioncancel",n),Zi.delete(r.target)),Zi.size===0)){for(let o of ch)o();ch.clear()}};document.body.addEventListener("transitionrun",e),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?E1():document.addEventListener("DOMContentLoaded",E1));function wx(t){requestAnimationFrame(()=>{Zi.size===0?t():ch.add(t)})}function gj(){let t=_.useRef(new Map),e=_.useCallback((i,o,s,l)=>{let a=l!=null&&l.once?(...u)=>{t.current.delete(s),s(...u)}:s;t.current.set(s,{type:o,eventTarget:i,fn:a,options:l}),i.addEventListener(o,s,l)},[]),n=_.useCallback((i,o,s,l)=>{var a;let u=((a=t.current.get(s))===null||a===void 0?void 0:a.fn)||s;i.removeEventListener(o,u,l),t.current.delete(s)},[]),r=_.useCallback(()=>{t.current.forEach((i,o)=>{n(i.eventTarget,i.type,o,i.options)})},[n]);return _.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}function yj(t){const e=_.useRef(null);return _.useMemo(()=>({get current(){return e.current},set current(n){e.current=n,typeof t=="function"?t(n):t&&(t.current=n)}}),[t])}function Ex(t,e){Cg(()=>{if(t&&t.ref&&e)return t.ref.current=e.current,()=>{t.ref&&(t.ref.current=null)}})}function fh(t){return t.mozInputSource===0&&t.isTrusted?!0:bx()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function vj(t){return!bx()&&t.width===0&&t.height===0||t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"}function Sj(t,e){return e.get?e.get.call(t):e.value}function Cx(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function bj(t,e){var n=Cx(t,e,"get");return Sj(t,n)}function wj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Ej(t,e,n){wj(t,e),e.set(t,n)}function Cj(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}function C1(t,e,n){var r=Cx(t,e,"set");return Cj(t,r,n),n}let mo="default",dh="",tu=new WeakMap;function x1(t){if(Sx()){if(mo==="default"){const e=Yt(t);dh=e.documentElement.style.webkitUserSelect,e.documentElement.style.webkitUserSelect="none"}mo="disabled"}else(t instanceof HTMLElement||t instanceof SVGElement)&&(tu.set(t,t.style.userSelect),t.style.userSelect="none")}function Pa(t){if(Sx()){if(mo!=="disabled")return;mo="restoring",setTimeout(()=>{wx(()=>{if(mo==="restoring"){const e=Yt(t);e.documentElement.style.webkitUserSelect==="none"&&(e.documentElement.style.webkitUserSelect=dh||""),dh="",mo="default"}})},300)}else if((t instanceof HTMLElement||t instanceof SVGElement)&&t&&tu.has(t)){let e=tu.get(t);t.style.userSelect==="none"&&(t.style.userSelect=e),t.getAttribute("style")===""&&t.removeAttribute("style"),tu.delete(t)}}const xx=We.createContext({register:()=>{}});xx.displayName="PressResponderContext";function xj(t){let e=_.useContext(xx);if(e){let{register:n,...r}=e;t=Fr(r,t),n()}return Ex(e,t.ref),t}var _a=new WeakMap;class Ma{continuePropagation(){C1(this,_a,!1)}get shouldStopPropagation(){return bj(this,_a)}constructor(e,n,r){Ej(this,_a,{writable:!0,value:void 0}),C1(this,_a,!0),this.type=e,this.pointerType=n,this.target=r.currentTarget,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.ctrlKey=r.ctrlKey,this.altKey=r.altKey}}const T1=Symbol("linkClicked");function Tj(t){let{onPress:e,onPressChange:n,onPressStart:r,onPressEnd:i,onPressUp:o,isDisabled:s,isPressed:l,preventFocusOnPress:a,shouldCancelOnPointerExit:u,allowTextSelectionOnPress:c,ref:f,...d}=xj(t),[p,h]=_.useState(!1),v=_.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,isTriggeringEvent:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:S,removeAllGlobalListeners:m}=gj(),y=Xi((b,A)=>{let I=v.current;if(s||I.didFirePressStart)return!1;let M=!0;if(I.isTriggeringEvent=!0,r){let $=new Ma("pressstart",A,b);r($),M=$.shouldStopPropagation}return n&&n(!0),I.isTriggeringEvent=!1,I.didFirePressStart=!0,h(!0),M}),g=Xi((b,A,I=!0)=>{let M=v.current;if(!M.didFirePressStart)return!1;M.ignoreClickAfterPress=!0,M.didFirePressStart=!1,M.isTriggeringEvent=!0;let $=!0;if(i){let T=new Ma("pressend",A,b);i(T),$=T.shouldStopPropagation}if(n&&n(!1),h(!1),e&&I&&!s){let T=new Ma("press",A,b);e(T),$&&($=T.shouldStopPropagation)}return M.isTriggeringEvent=!1,$}),w=Xi((b,A)=>{let I=v.current;if(s)return!1;if(o){I.isTriggeringEvent=!0;let M=new Ma("pressup",A,b);return o(M),I.isTriggeringEvent=!1,M.shouldStopPropagation}return!0}),C=Xi(b=>{let A=v.current;A.isPressed&&A.target&&(A.isOverTarget&&A.pointerType!=null&&g(Bn(A.target,b),A.pointerType,!1),A.isPressed=!1,A.isOverTarget=!1,A.activePointerId=null,A.pointerType=null,m(),c||Pa(A.target))}),x=Xi(b=>{u&&C(b)}),P=_.useMemo(()=>{let b=v.current,A={onKeyDown(M){if(xd(M.nativeEvent,M.currentTarget)&&M.currentTarget.contains(M.target)){var $;$1(M.target,M.key)&&M.preventDefault();let T=!0;if(!b.isPressed&&!M.repeat){b.target=M.currentTarget,b.isPressed=!0,T=y(M,"keyboard");let k=M.currentTarget,U=ie=>{xd(ie,k)&&!ie.repeat&&k.contains(ie.target)&&b.target&&w(Bn(b.target,ie),"keyboard")};S(Yt(M.currentTarget),"keyup",gx(U,I),!0)}T&&M.stopPropagation(),M.metaKey&&xl()&&(($=b.metaKeyEvents)===null||$===void 0||$.set(M.key,M.nativeEvent))}else M.key==="Meta"&&(b.metaKeyEvents=new Map)},onClick(M){if(!(M&&!M.currentTarget.contains(M.target))&&M&&M.button===0&&!b.isTriggeringEvent&&!Tl.isOpening){let $=!0;if(s&&M.preventDefault(),!b.ignoreClickAfterPress&&!b.ignoreEmulatedMouseEvents&&!b.isPressed&&(b.pointerType==="virtual"||fh(M.nativeEvent))){!s&&!a&&si(M.currentTarget);let T=y(M,"virtual"),k=w(M,"virtual"),U=g(M,"virtual");$=T&&k&&U}b.ignoreEmulatedMouseEvents=!1,b.ignoreClickAfterPress=!1,$&&M.stopPropagation()}}},I=M=>{var $;if(b.isPressed&&b.target&&xd(M,b.target)){var T;$1(M.target,M.key)&&M.preventDefault();let U=M.target;g(Bn(b.target,M),"keyboard",b.target.contains(U)),m(),M.key!=="Enter"&&Tg(b.target)&&b.target.contains(U)&&!M[T1]&&(M[T1]=!0,Tl(b.target,M,!1)),b.isPressed=!1,(T=b.metaKeyEvents)===null||T===void 0||T.delete(M.key)}else if(M.key==="Meta"&&(!(($=b.metaKeyEvents)===null||$===void 0)&&$.size)){var k;let U=b.metaKeyEvents;b.metaKeyEvents=void 0;for(let ie of U.values())(k=b.target)===null||k===void 0||k.dispatchEvent(new KeyboardEvent("keyup",ie))}};if(typeof PointerEvent<"u"){A.onPointerDown=k=>{if(k.button!==0||!k.currentTarget.contains(k.target))return;if(vj(k.nativeEvent)){b.pointerType="virtual";return}Td(k.currentTarget)&&k.preventDefault(),b.pointerType=k.pointerType;let U=!0;b.isPressed||(b.isPressed=!0,b.isOverTarget=!0,b.activePointerId=k.pointerId,b.target=k.currentTarget,!s&&!a&&si(k.currentTarget),c||x1(b.target),U=y(k,b.pointerType),S(Yt(k.currentTarget),"pointermove",M,!1),S(Yt(k.currentTarget),"pointerup",$,!1),S(Yt(k.currentTarget),"pointercancel",T,!1)),U&&k.stopPropagation()},A.onMouseDown=k=>{k.currentTarget.contains(k.target)&&k.button===0&&(Td(k.currentTarget)&&k.preventDefault(),k.stopPropagation())},A.onPointerUp=k=>{!k.currentTarget.contains(k.target)||b.pointerType==="virtual"||k.button===0&&Hi(k,k.currentTarget)&&w(k,b.pointerType||k.pointerType)};let M=k=>{k.pointerId===b.activePointerId&&(b.target&&Hi(k,b.target)?!b.isOverTarget&&b.pointerType!=null&&(b.isOverTarget=!0,y(Bn(b.target,k),b.pointerType)):b.target&&b.isOverTarget&&b.pointerType!=null&&(b.isOverTarget=!1,g(Bn(b.target,k),b.pointerType,!1),x(k)))},$=k=>{k.pointerId===b.activePointerId&&b.isPressed&&k.button===0&&b.target&&(Hi(k,b.target)&&b.pointerType!=null?g(Bn(b.target,k),b.pointerType):b.isOverTarget&&b.pointerType!=null&&g(Bn(b.target,k),b.pointerType,!1),b.isPressed=!1,b.isOverTarget=!1,b.activePointerId=null,b.pointerType=null,m(),c||Pa(b.target))},T=k=>{C(k)};A.onDragStart=k=>{k.currentTarget.contains(k.target)&&C(k)}}else{A.onMouseDown=T=>{if(T.button!==0||!T.currentTarget.contains(T.target))return;if(Td(T.currentTarget)&&T.preventDefault(),b.ignoreEmulatedMouseEvents){T.stopPropagation();return}b.isPressed=!0,b.isOverTarget=!0,b.target=T.currentTarget,b.pointerType=fh(T.nativeEvent)?"virtual":"mouse",!s&&!a&&si(T.currentTarget),y(T,b.pointerType)&&T.stopPropagation(),S(Yt(T.currentTarget),"mouseup",M,!1)},A.onMouseEnter=T=>{if(!T.currentTarget.contains(T.target))return;let k=!0;b.isPressed&&!b.ignoreEmulatedMouseEvents&&b.pointerType!=null&&(b.isOverTarget=!0,k=y(T,b.pointerType)),k&&T.stopPropagation()},A.onMouseLeave=T=>{if(!T.currentTarget.contains(T.target))return;let k=!0;b.isPressed&&!b.ignoreEmulatedMouseEvents&&b.pointerType!=null&&(b.isOverTarget=!1,k=g(T,b.pointerType,!1),x(T)),k&&T.stopPropagation()},A.onMouseUp=T=>{T.currentTarget.contains(T.target)&&!b.ignoreEmulatedMouseEvents&&T.button===0&&w(T,b.pointerType||"mouse")};let M=T=>{if(T.button===0){if(b.isPressed=!1,m(),b.ignoreEmulatedMouseEvents){b.ignoreEmulatedMouseEvents=!1;return}b.target&&Hi(T,b.target)&&b.pointerType!=null?g(Bn(b.target,T),b.pointerType):b.target&&b.isOverTarget&&b.pointerType!=null&&g(Bn(b.target,T),b.pointerType,!1),b.isOverTarget=!1}};A.onTouchStart=T=>{if(!T.currentTarget.contains(T.target))return;let k=Oj(T.nativeEvent);if(!k)return;b.activePointerId=k.identifier,b.ignoreEmulatedMouseEvents=!0,b.isOverTarget=!0,b.isPressed=!0,b.target=T.currentTarget,b.pointerType="touch",!s&&!a&&si(T.currentTarget),c||x1(b.target),y(T,b.pointerType)&&T.stopPropagation(),S(kn(T.currentTarget),"scroll",$,!0)},A.onTouchMove=T=>{if(!T.currentTarget.contains(T.target))return;if(!b.isPressed){T.stopPropagation();return}let k=O1(T.nativeEvent,b.activePointerId),U=!0;k&&Hi(k,T.currentTarget)?!b.isOverTarget&&b.pointerType!=null&&(b.isOverTarget=!0,U=y(T,b.pointerType)):b.isOverTarget&&b.pointerType!=null&&(b.isOverTarget=!1,U=g(T,b.pointerType,!1),x(T)),U&&T.stopPropagation()},A.onTouchEnd=T=>{if(!T.currentTarget.contains(T.target))return;if(!b.isPressed){T.stopPropagation();return}let k=O1(T.nativeEvent,b.activePointerId),U=!0;k&&Hi(k,T.currentTarget)&&b.pointerType!=null?(w(T,b.pointerType),U=g(T,b.pointerType)):b.isOverTarget&&b.pointerType!=null&&(U=g(T,b.pointerType,!1)),U&&T.stopPropagation(),b.isPressed=!1,b.activePointerId=null,b.isOverTarget=!1,b.ignoreEmulatedMouseEvents=!0,b.target&&!c&&Pa(b.target),m()},A.onTouchCancel=T=>{T.currentTarget.contains(T.target)&&(T.stopPropagation(),b.isPressed&&C(T))};let $=T=>{b.isPressed&&T.target.contains(b.target)&&C({currentTarget:b.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};A.onDragStart=T=>{T.currentTarget.contains(T.target)&&C(T)}}return A},[S,s,a,m,c,C,x,g,y,w]);return _.useEffect(()=>()=>{var b;c||Pa((b=v.current.target)!==null&&b!==void 0?b:void 0)},[c]),{isPressed:l||p,pressProps:Fr(d,P)}}function Tg(t){return t.tagName==="A"&&t.hasAttribute("href")}function xd(t,e){const{key:n,code:r}=t,i=e,o=i.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||r==="Space")&&!(i instanceof kn(i).HTMLInputElement&&!Tx(i,n)||i instanceof kn(i).HTMLTextAreaElement||i.isContentEditable)&&!((o==="link"||!o&&Tg(i))&&n!=="Enter")}function Oj(t){const{targetTouches:e}=t;return e.length>0?e[0]:null}function O1(t,e){const n=t.changedTouches;for(let r=0;r<n.length;r++){const i=n[r];if(i.identifier===e)return i}return null}function Bn(t,e){return{currentTarget:t,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey}}function $j(t){let e=0,n=0;return t.width!==void 0?e=t.width/2:t.radiusX!==void 0&&(e=t.radiusX),t.height!==void 0?n=t.height/2:t.radiusY!==void 0&&(n=t.radiusY),{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function kj(t,e){return!(t.left>e.right||e.left>t.right||t.top>e.bottom||e.top>t.bottom)}function Hi(t,e){let n=e.getBoundingClientRect(),r=$j(t);return kj(n,r)}function Td(t){return!(t instanceof HTMLElement)||!t.hasAttribute("draggable")}function $1(t,e){return t instanceof HTMLInputElement?!Tx(t,e):t instanceof HTMLButtonElement?t.type!=="submit"&&t.type!=="reset":!Tg(t)}const Aj=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Tx(t,e){return t.type==="checkbox"||t.type==="radio"?e===" ":Aj.has(t.type)}class Pj{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=e}}function Ox(t){let e=_.useRef({isFocused:!1,observer:null});Cg(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=Xi(r=>{t==null||t(r)});return _.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=r.target,o=s=>{e.current.isFocused=!1,i.disabled&&n(new Pj("blur",s)),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",o,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var s;(s=e.current.observer)===null||s===void 0||s.disconnect();let l=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function $x(t){let{isDisabled:e,onFocus:n,onBlur:r,onFocusChange:i}=t;const o=_.useCallback(a=>{if(a.target===a.currentTarget)return r&&r(a),i&&i(!1),!0},[r,i]),s=Ox(o),l=_.useCallback(a=>{a.target===a.currentTarget&&document.activeElement===a.target&&(n&&n(a),i&&i(!0),s(a))},[i,n,s]);return{focusProps:{onFocus:!e&&(n||i||r)?l:void 0,onBlur:!e&&(r||i)?o:void 0}}}let fs=null,ph=new Set,Js=new Map,$i=!1,hh=!1;const _j={Tab:!0,Escape:!0};function Og(t,e){for(let n of ph)n(t,e)}function Mj(t){return!(t.metaKey||!xl()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function Hu(t){$i=!0,Mj(t)&&(fs="keyboard",Og("keyboard",t))}function qt(t){fs="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&($i=!0,Og("pointer",t))}function kx(t){fh(t)&&($i=!0,fs="virtual")}function Ax(t){t.target===window||t.target===document||(!$i&&!hh&&(fs="virtual",Og("virtual",t)),$i=!1,hh=!1)}function Px(){$i=!1,hh=!0}function mh(t){if(typeof window>"u"||Js.get(kn(t)))return;const e=kn(t),n=Yt(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){$i=!0,r.apply(this,arguments)},n.addEventListener("keydown",Hu,!0),n.addEventListener("keyup",Hu,!0),n.addEventListener("click",kx,!0),e.addEventListener("focus",Ax,!0),e.addEventListener("blur",Px,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",qt,!0),n.addEventListener("pointermove",qt,!0),n.addEventListener("pointerup",qt,!0)):(n.addEventListener("mousedown",qt,!0),n.addEventListener("mousemove",qt,!0),n.addEventListener("mouseup",qt,!0)),e.addEventListener("beforeunload",()=>{_x(t)},{once:!0}),Js.set(e,{focus:r})}const _x=(t,e)=>{const n=kn(t),r=Yt(t);e&&r.removeEventListener("DOMContentLoaded",e),Js.has(n)&&(n.HTMLElement.prototype.focus=Js.get(n).focus,r.removeEventListener("keydown",Hu,!0),r.removeEventListener("keyup",Hu,!0),r.removeEventListener("click",kx,!0),n.removeEventListener("focus",Ax,!0),n.removeEventListener("blur",Px,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",qt,!0),r.removeEventListener("pointermove",qt,!0),r.removeEventListener("pointerup",qt,!0)):(r.removeEventListener("mousedown",qt,!0),r.removeEventListener("mousemove",qt,!0),r.removeEventListener("mouseup",qt,!0)),Js.delete(n))};function Nj(t){const e=Yt(t);let n;return e.readyState!=="loading"?mh(t):(n=()=>{mh(t)},e.addEventListener("DOMContentLoaded",n)),()=>_x(t,n)}typeof document<"u"&&Nj();function Mx(){return fs!=="pointer"}function Ij(){return fs}const Dj=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Rj(t,e,n){var r;const i=typeof window<"u"?kn(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,o=typeof window<"u"?kn(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?kn(n==null?void 0:n.target).HTMLElement:HTMLElement,l=typeof window<"u"?kn(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return t=t||(n==null?void 0:n.target)instanceof i&&!Dj.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof o||(n==null?void 0:n.target)instanceof s&&(n==null?void 0:n.target.isContentEditable),!(t&&e==="keyboard"&&n instanceof l&&!_j[n.key])}function Lj(t,e,n){mh(),_.useEffect(()=>{let r=(i,o)=>{Rj(!!(n!=null&&n.isTextInput),i,o)&&t(Mx())};return ph.add(r),()=>{ph.delete(r)}},e)}function Fj(t){let{isDisabled:e,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=t,o=_.useRef({isFocusWithin:!1}),s=_.useCallback(u=>{o.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(o.current.isFocusWithin=!1,n&&n(u),i&&i(!1))},[n,i,o]),l=Ox(s),a=_.useCallback(u=>{!o.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),i&&i(!0),o.current.isFocusWithin=!0,l(u))},[r,i,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:a,onBlur:s}}}let Ku=!1,Od=0;function gh(){Ku=!0,setTimeout(()=>{Ku=!1},50)}function k1(t){t.pointerType==="touch"&&gh()}function Bj(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",k1):document.addEventListener("touchend",gh),Od++,()=>{Od--,!(Od>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",k1):document.removeEventListener("touchend",gh))}}function zj(t){let{onHoverStart:e,onHoverChange:n,onHoverEnd:r,isDisabled:i}=t,[o,s]=_.useState(!1),l=_.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;_.useEffect(Bj,[]);let{hoverProps:a,triggerHoverEnd:u}=_.useMemo(()=>{let c=(p,h)=>{if(l.pointerType=h,i||h==="touch"||l.isHovered||!p.currentTarget.contains(p.target))return;l.isHovered=!0;let v=p.currentTarget;l.target=v,e&&e({type:"hoverstart",target:v,pointerType:h}),n&&n(!0),s(!0)},f=(p,h)=>{if(l.pointerType="",l.target=null,h==="touch"||!l.isHovered)return;l.isHovered=!1;let v=p.currentTarget;r&&r({type:"hoverend",target:v,pointerType:h}),n&&n(!1),s(!1)},d={};return typeof PointerEvent<"u"?(d.onPointerEnter=p=>{Ku&&p.pointerType==="mouse"||c(p,p.pointerType)},d.onPointerLeave=p=>{!i&&p.currentTarget.contains(p.target)&&f(p,p.pointerType)}):(d.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},d.onMouseEnter=p=>{!l.ignoreEmulatedMouseEvents&&!Ku&&c(p,"mouse"),l.ignoreEmulatedMouseEvents=!1},d.onMouseLeave=p=>{!i&&p.currentTarget.contains(p.target)&&f(p,"mouse")}),{hoverProps:d,triggerHoverEnd:f}},[e,n,r,i,l]);return _.useEffect(()=>{i&&u({currentTarget:l.target},l.pointerType)},[i]),{hoverProps:a,isHovered:o}}function A1(t){if(!t)return;let e=!0;return n=>{let r={...n,preventDefault(){n.preventDefault()},isDefaultPrevented(){return n.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){e=!1}};t(r),e&&n.stopPropagation()}}function jj(t){return{keyboardProps:t.isDisabled?{}:{onKeyDown:A1(t.onKeyDown),onKeyUp:A1(t.onKeyUp)}}}function Uj(t){const e=Yt(t);if(Ij()==="virtual"){let n=e.activeElement;wx(()=>{e.activeElement===n&&t.isConnected&&si(t)})}else si(t)}function Wj(t,e){return!t||!e?!1:e.some(n=>n.contains(t))}class $g{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,n,r){let i=this.fastMap.get(n??null);if(!i)return;let o=new P1({scopeRef:e});i.addChild(o),o.parent=i,this.fastMap.set(e,o),r&&(o.nodeToRestore=r)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(e===null)return;let n=this.fastMap.get(e);if(!n)return;let r=n.parent;for(let o of this.traverse())o!==n&&n.nodeToRestore&&o.nodeToRestore&&n.scopeRef&&n.scopeRef.current&&Wj(o.nodeToRestore,n.scopeRef.current)&&(o.nodeToRestore=n.nodeToRestore);let i=n.children;r&&(r.removeChild(n),i.size>0&&i.forEach(o=>r&&r.addChild(o))),this.fastMap.delete(n.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.size>0)for(let n of e.children)yield*this.traverse(n)}clone(){var e;let n=new $g;var r;for(let i of this.traverse())n.addTreeNode(i.scopeRef,(r=(e=i.parent)===null||e===void 0?void 0:e.scopeRef)!==null&&r!==void 0?r:null,i.nodeToRestore);return n}constructor(){this.fastMap=new Map,this.root=new P1({scopeRef:null}),this.fastMap.set(null,this.root)}}class P1{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}new $g;function Vj(t={}){let{autoFocus:e=!1,isTextInput:n,within:r}=t,i=_.useRef({isFocused:!1,isFocusVisible:e||Mx()}),[o,s]=_.useState(!1),[l,a]=_.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=_.useCallback(()=>a(i.current.isFocused&&i.current.isFocusVisible),[]),c=_.useCallback(p=>{i.current.isFocused=p,s(p),u()},[u]);Lj(p=>{i.current.isFocusVisible=p,u()},[],{isTextInput:n});let{focusProps:f}=$x({isDisabled:r,onFocusChange:c}),{focusWithinProps:d}=Fj({isDisabled:!r,onFocusWithinChange:c});return{isFocused:o,isFocusVisible:l,focusProps:r?d:f}}let Hj=We.createContext(null);function Kj(t){let e=_.useContext(Hj)||{};Ex(e,t);let{ref:n,...r}=e;return r}function Gj(t,e){let{focusProps:n}=$x(t),{keyboardProps:r}=jj(t),i=Fr(n,r),o=Kj(e),s=t.isDisabled?{}:o,l=_.useRef(t.autoFocus);return _.useEffect(()=>{l.current&&e.current&&Uj(e.current),l.current=!1},[e]),{focusableProps:Fr({...i,tabIndex:t.excludeFromTabOrder&&!t.isDisabled?-1:void 0},s)}}function qj(t,e){let{elementType:n="button",isDisabled:r,onPress:i,onPressStart:o,onPressEnd:s,onPressUp:l,onPressChange:a,preventFocusOnPress:u,allowFocusWhenDisabled:c,onClick:f,href:d,target:p,rel:h,type:v="button"}=t,S;n==="button"?S={type:v,disabled:r}:S={role:"button",tabIndex:r?void 0:0,href:n==="a"&&r?void 0:d,target:n==="a"?p:void 0,type:n==="input"?v:void 0,disabled:n==="input"?r:void 0,"aria-disabled":!r||n==="input"?void 0:r,rel:n==="a"?h:void 0};let{pressProps:m,isPressed:y}=Tj({onPressStart:o,onPressEnd:s,onPressChange:a,onPress:i,onPressUp:l,isDisabled:r,preventFocusOnPress:u,ref:e}),{focusableProps:g}=Gj(t,e);c&&(g.tabIndex=r?-1:g.tabIndex);let w=Fr(g,m,yx(t,{labelable:!0}));return{isPressed:y,buttonProps:Fr(S,w,{"aria-haspopup":t["aria-haspopup"],"aria-expanded":t["aria-expanded"],"aria-controls":t["aria-controls"],"aria-pressed":t["aria-pressed"],onClick:C=>{f&&(f(C),console.warn("onClick is deprecated, please use onPress"))}})}}function Yj(t,e,n){let r=hx(),i=_.useRef(r);i.current=r;let o=_.useCallback(()=>i.current?n():e(),[e,n]);return hg.useSyncExternalStore(t,o)}typeof We.useSyncExternalStore=="function"&&We.useSyncExternalStore;const Jj=Symbol("callback"),_1=Symbol("default");function Qj(t){let{className:e,style:n,children:r,defaultClassName:i,defaultChildren:o,values:s}=t;return _.useMemo(()=>{let l,a,u;return typeof e=="function"?l=e(s):l=e,typeof n=="function"?a=n(s):a=n,typeof r=="function"?u=r(s):r==null?u=o:u=r,{className:l??i,style:a,children:u,"data-rac":""}},[e,n,r,i,o,s])}function Xj(t,e){let n=_.useContext(t);if(e===null)return null;if(n&&typeof n=="object"&&"slots"in n&&n.slots){let r=new Intl.ListFormat().format(Object.keys(n.slots).map(o=>`"${o}"`));if(!e&&!n.slots[_1])throw new Error(`A slot prop is required. Valid slot names are ${r}.`);let i=e||_1;if(!n.slots[i])throw new Error(`Invalid slot "${e}". Valid slot names are ${r}.`);return n.slots[i]}return n}function Zj(t,e,n){let r=Xj(n,t.slot)||{},{ref:i,[Jj]:o,...s}=r,l=yj(_.useMemo(()=>ij(e,i),[e,i])),a=Fr(s,t);return"style"in s&&s.style&&typeof s.style=="object"&&"style"in t&&t.style&&typeof t.style=="object"&&(a.style={...s.style,...t.style}),_.useEffect(()=>{o&&o(t)},[o,t]),[a,l]}if(typeof HTMLTemplateElement<"u"){const t=Object.getOwnPropertyDescriptor(Node.prototype,"firstChild").get;Object.defineProperty(HTMLTemplateElement.prototype,"firstChild",{configurable:!0,enumerable:!0,get:function(){return this.dataset.reactAriaHidden?this.content.firstChild:t.call(this)}})}const eU=_.createContext(!1);typeof DocumentFragment<"u"&&new DocumentFragment;function tU(t){let e=(n,r)=>_.useContext(eU)?null:t(n,r);return e.displayName=t.displayName||t.name,We.forwardRef(e)}const nU=new Set(["form","formAction","formEncType","formMethod","formNoValidate","formTarget","name","value"]),rU=_.createContext({});function iU(t,e){[t,e]=Zj(t,e,rU);let n=t,{buttonProps:r,isPressed:i}=qj(t,e),{focusProps:o,isFocused:s,isFocusVisible:l}=Vj(t),{hoverProps:a,isHovered:u}=zj(t),c=Qj({...t,values:{isHovered:u,isPressed:i,isFocused:s,isFocusVisible:l,isDisabled:t.isDisabled||!1},defaultClassName:"react-aria-Button"});return We.createElement("button",{...yx(t,{propNames:nU}),...Fr(r,o,a),...c,ref:e,slot:t.slot||void 0,"data-disabled":t.isDisabled||void 0,"data-pressed":n.isPressed||i||void 0,"data-hovered":u||void 0,"data-focused":s||void 0,"data-focus-visible":l||void 0})}const uZ=tU(iU);/**
 * @license lucide-react v0.349.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.349.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.349.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=(t,e)=>{const n=_.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:a,...u},c)=>_.createElement("svg",{ref:c,...oU,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${sU(t)}`,l].join(" "),...u},[...e.map(([f,d])=>_.createElement(f,d)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.349.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=Nx("Import",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m8 11 4 4 4-4",key:"1dohi6"}],["path",{d:"M8 5H4a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4",key:"1ywtjm"}]]);/**
 * @license lucide-react v0.349.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=Nx("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function Ix(t){return kc.sanitize(t,{ALLOWED_TAGS:["#text"],KEEP_CONTENT:!0})}function Yl(t,e){return t.reduce((n,r)=>n?r(n):null,e)}var lU=_i,aU=vt,uU=In,cU="[object String]";function fU(t){return typeof t=="string"||!aU(t)&&uU(t)&&lU(t)==cU}var dU=fU;const jo=xe(dU),Dx=t=>{if(!Array.isArray(t))throw new TypeError("customFilters should be given as an array");if(t.some(e=>typeof e!="function"))throw new TypeError("The given filter is not a function");return!0};var pU=Qb;function hU(t,e,n,r){return pU(t,function(i,o,s){e(r,n(i),o,s)}),r}var mU=hU,gU=mU;function yU(t,e){return function(n,r){return gU(n,t,e(r),{})}}var vU=yU,SU=eb,bU=vU,wU=Rl,EU=Object.prototype,CU=EU.toString,xU=bU(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=CU.call(e)),t[e]=n},SU(wU)),TU=xU;const Rx=xe(TU);function OU(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Lx=OU;const xo=xe(Lx);function $U(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var kU=$U,AU=jl,PU=kU;function _U(t,e){return e.length<2?t:AU(t,PU(e,0,-1))}var MU=_U,NU=ts,IU=Lx,DU=MU,RU=ns;function LU(t,e){return e=NU(e,t),t=DU(t,e),t==null||delete t[RU(IU(e))]}var FU=LU,BU=gb;function zU(t){return BU(t)?void 0:t}var jU=zU,UU=Ii,WU=fm,VU=FU,HU=ts,KU=es,GU=jU,qU=jb,YU=ew,JU=1,QU=2,XU=4,ZU=qU(function(t,e){var n={};if(t==null)return n;var r=!1;e=UU(e,function(o){return o=HU(o,t),r||(r=o.length>1),o}),KU(t,YU(t),n),r&&(n=WU(n,JU|QU|XU,GU));for(var i=e.length;i--;)VU(n,e[i]);return n}),eW=ZU;const yh=xe(eW),N={AFlat:"Ab",A:"A",ASharp:"A#",BFlat:"Bb",B:"B",C:"C",CSharp:"C#",DFlat:"Db",D:"D",DSharp:"D#",EFlat:"Eb",E:"E",F:"F",FSharp:"F#",GFlat:"Gb",G:"G",GSharp:"G#"},vh={Ab:N.AFlat,A:N.A,"A#":N.ASharp,Bb:N.BFlat,B:N.B,"B#":N.C,Cb:N.B,C:N.C,"C#":N.CSharp,Db:N.DFlat,D:N.D,"D#":N.DSharp,Eb:N.EFlat,E:N.E,"E#":N.F,Fb:N.E,F:N.F,"F#":N.FSharp,Gb:N.GFlat,G:N.G,"G#":N.GSharp},M1={Lab:N.AFlat,La:N.A,"La#":N.ASharp,Sib:N.BFlat,Si:N.B,"Si#":N.C,Dob:N.B,Do:N.C,"Do#":N.CSharp,Reb:N.DFlat,Réb:N.DFlat,Re:N.D,Ré:N.D,"Re#":N.DSharp,"Ré#":N.DSharp,Mib:N.EFlat,Mi:N.E,"Mi#":N.F,Fab:N.E,Fa:N.F,"Fa#":N.FSharp,Solb:N.GFlat,Sol:N.G,"Sol#":N.GSharp},N1={...yh(vh,["Bb","B","B#"]),As:N.AFlat,Ais:N.ASharp,Hb:N.BFlat,Hes:N.BFlat,H:N.B,His:N.C,"H#":N.C,Ces:N.B,Cis:N.CSharp,Des:N.DFlat,Dis:N.DSharp,Es:N.EFlat,Eis:N.F,Fes:N.E,Fis:N.FSharp,Ges:N.GFlat,Gis:N.GSharp};function kg(t){let e;return Object.keys(t).reduce((n,r)=>(r.match(/.[b|#]$/)&&(e=r.replace("#","♯").replace("b","♭"),n[e]=t[r]),n),{})}const Fx={...vh,...kg(vh)},Bx={...M1,...kg(M1)},zx={...N1,...kg(N1)},Sh={...Fx,...Bx,...zx};Object.keys(Sh).sort((t,e)=>e.length-t.length);const tW=Object.keys(Fx).sort((t,e)=>e.length-t.length),nW=Object.keys(Bx).sort((t,e)=>e.length-t.length),rW=Object.keys(zx).sort((t,e)=>e.length-t.length),iW=[{name:"english",notes:tW},{name:"german",notes:rW},{name:"latin",notes:nW}],Ol=[N.A,N.ASharp,N.B,N.C,N.CSharp,N.D,N.DSharp,N.E,N.F,N.FSharp,N.G,N.GSharp],oW=[N.A,N.BFlat,N.B,N.C,N.DFlat,N.D,N.EFlat,N.E,N.F,N.GFlat,N.G,N.AFlat],jx={[N.CSharp]:N.DFlat,[N.DSharp]:N.EFlat,[N.FSharp]:N.GFlat,[N.GSharp]:N.AFlat,[N.ASharp]:N.BFlat},$l=Rx(jx),sW=[...Object.values(N),...Object.values(N).map(t=>t+"m")];class lW extends Error{constructor(){super("The given symbol is not a valid string"),this.name="InvalidInput"}}class aW extends Error{constructor(){super("An unexpected error happened. Maybe a custom filter returned null instead of throwing an exception?"),this.name="UnexpectedError"}}class Ag extends Error{constructor(e,n,r){super(e),this.name=r,this.chord=n}}class Ux extends Ag{constructor(e){const n=`"${e.input.symbol}" does not seems to be a chord`;super(n,e,"NoSymbolFound")}}class uW extends Ag{constructor(e,n){const r=`The chord descriptor "${e.input.descriptor}" contains unknown or duplicated modifiers: "${n}"`;super(r,e,"InvalidModifier")}}class cW extends Ag{constructor(e,n){const r=`"${e.input.symbol}" describes a chord with an invalid intervals combo: `+n.join(" and ");super(r,e,"InvalidIntervals")}}function Jl(t,e){const n=Gh(e)?e:[e];return ol(t,n)}function ue(t,e){return _g(t,e,"oneOf")}function Pg(t,e){return _g(t,e,"all")}function Pr(t,e){return _g(t,e,"none")}function _g(t,e,n){return(Gh(e)?e:[e])[n==="oneOf"?"some":"every"](o=>n==="none"?!t.includes(o):t.includes(o))}const fW=[["2","3"],["2","9"],["3","b3"],["4","11"],["5","b5"],["5","#5"],["b6","#5"],["b6","6"],["b6","13"],["6","13"],["b7","bb7"],["7","b7"],["9","b9"],["9","#9"],["11","#11"],["13","b13"]];function dW(t){const e=t.normalized.intervals,n=fW.find(r=>Pg(e,r));if(n)throw new cW(t,n);return t}function Wx(t){const{rootNote:e,bassNote:n,descriptor:r,chordChanges:i}=t.formatted;let o=e;return r&&(o+=r),i&&i.length&&(o+="("+i.join(",")+")"),n&&(o+="/"+n),t.formatted.symbol=o,t}const z={ma:"major",ma6:"major6",ma7:"major7",dom7:"dominant7",mi:"minor",mi6:"minor6",mi7:"minor7",miMa7:"minorMajor7",aug:"augmented",dim:"diminished",dim7:"diminished7",power:"power",bass:"bass"},Vx=[z.mi,z.mi6,z.mi7,z.miMa7,z.dim,z.dim7],pW={[z.ma]:()=>"",[z.ma6]:t=>t.normalized.intervals.includes("9")?"69":"6",[z.ma7]:t=>"ma"+Na(t),[z.dom7]:t=>t.normalized.intents.alt?"7alt":Na(t),[z.mi]:()=>"mi",[z.mi6]:t=>t.normalized.intervals.includes("9")?"mi69":"mi6",[z.mi7]:t=>"mi"+Na(t),[z.miMa7]:t=>"miMa"+Na(t),[z.aug]:()=>"+",[z.dim]:()=>"dim",[z.dim7]:()=>"dim7",[z.power]:()=>"5",[z.bass]:()=>" bass"},Gu={add:"add",add7:"Ma7",omit:"omit",sus:"sus"};function Hx(t){return t.formatted={rootNote:t.normalized.rootNote,bassNote:t.normalized.bassNote,descriptor:hW(t),chordChanges:mW(t)},t}function hW(t){let e=pW[t.normalized.quality](t);return t.normalized.isSuspended&&(e+=Gu.sus),e}function Na(t){const e=t.normalized.extensions;let n=e[e.length-1];return n==="11"&&t.normalized.intents.major&&(n=Pr(t.normalized.alterations,["b9","#9"])?"9":"7"),n||"7"}function mW(t){const e=vW(t.normalized.omits);if(gW(t))return e;const n=yW(t.normalized.quality,t.normalized.adds);return[...t.normalized.alterations,...n,...e]}function gW(t){return t.normalized.intents.alt&&t.normalized.quality===z.dom7}function yW(t,e){return e.filter(n=>!([z.ma6,z.mi6].includes(t)&&n==="9")).map((n,r)=>{let i="";return r===0&&(i+=Gu.add,["b","#"].includes(n[0])&&(i+=" ")),i+=n==="7"?Gu.add7:n,i})}function vW(t){return t.map((e,n)=>{let r="";return n===0&&(r+=Gu.omit),r+=e==="b3"?"3":e,r})}const Ki={flat:"♭",sharp:"♯"},SW={major:{0:"I",2:"II",3:`${Ki.flat}III`,4:"III",5:"IV",7:"V",8:`${Ki.flat}VI`,9:"VI",10:`${Ki.flat}VII`,11:"VII"},minor:{0:"I",2:"II",3:"III",4:`${Ki.sharp}III`,5:"IV",7:"V",8:"VI",9:`${Ki.sharp}VI`,10:"VII",11:`${Ki.sharp}VII`}},te={sup2:"²",sup4:"⁴",sup5:"⁵",sup6:"⁶",sup7:"⁷",sub3:"₃",sub4:"₄",sub5:"₅",flat:"♭",sharp:"♯"},Ia={major:["I","ii","iii","IV","V","vi","vii°"],dom7:["IΔ",`ii${te.sup7}`,`iii${te.sup7}`,"IVΔ",`V${te.sup7}`,`vi${te.sup7}`,"viiø"],minor:["i","ii°","III","iv","v","VI","VII"],minor7:[`i${te.sup7}`,"iiø","IIIΔ",`iv${te.sup7}`,`v${te.sup7}`,"VIΔ","VIIΔ"]},Da={borrowedFromMinor:["i","ii°",`${te.flat}III`,"iv","v",`${te.flat}VI`,`${te.flat}VII`],borrowedFromMinor7:[`i${te.sup7}`,"iiø",`${te.flat}IIIΔ`,`iv${te.sup7}`,`v${te.sup7}`,`${te.flat}VIΔ`,`${te.flat}VIIΔ`],borrowedFromMajor:["I","ii",`${te.sharp}iii`,"IV","V",`${te.sharp}vi`,`${te.sharp}vii°`],borrowedFromDom7:["IΔ",`ii${te.sup7}`,`${te.sharp}iii${te.sup7}`,"IVΔ",`V${te.sup7}`,`${te.sharp}vi${te.sup7}`,`${te.sharp}viiø`]};function bW(t="",e){let n,r,i;t||(t=e.normalized.rootNote);const o=t.indexOf("m")>-1?"minor":"major",s=Vx.includes(e.normalized.quality)?"minor":"major";n=wW(t,o,e,s);const l=OW(e),a=CW[e.normalized.quality](e,l);return r=`${n}${a}`,xW(o,r)?i="diatonic":TW(o,r)?i="borrowed":(i="unknown",n="?",r=`${n}${a}`),r+=l,e.numeral={symbol:r,degree:n,descriptor:a,inversion:l,type:i,thirdQuality:s},e}function wW(t,e,n,r){const i=t.replace("m",""),o=EW(i,n.normalized.rootNote),s=SW[e][o]||"?";return r==="minor"?s.toLowerCase():s}function EW(t,e){const n=Ol.indexOf($l[t]||t);return(Ol.indexOf($l[e]||e)-n+12)%12}const CW={[z.ma]:()=>"",[z.ma6]:()=>"",[z.ma7]:()=>"Δ",[z.dom7]:(t,e)=>e===""?`${te.sup7}`:"",[z.mi]:()=>"",[z.mi6]:()=>"",[z.mi7]:(t,e)=>t.normalized.intervals.includes("b5")?"ø":e===""?`${te.sup7}`:"",[z.miMa7]:()=>"mΔ",[z.aug]:()=>"+",[z.dim]:()=>"°",[z.dim7]:(t,e)=>e===""?`°${te.sup7}`:"°",[z.power]:()=>"",[z.bass]:()=>""};function xW(t,e){return t==="major"?Ia.major.includes(e)||Ia.dom7.includes(e):Ia.minor.includes(e)||Ia.minor7.includes(e)}function TW(t,e){return t==="major"?Da.borrowedFromMinor.includes(e)||Da.borrowedFromMinor7.includes(e):Da.borrowedFromMajor.includes(e)||Da.borrowedFromDom7.includes(e)}function OW(t){let e="";return t.normalized.bassNote&&($W(t)?e=I1(t)?`${te.sup6}${te.sub5}`:`${te.sup6}`:kW(t)?e=I1(t)?`${te.sup4}${te.sub3}`:`${te.sup6}${te.sub4}`:AW(t)&&(e="²")),e}function I1(t){return[z.ma7,z.mi7,z.miMa7,z.dom7,z.dim7].includes(t.normalized.quality)}function $W(t){return _r(t,"b3")||_r(t,"3")}function kW(t){return _r(t,"b5")||_r(t,"5")||_r(t,"#5")}function AW(t){return _r(t,"bb7")||_r(t,"b7")||_r(t,"7")}function _r(t,e){const n=t.normalized.intervals.indexOf(e);if(n===-1)return!1;const r=$l[t.normalized.bassNote]||t.normalized.bassNote,i=$l[t.normalized.notes[n]]||t.normalized.notes[n];return r===i}function PW(t){const e=[_W,MW,NW,IW];return t.input.descriptor&&(t.input.parsableDescriptor=Yl(e,t.input.descriptor)),t}function _W(t){return t.replace(/[A-LN-Za-z]+/g,e=>e.toLowerCase()).replace("oMit","omit").replace("diM","dim").replace("augMented","augmented")}function MW(t){return t.replace(/ /g,"")}function NW(t){return t.replace(/(7?dim)(alt|add)/g,"$1 $2").replace(/([m|M])(alt|add)/g,"$1 $2").replace(/i(no[35])/g,"i $1").replace(/([b♭#♯]9)6/g,"$1 6").replace(/(9\/?6)/g," $1").replaceAll("+5","#5").replaceAll("-5","b5")}function IW(t){let e,n,r;return t.replace(/\((.*?)\)/g,(i,o)=>(e=[],n="",o.split(",").forEach(s=>{r=!0,s.startsWith("add")?n="add":s.startsWith("omit")?n="omit":s.startsWith("no")?n="no":r=!1,r?e.push(s):e.push(n+s)})," "+e.join(" ")+" "))}function DW(t={},e){return{input:{symbol:e},normalized:{},formatted:{},parserConfiguration:oe(t)}}const RW={C:"flat",D:"sharp",E:"sharp",F:"flat",G:"sharp",A:"sharp",B:"sharp",Cm:"flat",Dm:"flat",Em:"sharp",Fm:"flat",Gm:"flat",Am:"flat",Bm:"sharp"};function LW(t){return t.indexOf("#")>-1?"sharp":t.indexOf("b")>-1?"flat":RW[t]}function Mg(t){const e=t.normalized.rootNote,n=t.normalized.semitones,r=t.normalized.quality;let i=e;Vx.includes(r)&&(i+="m");const o=LW(i)==="sharp"?Ol:oW,s=o.indexOf(e),l=[...o.slice(s),...o.slice(0,s),...o.slice(s),...o.slice(0,s)];return t.normalized.notes=n.map(a=>l[a]),t}function FW(t){return t.normalized.rootNote=Sh[t.input.rootNote],t.input.bassNote&&(t.normalized.bassNote=Sh[t.input.bassNote]),t}var BW=fm,zW=4;function jW(t){return BW(t,zW)}var UW=jW;const Ng=xe(UW);var WW=$c,VW=Ni,HW=rs;function KW(t){return function(e,n,r){var i=Object(e);if(!VW(e)){var o=WW(n);e=HW(e),n=function(l){return o(i[l],l,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var GW=KW;function qW(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var Kx=qW,YW=/\s/;function JW(t){for(var e=t.length;e--&&YW.test(t.charAt(e)););return e}var QW=JW,XW=QW,ZW=/^\s+/;function eV(t){return t&&t.slice(0,XW(t)+1).replace(ZW,"")}var tV=eV,nV=tV,D1=tn,rV=zl,R1=NaN,iV=/^[-+]0x[0-9a-f]+$/i,oV=/^0b[01]+$/i,sV=/^0o[0-7]+$/i,lV=parseInt;function aV(t){if(typeof t=="number")return t;if(rV(t))return R1;if(D1(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=D1(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=nV(t);var n=oV.test(t);return n||sV.test(t)?lV(t.slice(2),n?2:8):iV.test(t)?R1:+t}var uV=aV,cV=uV,L1=1/0,fV=17976931348623157e292;function dV(t){if(!t)return t===0?t:0;if(t=cV(t),t===L1||t===-L1){var e=t<0?-1:1;return e*fV}return t===t?t:0}var pV=dV,hV=pV;function mV(t){var e=hV(t),n=e%1;return e===e?n?e-n:e:0}var gV=mV,yV=Kx,vV=$c,SV=gV,bV=Math.max;function wV(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:SV(n);return i<0&&(i=bV(r+i,0)),yV(t,vV(e),i)}var Gx=wV;const qx=xe(Gx);var EV=GW,CV=Gx,xV=EV(CV),TV=xV;const OV=xe(TV);function $V(t){return t!==t}var kV=$V;function AV(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var PV=AV,_V=Kx,MV=kV,NV=PV;function IV(t,e,n){return e===e?NV(t,e,n):_V(t,MV,n)}var DV=IV,RV=DV;function LV(t,e){var n=t==null?0:t.length;return!!n&&RV(t,e,0)>-1}var Ig=LV;function FV(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Dg=FV;function BV(){}var zV=BV,$d=Kb,jV=zV,UV=am,WV=1/0,VV=$d&&1/UV(new $d([,-0]))[1]==WV?function(t){return new $d(t)}:jV,HV=VV,KV=xc,GV=Ig,qV=Dg,YV=Tc,JV=HV,QV=am,XV=200;function ZV(t,e,n){var r=-1,i=GV,o=t.length,s=!0,l=[],a=l;if(n)s=!1,i=qV;else if(o>=XV){var u=e?null:JV(t);if(u)return QV(u);s=!1,i=YV,a=new KV}else a=e?[]:l;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var d=a.length;d--;)if(a[d]===f)continue e;e&&a.push(f),l.push(c)}else i(a,f,n)||(a!==l&&a.push(f),l.push(c))}return l}var eH=ZV,tH=eH;function nH(t){return t&&t.length?tH(t):[]}var rH=nH;const Yx=xe(rH);var iH=xc,oH=Ig,sH=Dg,lH=Ii,aH=Zo,uH=Tc,cH=200;function fH(t,e,n,r){var i=-1,o=oH,s=!0,l=t.length,a=[],u=e.length;if(!l)return a;n&&(e=lH(e,aH(n))),r?(o=sH,s=!1):e.length>=cH&&(o=uH,s=!1,e=new iH(e));e:for(;++i<l;){var c=t[i],f=n==null?c:n(c);if(c=r||c!==0?c:0,s&&f===f){for(var d=u;d--;)if(e[d]===f)continue e;a.push(c)}else o(e,f,r)||a.push(c)}return a}var Jx=fH,dH=Jx,pH=qo,hH=gc,mH=pH(function(t,e){return hH(t)?dH(t,e):[]}),gH=mH;const Qx=xe(gH);function Xx(t){let e=Ng(t.normalized.intervals),n={quality:"",isSuspended:!1,extensions:[],alterations:[],adds:[],omits:[]};if(yH(e))n.quality=z.power;else if(vH(e))n.quality=z.bass;else{const r=bH(e,t.normalized.intents.major),i=SH(e,t.normalized.intents.major),{qualityIntervals:o,quality:s}=wH(e,t,i,r),l=OH(e,s),a=["1",...o,...l],{adds:u,alterations:c}=MH(e,a,s);n={...n,quality:s,isSuspended:i,extensions:l,alterations:c,adds:u,omits:r}}return{...t,normalized:{...t.normalized,...n}}}function yH(t){return Jl(t,["1","5"])}function vH(t){return Jl(t,["1"])}function SH(t,e){return t.includes("4")||t.includes("11")&&e&&!t.includes("3")}function bH(t,e){const n=[];return(Pr(t,["b3","3","4","11"])||!e&&Pr(t,["b3","4"]))&&n.push(e?"3":"b3"),Pr(t,["b5","5","#5","b13"])&&n.push("5"),n}function wH(t,e,n,r){const i=EH(t,e,n,r),o=[{qualityIntervals:["b3"],quality:z.mi},{qualityIntervals:["b3","6"],quality:z.mi6},{qualityIntervals:["b3","7"],quality:z.miMa7},{qualityIntervals:["b3","b7"],quality:z.mi7},{qualityIntervals:["3"],quality:z.ma},{qualityIntervals:["3","6"],quality:z.ma6},{qualityIntervals:["3","7"],quality:z.ma7},{qualityIntervals:["3","b7"],quality:z.dom7},{qualityIntervals:["3","#5"],quality:z.aug},{qualityIntervals:["b3","b5"],quality:z.dim},{qualityIntervals:["b3","b5","bb7"],quality:z.dim7}].sort((s,l)=>l.qualityIntervals.length-s.qualityIntervals.length);return OV(o,s=>Pg(i,s.qualityIntervals))}function EH(t,e,n,r){const i=[CH.bind(null,r),xH.bind(null,n,e.normalized.intents.major),TH.bind(null,e.normalized.intents.alt),Yx];return Yl(i,Ng(t))}function CH(t,e){const n=Ng(e);return t.includes("3")?n.push("3"):t.includes("b3")&&n.push("b3"),n}function xH(t,e,n){if(t){const r=Qx(n,"4");return r.push(e?"3":"b3"),r}return n}function TH(t,e){if(t){const n=Qx(e,"b5","#5");return n.push("5"),n}return e}function OH(t,e){const n=[];return $H(e)&&(kH(t,e)?n.push("9","11","13"):AH(t,e)?n.push("9","13"):PH(t)?n.push("9","11"):_H(t)&&n.push("9")),n}function $H(t){return[z.ma7,z.dom7,z.mi7,z.miMa7].includes(t)}function Zx(t){return[z.mi7,z.miMa7].includes(t)}function kH(t,e){return Zx(e)&&ue(t,"13")&&ue(t,["11","#11"])&&ue(t,["b9","9","#9"])}function AH(t,e){return!Zx(e)&&ue(t,"13")&&ue(t,["b9","9","#9"])}function PH(t){return ue(t,"11")&&ue(t,["b9","9","#9"])}function _H(t){return t.includes("9")}function MH(t,e,n){const r=[],i=[];return t.filter(o=>o!=="5"&&o!=="4").forEach(o=>{e.includes(o)||(NH(n,o)?i.push(o):r.push(o))}),IH(t)&&r.push("3"),{adds:F1(r),alterations:F1(i)}}function NH(t,e){return{[z.ma]:["b5","#5","#11","b13"],[z.ma6]:["b5","#5","#11","b13"],[z.ma7]:["b5","#5","#11","b13"],[z.dom7]:["b5","#5","b9","#9","#11","b13"],[z.mi]:["b5","#5","#11","b13"],[z.mi6]:["b5","#5","#11","b13"],[z.mi7]:["b5","#5","#11","b13"],[z.miMa7]:["b5","#5","#11","b13"],[z.aug]:[],[z.dim]:[],[z.dim7]:[]}[t].includes(e)}function IH(t){return Pg(t,["3","4"])}function F1(t){return t.sort((e,n)=>{const r=Number.parseInt(e.replace(/[b#]/,"")),i=Number.parseInt(n.replace(/[b#]/,""));return r-i})}function DH(t,e){const{symbol:n}=e.input,r=t.join("|"),i=new RegExp("^("+r+")(.*?)(/("+r+"))?$"),o=n.match(i);if(o&&o[1])return e.input.rootNote=o[1],o[2]&&(e.input.descriptor=o[2]),o[4]&&(e.input.bassNote=o[4]),e;throw new Ux(e)}const O={ma:"ma",mi:"mi",dim:"dim",halfDim:"halfDim",aug:"aug",seventh:"seventh",sus:"sus",sus2:"sus2",ninth:"ninth",eleventh:"eleventh",thirteenth:"thirteenth",fifthFlat:"b5",fifthSharp:"#5",ninthFlat:"b9",ninthSharp:"#9",eleventhSharp:"#11",thirteenthFlat:"b13",add3:"add3",add4:"add4",addb6:"addb6",add6:"add6",add69:"add69",add7:"add7",add9:"add9",add11:"add11",add13:"add13",bass:"bass",omit3:"omit3",omit5:"omit5",power:"power",alt:"alt"},Rg={"^":[O.ma,O.add7],Δ:[O.ma,O.add7],M:O.ma,Ma:O.ma,Maj:O.ma,Major:O.ma,ma:O.ma,maj:O.ma,major:O.ma},RH=tT(Rg,O.add7,t=>t+"7"),LH=tT(Rg,O.add7,t=>"add"+t+"7"),eT={...Rg,...RH,"-":O.mi,m:O.mi,Mi:O.mi,Min:O.mi,Minor:O.mi,mi:O.mi,min:O.mi,minor:O.mi,"°":O.dim,o:O.dim,0:O.dim,dim:O.dim,"dim.":O.dim,diminished:O.dim,Ø:O.halfDim,ø:O.halfDim,h:O.halfDim,"+":O.aug,aug:O.aug,augmented:O.aug,7:O.seventh,4:O.sus,sus:O.sus,sus4:O.sus,suspended:O.sus,suspended4:O.sus,sus2:O.sus2,suspended2:O.sus2,9:O.ninth,11:O.eleventh,13:O.thirteenth,b3:O.mi,b5:O.fifthFlat,"♭5":O.fifthFlat,"#5":O.fifthSharp,"♯5":O.fifthSharp,b9:O.ninthFlat,"♭9":O.ninthFlat,addb9:O.ninthFlat,"add♭9":O.ninthFlat,"#9":O.ninthSharp,"♯9":O.ninthSharp,"add#9":O.ninthSharp,"add♯9":O.ninthSharp,"#11":O.eleventhSharp,"♯11":O.eleventhSharp,"add#11":O.eleventhSharp,b13:O.thirteenthFlat,"♭13":O.thirteenthFlat,addb13:O.thirteenthFlat,"add♭13":O.thirteenthFlat,...LH,2:O.add9,add2:O.add9,add3:O.add3,add4:O.add4,addb6:O.addb6,b6:O.addb6,6:O.add6,add6:O.add6,"6/9":O.add69,69:O.add69,96:O.add69,"9/6":O.add69,add9:O.add9,add11:O.add11,add13:O.add13,bass:O.bass,omit3:O.omit3,no3:O.omit3,omit5:O.omit5,no5:O.omit5,5:O.power,alt:O.alt,"alt.":O.alt,altered:O.alt};function tT(t,e,n){return Object.keys(t).map(n).reduce((r,i)=>(r[i]=e,r),{})}const FH=Object.keys(eT).sort((t,e)=>e.length-t.length),qu={1:0,2:2,b3:3,3:4,4:5,b5:6,5:7,"#5":8,b6:8,6:9,bb7:9,b7:10,7:11,b9:13,9:14,"#9":15,11:17,"#11":18,b13:20,13:21};function BH(t,e){let n=[];return e.input.parsableDescriptor&&(n=zH(e)),e.input.modifiers=n,e.normalized.intervals=jH(n,t),e.normalized.semitones=QH(e.normalized.intervals),e.normalized.intents=XH(n),e}function zH(t){const{parsableDescriptor:e}=t.input,n=[],r=new RegExp(FH.map(JH).join("|"),"g"),i=e.match(r);let o=e,s;if(i&&i.forEach(l=>{s=eT[l],Array.isArray(s)||(s=[s]),s.forEach(a=>{n.includes(a)||(n.push(a),o=o.replace(l,""))})}),n.length===0)throw new Ux(t);if(o.trim().length>0)throw new uW(t,o);return n}function jH(t,e){return t.includes(O.power)?["1","5"]:t.includes(O.bass)?["1"]:Yx(["1",...UH(t),...WH(t),...VH(t,e),...HH(t),...KH(t),...GH(t,e),...qH(t,e),...YH(t,e)]).sort((n,r)=>qu[n]-qu[r])}function UH(t){const e=[];return t.includes(O.omit3)?[]:(ue(t,[O.sus,O.sus2])||(Lg(t)?t.includes(O.eleventh)||e.push("3"):e.push("b3")),t.includes(O.add3)&&e.push("3"),e)}function WH(t){const e=[];return ue(t,[O.sus,O.add4])&&e.push("4"),e}function VH(t,e){const n=[];return t.includes(O.omit5)?[]:((ue(t,[O.dim,O.halfDim,O.fifthFlat])||Uo(t,e,"b5"))&&n.push("b5"),(ue(t,[O.aug,O.fifthSharp])||Uo(t,e,"#5"))&&n.push("#5"),!n.length&&!t.includes(O.thirteenthFlat)&&n.push("5"),n)}function HH(t){const e=[];return ue(t,[O.addb6])&&e.push("b6"),ue(t,[O.add6,O.add69])&&!nT(t)&&!ue(t,[O.halfDim])&&e.push("6"),e}function KH(t){const e=[];return ue(t,[O.alt])&&e.push("b7"),ue(t,[O.seventh,O.halfDim])?t.includes(O.dim)?e.push("bb7"):t.includes(O.halfDim)?e.push("b7"):e.push(B1(t)):ue(t,[O.ninth,O.eleventh,O.thirteenth])&&e.push(B1(t)),t.includes(O.add7)&&e.push("7"),e}function B1(t){return t.includes(O.ma)?"7":"b7"}function GH(t,e){const n=[];return ue(t,[O.add69,O.ninth,O.eleventh,O.thirteenth])&&Pr(t,[O.ninthFlat,O.ninthSharp])&&n.push("9"),ue(t,[O.sus2,O.add9])&&n.push("9"),(ue(t,[O.ninthFlat])||Uo(t,e,"b9"))&&n.push("b9"),(ue(t,[O.ninthSharp])||Uo(t,e,"#9"))&&n.push("#9"),n}function qH(t,e){const n=[];return(ue(t,[O.thirteenth])&&!Lg(t)||ue(t,[O.eleventh,O.add11]))&&n.push("11"),(ue(t,[O.eleventhSharp])||Uo(t,e,"#11"))&&n.push("#11"),n}function YH(t,e){const n=[];return(ue(t,[O.add13,O.thirteenth])||ue(t,[O.add6,O.add69])&&nT(t)||ue(t,[O.add6,O.add69])&&ue(t,[O.halfDim]))&&n.push("13"),(ue(t,[O.thirteenthFlat])||Uo(t,e,"b13"))&&n.push("b13"),n}function Uo(t,e,n){return t.includes(O.alt)&&e.includes(n)}function Lg(t){return Pr(t,[O.mi,O.dim,O.dim7,O.halfDim])}function nT(t){return ue(t,[O.seventh,O.ninth,O.eleventh,O.thirteenth])}function JH(t){return t.replace(/[.\-*+?^${}()|[\]\\]/g,"\\$&")}function QH(t){return t.map(e=>qu[e]).sort((e,n)=>e-n)}function XH(t){return{major:Lg(t),eleventh:t.includes(O.eleventh),alt:t.includes(O.alt)}}function hf(t={}){const e=["b5","#5","b9","#9","#11","b13"],n=["english","german","latin"],{notationSystems:r=oe(n),altIntervals:i=oe(e),customFilters:o=[],key:s=""}=t;return ZH(i,e),eK(r,n),Dx(o),tK(s),l;function l(a){const u=[];if(!nK(a)){const h=new lW;u.push(bh(h))}const c=oe(iW).filter(h=>r.includes(h.name));let f,d,p;if(!u.length)for(;c.length&&!f;){p=c.shift(),d=[DW.bind(null,t),DH.bind(null,p.notes),PW,BH.bind(null,i),dW,FW,Xx,Hx,Wx,Mg,bW.bind(null,s),...o];try{f=Yl(d,a),f?f.input.notationSystem=p.name:u.push(rK(p.name))}catch(h){u.push(bh(h,p.name))}}return f||{error:u}}}function ZH(t,e){rT("altIntervals",t,e,!0)}function eK(t,e){rT("notationSystems",t,e)}function rT(t,e,n,r){if(!Array.isArray(e))throw new TypeError(`'${t}' should be an array`);if(!r&&e.length===0)throw new TypeError(`'${t}' cannot be empty`);e.forEach(i=>{if(!n.includes(i))throw new TypeError(`'${i}' is not a valid value for ${t}`)})}function tK(t){if(t!==""&&(!jo(t)||!sW.includes(t)))throw new TypeError(`'${t}' is not a valid value for key`)}function nK(t){return typeof t=="string"&&t.length>0}function rK(t){const e=new aW;return bh(e,t)}function bh(t,e){return{type:t.name,chord:t.chord,message:t.message,notationSystem:e}}const zn={sus2:"sus2",add2:"2",omit:"no",ma:"M",mi:"m",dim:"°",aug7:"7+",eleventh:"11"};function iK(t){let e,n=t.formatted.chordChanges;return oK(t)?(e=zn.sus2,n=[]):sK(t)?(e=zn.add2,n=[]):lK(t)?(e=zn.aug7,n=[]):(e=t.formatted.descriptor.replace("mi",zn.mi).replace(/[m|M]a/,zn.ma).replace("dim",zn.dim),aK(t)&&(e=e.replace(/7sus|9sus/,zn.eleventh))),n=n.map(r=>r.replace(/[m|M]a/,zn.ma).replace("omit",zn.omit)),{...t,formatted:{...t.formatted,descriptor:e,chordChanges:n}}}function oK(t){return Jl(t.normalized.intervals,["1","5","9"])}function sK(t){return Jl(t.normalized.intervals,["1","3","5","9"])}function lK(t){return Jl(t.normalized.intervals,["1","3","#5","b7"])}function aK(t){return t.normalized.intents.eleventh}var uK=Jx,cK=lm,fK=qo,z1=gc,dK=fK(function(t,e){return z1(t)?uK(t,cK(e,1,z1,!0)):[]}),pK=dK;const hK=xe(pK);function mK(t="none",e){if(t==="none")return e;const n={max:["4","b5","#5","6","bb7","b7","7","b9","9","#9","11","#11","b13","13"],core:["4","b9","9","#9","11","#11","b13","13"]},r=hK(e.normalized.intervals,n[t]);return Pr(r,["b3","3"])&&r.push(e.normalized.intents.major?"3":"b3"),Pr(r,["b5","5","#5"])&&r.push("5"),e.normalized.intervals=r,e.normalized.semitones=r.map(o=>qu[o]),e.normalized.intents.eleventh=!1,e.normalized.intents.alt=!1,t==="max"&&delete e.normalized.bassNote,Yl([Xx,Hx,Mg],e)}function gK(t,e,n){const{rootNote:r,bassNote:i}=n.normalized,o=U1(r);if(n.normalized.rootNote=j1(o,t,e),n.formatted.rootNote=n.normalized.rootNote,i){const s=U1(i);n.normalized.bassNote=j1(s,t,e),n.formatted.bassNote=n.normalized.bassNote}return Mg(n)}function j1(t,e,n){const i=Ol.indexOf(t)+e,o=Math.floor(i/12),s=i-o*12,l=Ol[s];return n==="flat"&&jx[l]||l}function U1(t){return $l[t]||t}const wh={german:{Ab:"As",A:"A","A#":"Ais",Bb:"Hes",B:"H",C:"C","C#":"Cis",Db:"Des",D:"D","D#":"Dis",Eb:"Es",E:"E",F:"F","F#":"Fis",Gb:"Ges",G:"G","G#":"Gis"},latin:{Ab:"Lab",A:"La","A#":"La#",Bb:"Sib",B:"Si",C:"Do","C#":"Do#",Db:"Reb",D:"Re","D#":"Re#",Eb:"Mib",E:"Mi",F:"Fa","F#":"Fa#",Gb:"Solb",G:"Sol","G#":"Sol#"}},yK=Object.keys(wh);function vK(t="english",e){const n=t==="auto"?e.input.notationSystem:t;return n==="english"?e:yK.includes(n)?(e.formatted.rootNote=wh[n][e.formatted.rootNote],e.formatted.bassNote&&(e.formatted.bassNote=wh[n][e.formatted.bassNote]),e):null}function iT(t){return t&&t.formatted&&t.formatted.symbol?t.formatted.symbol:null}function SK(t){delete t.parserConfiguration.notationSystems;const e=oe(t),n=iT(t),i=hf(t.parserConfiguration)(n);return e.input=i.input,e}function oT({accidental:t="original",customFilters:e=[],notationSystem:n="english",printer:r="text",simplify:i="none",transposeValue:o=0,useShortNamings:s=!1}={}){Dx(e);const l=[];return["max","core"].includes(i)&&l.push(mK.bind(null,i)),(t!=="original"||o!==0)&&l.push(gK.bind(null,o,t)),s&&l.push(iK),l.push(vK.bind(null,n),Wx,...e),a;function a(u){if(!bK(u))return null;const c=Yl(l,oe(u));return r==="raw"?SK(c):iT(c)}}const bK=t=>t&&typeof t=="object"&&!t.error&&t.input,sT=/([^\s]+)/g,Eh=/\[([^\]]*)]/g,lT=t=>{const e=t.trim().match(sT);return e?e.every(uT):!1},aT=t=>{const e=t.trim().match(Eh);return e?e.map(n=>n.replace(/[[\]]/g,"")).every(uT):!1};function uT(t){return!hf()(t).error}const cT=(t,e)=>{for(;t.length&&e(t[0]);)t.shift();for(;t.length&&e(t[t.length-1]);)t.pop();return t},wK={adlib:"a","ad-lib":"a","ad.lib.":"a",bridge:"b",chorus:"c",intro:"i",introduction:"i",outro:"o",prechorus:"p","pre-chorus":"p","pre chorus":"p",solo:"s",interlude:"u",verse:"v"},fT=t=>{let e="#";const n="(.*?)",r="([\\s]+[0-9]{1,2})?",i="([\\s]+[x][0-9]{1,2})?",o=new RegExp(`^${n}${r}${i}$`),[,s,,l]=t.trim().match(o),a=s.trim().toLowerCase();return e+=wK[a]||s.trim(),l&&(e+=" "+l.trim()),e},ft={EMPTY:"empty",DIRECTIVE:"directive",COMMENT:"comment",LYRICS:"lyrics",CHORDS_LYRICS:"chordsLyrics",SECTION_START:"sectionStart",SECTION_CLOSE:"sectionClose",SECTION_REPEAT:"sectionRepeat"},EK=["chorus","verse","bridge","comment","comment_italic","comment_bold","c","ci","cb"],CK=["start_of_chorus","start_of_verse","start_of_bridge","start_of_part","soc","sov","sob","sop"],xK=["end_of_chorus","end_of_verse","end_of_bridge","end_of_part","eoc","eov","eob","sop"],TK={chorus:"c",verse:"v",bridge:"b",start_of_chorus:"c",start_of_verse:"v",start_of_bridge:"b",start_of_part:"v",soc:"c",sov:"v",sob:"b",sop:"v",c:"c",ci:"c",cb:"c",comment:"c",comment_italic:"c",comment_bold:"c"},OK=t=>{const e=[],n=t.map(i=>$K(i)).filter(i=>NK(i)),r=IK(n);return r.forEach((i,o)=>{e.push(i.label),i.allLines.forEach(s=>{e.push(s)}),o<r.length-1&&e.push("")}),e.join(`
`)},$K=t=>{const e={content:t};if(kK(t))e.type=ft.COMMENT;else if(AK(t))e.type=ft.EMPTY;else if(PK(t)){const[n,r]=_K(t);e.key=n,e.value=r,CK.includes(n)?e.type=ft.SECTION_START:xK.includes(n)?e.type=ft.SECTION_CLOSE:EK.includes(n)?e.type=ft.SECTION_REPEAT:e.type=ft.DIRECTIVE}else if(aT(t)){e.type=ft.CHORDS_LYRICS;const[n,r]=MK(t);e.chords=n,e.lyrics=r}else e.type=ft.LYRICS;return e},kK=t=>{const e=/^#.*$/;return t.trim().match(e)!==null},AK=t=>t.trim()==="",dT=/^{([^:]+):?(.*)?}$/,PK=t=>t.trim().match(dT)!==null,_K=t=>{const e=t.trim().match(dT),n=e[1].trim(),r=e[2]?e[2].trim():void 0;return[n,r]},MK=t=>{const n=t.trim().match(Eh).map(i=>i.replace("[","").replace("]","")).join(" "),r=t.replace(Eh,"_");return[n,r]},NK=t=>![ft.COMMENT,ft.DIRECTIVE].includes(t.type),IK=t=>{let e=[],n;const r=()=>{n&&(e.push(n),n=void 0)},i=o=>{n={label:o?DK(o):"#v",allLines:[]}};return t.forEach(o=>{o.type===ft.SECTION_START?(r(),i(o)):o.type===ft.SECTION_CLOSE?r():o.type===ft.SECTION_REPEAT?(r(),i(o),r()):o.type===ft.EMPTY?n&&n.allLines.push(o.content):(n||i(),o.type===ft.CHORDS_LYRICS?(n.allLines.push(o.chords),n.allLines.push(o.lyrics)):n.allLines.push(o.content))}),r(),e.map(o=>(o.allLines=cT(o.allLines,s=>s===""),o))},DK=t=>{let e;return t.value?e=fT(t.value):e="#"+TK[t.key],e},RK=t=>{let n=0;return t.replace(/\t/g,(i,o)=>{let s=4-(o+n)%4;return n+=s-1," ".repeat(s)}).length},pi=(t,e,n)=>(n>t.length&&(t+=" ".repeat(n-t.length)),t.slice(0,n)+e+t.slice(n)),LK=t=>{const e=[];let n=[];return t.forEach(r=>{lT(r)?(e.push(zK(r)),n=jK(r)):(FK(r)?e.push(BK(r)):n.length&&r.trim()!==""?e.push(VK(r,n)):e.push(r),n=[])}),e.join(`
`)},pT=/^\[([^\]]+)]$/,FK=t=>{const e=t.trim().match(pT);return e!==null&&e[1].trim()!==""},BK=t=>{const e=t.trim().match(pT)[1];return fT(e)};function zK(t){return t.match(sT).join(" ")}function jK(t){const e=[];let n=0;const r=t.match(/([\s])+/g)||[],i=t.match(/([^\s])+/g);return UK(t)||r.unshift(""),WK(t)&&r.pop(),r.forEach((o,s)=>{const l=RK(" ".repeat(n)+o);e.push(l),n=l+i[s].length}),e}const UK=t=>hT(t.charAt(0)),WK=t=>hT(t.charAt(t.length-1)),hT=t=>t.match(/[\s]/),VK=(t,e)=>{const n="_";let r=t,i=0;return e.forEach(o=>{const s=Math.min(o+i,r.length+1);r=pi(r,n,s),i+=n.length}),r.replace(/[\s]+/g," ").trim()},ei={AUTO:"auto",CP:"chordPro",COL:"chordsOverLyrics"},dZ=(t,{inputFormat:e=ei.AUTO}={})=>{HK(e);const n=KK(t);let r=e;e===ei.AUTO&&(r=GK(n)?ei.CP:ei.COL);let i;switch(r){case ei.CP:i=OK;break;case ei.COL:i=LK;break}return i(n)},HK=t=>{if(!Object.values(ei).includes(t))throw new Error("unknown input format: "+t)},KK=t=>Ix(t).replace(/\r\n/g,`
`).replace(/\n\r/g,`
`).replace(/\r/g,`
`).replace(/\[\/?ch]/g,"").replace(/\[\/?tab]/g,"").split(`
`),GK=t=>{const e=t.filter(aT),n=t.filter(lT);return e.length>n.length};function qK(t){return kc.sanitize(t)}function mT(t){return kc.sanitize(t,{ALLOWED_TAGS:["#text"],KEEP_CONTENT:!0})}const G={CHORD:"chord",EMPTY_LINE:"emptyLine",KEY_DECLARATION:"keyDeclaration",LYRIC:"lyric",SECTION_LABEL:"sectionLabel",TIME_SIGNATURE:"timeSignature"};var YK=Fb,gT=/[\\^$.*+?()[\]{}|]/g,JK=RegExp(gT.source);function QK(t){return t=YK(t),t&&JK.test(t)?t.replace(gT,"\\$&"):t}var XK=QK;const Br=xe(XK);function rr(t){return t.replace(/\t+/g," ").replace(/  +/g," ").trim()}const ZK=["2/2","3/2","4/2","2/4","3/4","4/4","5/4","6/4","7/4","9/4","10/4","3/8","4/8","5/8","6/8","7/8","9/8","12/8"];function kl(t){return ZK.includes(t)}function Yu(t){if(!kl(t))throw new TypeError("Expected time signature string, received: "+t);const e=t.split("/"),n=Number.parseInt(e[0],10),r=Number.parseInt(e[1],10);let i=n;return r===2?i=n*2:r===8&&(i=n/3),{string:t,count:n,value:r,beatCount:i}}const fe={barRepeat:"%",chordBeatCount:".",chordLineRepeat:"%",chordPositionMarker:"_",lyricLine:":",keyDeclarationPrefix:"key ",noChord:"NC",sectionLabel:"#",subBeatOpener:"[",subBeatCloser:"]"},yT=Yu("4/4");function eG(t){return!hf()(t).error}const tG=new RegExp(Br(fe.chordBeatCount)+"*$","g"),nG=new RegExp("^"+Br(fe.barRepeat)+"+$");function rG(t=""){return rr(vT(t)).split(" ").every((e,n,r)=>{const i=ST(e);return eG(i)||e.match(nG)&&n>0||i===fe.noChord||kl(e)&&r.length>1})}const vT=t=>t.replaceAll("add ","add"),ST=t=>oG(iG(t)),iG=t=>t.replace(tG,""),oG=t=>{let e=t;return t.startsWith(fe.subBeatOpener)&&(e=e.substring(fe.subBeatOpener.length)),t.endsWith(fe.subBeatCloser)&&(e=e.substring(0,e.length-fe.subBeatCloser.length)),e};function sG(t){const e=rr(t);return e===fe.chordLineRepeat||e===fe.chordLineRepeat.repeat(2)}function W1(t){return rr(t)===""}const bT=new RegExp("^"+Br(fe.sectionLabel)+"([a-zA-Z]+)([1-9])?( x[1-9][0-9]?)?$");function Ju(t){return rr(t).match(bT)!==null}function lG(t,e={}){return hf({key:e.string})(t)}var aG=vn,uG=aG.isFinite;function cG(t){return typeof t=="number"&&uG(t)}var fG=cG;const To=xe(fG);class dG extends Error{constructor({string:e,duration:n,currentBeatCount:r,beatCount:i}={}){if(!e||!jo(e))throw new TypeError("InvalidBeatCountException cannot be created without chord string, received: "+e);if(!n||!To(n))throw new TypeError("InvalidBeatCountException cannot be created without chord duration, received: "+n);if(!r||!To(r))throw new TypeError("InvalidBeatCountException cannot be created without currentBeatCount, received: "+r);if(!i||!To(i))throw new TypeError("InvalidBeatCountException cannot be created without beatCount, received: "+i);super(),this.name="InvalidBeatCountException",this.string=e,this.duration=n,this.currentBeatCount=r,this.beatCount=i}}class pG extends Error{constructor({string:e}={}){if(!e||!jo(e))throw new TypeError("InvalidChordRepetitionException cannot be created without chord string, received: "+e);super(),this.name="InvalidChordRepetitionException",this.string=e}}class Qs extends Error{constructor({chordLine:e,symbol:n,position:r}={}){if(!e||!jo(e))throw new TypeError("InvalidSubBeatGroupException cannot be created without a chordLine, received: "+e);if(!n||!jo(n))throw new TypeError("InvalidSubBeatGroupException cannot be created without symbol, received: "+n);if(!To(r))throw new TypeError("InvalidSubBeatGroupException cannot be created without symbol position, received: "+r);super(),this.name="InvalidSubBeatGroupException",this.chordLine=e,this.symbol=n,this.position=r}}class hG extends Error{constructor({string:e}={}){if(!e||!jo(e))throw new TypeError("InvalidBarRepeatException cannot be created without chord string, received: "+e);super(),this.name="InvalidBarRepeatException",this.string=e}}const mG=new RegExp(Br(fe.chordBeatCount),"g"),gG=new RegExp("^"+Br(fe.barRepeat)+"+$");function yG(t,{timeSignature:e=yT,originalKey:n={}}={}){let{beatCount:r}=e;const i=[],o={allChords:[]},s={};let l=oe(o),a={},u,c=0,f,d=!1,p=0,h=!1;_G(t);const v=rr(vT(t)).split(" ");return v.forEach((x,P)=>{x.match(gG)?S(x):kl(x)?m(x):(y(x),xG(c,r)?C():TG(a,c,r,v.length===P+1))}),PG(i,s),{allBars:i,originalKey:n};function S(x){if(c===0&&f&&ol(e,f.timeSignature)){const P=oe(f);P.isRepeated=!0;for(let b=0;b<x.length;b++)i.push(oe(P))}else throw new hG({string:t})}function m(x){e=Yu(x),r=e.beatCount,h=!0}function y(x){x.startsWith(fe.subBeatOpener)&&(d=!0),d&&(vG(t,x),g()),u=ST(x),a={string:x,duration:wG(x,r,d),model:bG(u)?fe.noChord:lG(u,n),beat:c+1,isInSubBeatGroup:d},c+=a.duration,EG(l,a),l.allChords.push(a),x.endsWith(fe.subBeatCloser)&&(w(x),d=!1,p++,c+=1)}function g(){s[p]?s[p]++:s[p]=1}function w(x){if(s[p]===1||s[p]>4)throw new Qs({chordLine:t,symbol:x,position:0})}function C(){l.timeSignature=e,l.lineHadTimeSignatureChange=h,l.hasUnevenChordsDurations=AG(l);const x=oe(l);l.isRepeated=ol(l,f),i.push(oe(l)),f=x,l=oe(o),c=0}}function vG(t,e){if(SG(e))throw new Qs({chordLine:t,symbol:e,position:0})}function SG(t){return t.indexOf(fe.chordBeatCount)>-1}function bG(t){return t===fe.noChord}function wG(t,e,n){return n?0:(t.match(mG)||[]).length||e}function EG(t,e){if(t.allChords.length>0){const n=t.allChords[t.allChords.length-1];if(ol(n.model,e.model)&&!CG(n,e))throw new pG({string:e.string})}}function CG(t,e){return e.string.startsWith(fe.subBeatOpener)||t.string.endsWith(fe.subBeatCloser)&&!e.model.isInSubBeatGroup}function xG(t,e){return t===e}function TG(t,e,n,r){if(OG(e,n,r))throw new dG({string:t.string,duration:t.duration,currentBeatCount:e,beatCount:n})}function OG(t,e,n){return $G(t,e)||kG(t,e,n)}function $G(t,e){return t>e}function kG(t,e,n){return n&&t<e}function AG(t){let e=t.allChords[0].duration;return t.allChords.some(n=>n.duration!==e)}function PG(t,e){let n=-1,r=0,i="";t.forEach((o,s)=>{o.allChords.forEach(l=>{if(l.isInSubBeatGroup){const a=s+l.beat;a!==i&&(n++,r=0);const u=(1/e[n]).toPrecision(2);l.duration=Number.parseFloat(u),l.isFirstOfSubBeat=r===0,l.isLastOfSubBeat=r===e[n]-1,i=a,r++}})})}function _G(t){const e={};let n=!1,r;const i=new RegExp(Br(fe.subBeatOpener)+"|"+Br(fe.subBeatCloser),"g");for(;r=i.exec(t);){const o=r[0];if(e.chordLine=t,e.symbol=o,e.position=i.lastIndex-1,r[0]===fe.subBeatOpener){if(n)throw new Qs(e);n=!0}else{if(!n)throw new Qs(e);n=!1}}if(n)throw new Qs(e)}const hr="A,A#,B,C,C#,D,D#,E,F,F#,G,G#".split(","),MG="Ab,Bb,Db,Eb,Gb".split(","),V1=[...hr,...MG],NG=[...V1,...V1.map(t=>t+"m")],Qu={Ab:"G#",Bb:"A#",Db:"C#",Eb:"D#",Gb:"F#"},IG=Rx(Qu);function DG(t){return NG.includes(t)}function Fg(t){return["G","Em","D","Bm","A","F#m","E","C#m","B","G#m","F#","D#m","C#","A#m","G#","D#","A#"].includes(t)?"sharp":"flat"}function H1(t,e,n){const r={"G#":"Ab","D#":"Eb","A#":"Bb",Dbm:"C#m",Gbm:"F#m"};let i;if(e===0&&n==="auto")i=t.string;else{const s=n==="auto"?e<0?"flat":"sharp":n;i=RG(t.string,e,s)}const o=n==="auto"&&r[i]?r[i]:i;return{string:o,accidental:Fg(o)}}function RG(t,e,n){const r=t.endsWith("m"),i=t.replace("m",""),o=Qu[i]||i;let l=hr.indexOf(o)+e;l<0?l+=hr.length:l>=hr.length&&(l-=hr.length);const a=hr[l],u=n==="flat"&&IG[a]||a;return r?u+"m":u}function LG(t){const e=FG(t);return e?{string:e,accidental:Fg(e)}:void 0}function FG(t){const e=BG(t);if(e.length===0)return;if(e.length===1)return e[0].keyString;const n=e.find(i=>i.isLast===!0);if(n)return n.keyString;const r=e.find(i=>i.isFirst===!0);return r?r.keyString:e[0].keyString}function BG(t){let e=0,n=[];const r=[];return oe(t).map(i=>(i.keyString=zG(i),i)).forEach(i=>{const o=qx(r,s=>s.keyString===i.keyString);o===-1?r.push(i):(r[o].duration+=i.duration,i.isLast&&(r[o].isLast=!0))}),r.map(i=>(i.isLast&&(i.duration*=1.25),i.isFirst&&(i.duration*=1.25),i)).forEach(i=>{i.duration>e?(n=[i],e=i.duration):i.duration===e&&n.push(i)}),n}function zG(t){const e=oe(t.model),n=["major","major6","major7","dominant7","augmented","power","bass"];let r=e.formatted.rootNote;return n.includes(e.normalized.quality)||(r+="m"),r}function jG(t,e){return!t||!e?0:UG(t.replace("m",""),e.replace("m",""))}function UG(t,e){const n=Qu[t]||t,r=Qu[e]||e,i=hr.indexOf(n),o=hr.indexOf(r);if(i===-1||o===-1)return 0;const s=o-i;return s<0?s+12:s}const wT=new RegExp("^"+Br(fe.keyDeclarationPrefix)+"([ABCDEFG].*)$");function Ch(t){const e=rr(t).match(wT);return e===null?!1:DG(e[1])}function WG(t){if(!Ch(t))throw new TypeError("Expected key declaration, received: "+t);const n=rr(t).match(wT)[1];return{string:n,accidental:Fg(n)}}function VG(t){const e=t.startsWith(fe.lyricLine)?t.substring(1):t,n=new RegExp(fe.chordPositionMarker,"g"),r=e.replace(n,""),i=[];let o=e,s;for(;(s=o.indexOf(fe.chordPositionMarker))!==-1;)i.includes(s)||i.push(s),o=o.replace(fe.chordPositionMarker,"");return{lyrics:r,chordPositions:i}}function HG(t){if(!Ju(t))throw new TypeError("Expected section identifier string, received: "+t);const e=rr(t).match(bT);return{string:t,label:e[1],copyIndex:e[2]?Number.parseInt(e[2]):1,multiplyTimes:e[3]?Number.parseInt(e[3].replace(" x","")):0}}function KG(t,e){const n=oe(t);return n.forEach(r=>{r.type===G.CHORD&&r.model.allBars.forEach(i=>{i.allChords.forEach(o=>{e(o)})})}),n}function K1(t,e){const n=oe(t);return n.allBars.forEach((r,i)=>{r.allChords.forEach((o,s)=>{e(o,s,i)})}),n}function kd(t,e,n){const r=[],i={};let o=!1,s="";for(t.forEach(l=>{l.type===G.SECTION_LABEL?(s=l.model.label,i[s]?i[s]++:i[s]=1,o=l.id===e+n):o&&r.push(l)});xo(r)&&(xo(r).type===G.KEY_DECLARATION||xo(r).type===G.TIME_SIGNATURE);)r.pop();return r}const GG="4/4";function qG(){const t=[],e={};let n=Yu(GG),r,i,o={};const s=2;let l=[],a,u=[],c=0,f=!1,d=!1;function p($){return n=Yu($),{string:$,type:G.TIME_SIGNATURE,model:n}}function h($){return o=WG($),{string:$,type:G.KEY_DECLARATION,model:oe(o)}}function v($,T,k){r=HG($),C(r.label),i=x(r.label);const U={string:$,type:G.SECTION_LABEL,model:r,index:i.count,indexWithoutMultiply:i.withoutMultiply,id:r.label+i.count};return d=I(T,k)&&i.count>1,d&&(U.isFromSectionCopy=!0),f=r.multiplyTimes>0,a=oe(U),u=i.count>1?kd(t,r.label,1):[],c=0,U}function S($){return{string:$,type:G.EMPTY_LINE}}function m($){let T;try{const k=yG($,{timeSignature:n,originalKey:o});T={string:$,type:G.CHORD,model:k},y(T)}catch{T=w($)}return T}function y($){l.length>=s&&l.shift(),l.push($)}function g($){const T=rr($),k=-T.length,U=k<-1?k+1:void 0;return l.length>=T.length?{...oe(...l.slice(k,U)),isFromChordLineRepeater:!0}:w($)}function w($){return{string:$,type:G.LYRIC,model:VG($)}}function C($,T=!1){e[$]?(e[$].count++,T||e[$].withoutMultiply++):e[$]={count:1,withoutMultiply:1}}function x($){return e[$]}function P($){if(u.length&&$.type!==G.SECTION_LABEL){let T=u[c],k;for(;b(T,$);)T.type===G.CHORD&&y(oe(T)),k={...oe(T),isFromAutoRepeatChords:!0},t.push(k),c++,T=u[c];c++}}function b($,T){const k=[G.LYRIC,G.EMPTY_LINE];return $&&!k.includes($.type)&&$.type!==T.type&&T.type!==G.EMPTY_LINE}function A(){if(d){const $=kd(t,r.label,r.copyIndex).map(T=>({...oe(T),isFromSectionCopy:!0}));if(!$.length)return;QG($)&&$.pop(),t.push(...oe($)),d=!1}}function I($,T){const k=T.slice($+1);let U=k.findIndex(De=>Ju(De));return U===0?!0:k.slice(0,U!==-1?U:void 0).filter(De=>!(kl(De)||Ch(De)||W1(De))).length===0}function M($,T){if(f&&YG($,T)){const k=kd(t,r.label,i.count).map(ie=>({...oe(ie),isFromSectionMultiply:!0}));let U;for(let ie=1;ie<r.multiplyTimes;ie++)C(r.label,!0),i=x(r.label),U={...oe(a),index:i.count,indexWithoutMultiply:i.withoutMultiply,id:r.label+i.count,isFromSectionMultiply:!0},t.push(U),t.push(...oe(k))}}return{addLine($,T,k){let U;kl($)?U=p($):Ju($)?U=v($,T,k):rG($)?U=m($):sG($)?U=g($):W1($)?U=S($):Ch($)?U=h($):U=w($),P(U),t.push(U),A(),M(T,k)},asArray(){return oe(t)},flagPositionedChords(){let $,T;t.forEach((k,U)=>{$=t[U+1],JG(k,$)?(T=0,k.model.hasPositionedChords=!0,k.model=K1(k.model,ie=>{ie.isPositioned=T<$.model.chordPositions.length,T++})):k.type===G.CHORD&&(k.model.hasPositionedChords=!1,k.model=K1(k.model,ie=>{ie.isPositioned=!1}))})}}}function YG(t,e){const n=e[t+1];return typeof n>"u"||Ju(n)}function JG(t,e){return t.type===G.CHORD&&e&&e.type===G.LYRIC&&e.model.chordPositions.length>0}function QG(t){return t[t.length-1].type===G.EMPTY_LINE}function XG(t){const e=[];let n;return KG(t,r=>{r.model!==fe.noChord&&(n=qx(e,i=>ol(yh(i.model,["numeral"]),yh(r.model,["numeral"]))),n===-1?(e.push({model:oe(r.model),occurrences:1,duration:r.duration}),n=e.length-1):(e[n].occurrences++,e[n].duration+=r.duration))}),e.length&&(e[0].isFirst=!0,e[n].isLast=!0),e}function ZG(t,e){const n={auto:void 0,explicit:[]};if(t.forEach(r=>{r.type===G.KEY_DECLARATION&&n.explicit.push(oe(r.model))}),n.explicit.length===0){const r=LG(e);r&&(n.auto=r)}return n}function pZ(t){const e=Gh(t)?t:t.split(`
`),n=qG();e.map(qK).map(mT).forEach(n.addLine),n.flagPositionedChords();const r=n.asArray(),i=XG(r),o=ZG(r,i);return{allLines:r,allChords:i,allKeys:o}}const re={barRepeat:"%",barSeparator:"|",chordBeat:".",chordLineOffsetSpacer:" ",emptyBeatSpaces:1,keyDeclarationPrefix:"key: ",lyricsSpacer:" ",noChordSymbol:"NC",spacesAfterDefault:2,spacesAfterSubBeatDefault:1,spacesAfterTimeSignature:1,subBeatGroupOpener:"[",subBeatGroupCloser:"]"};function ET(t,e,{shouldPrintSubBeatDelimiters:n=!0,symbolType:r="chord"}={}){const i=t.allChords.filter(o=>o.beat===e);switch(i.length){case 0:return"";case 1:return xh(t,i[0],{shouldPrintSubBeatDelimiters:n,symbolType:r});default:return i.reduce((o,s,l)=>{const a=l>0?" ".repeat(re.spacesAfterSubBeatDefault):"";return o+a+xh(t,s,{shouldPrintSubBeatDelimiters:n,symbolType:r})},"")}}function xh(t,e,{shouldPrintSubBeatDelimiters:n,symbolType:r="chord"}){const o=r==="chord"||e.model===re.barRepeat||e.model===re.noChordSymbol?e.symbol:e.model.numeral.symbol;if(e.isInSubBeatGroup)return n&&e.isFirstOfSubBeat?re.subBeatGroupOpener+o:n&&e.isLastOfSubBeat?o+re.subBeatGroupCloser:o;{const s=t.shouldPrintChordsDuration?re.chordBeat.repeat(e.duration):"";return o+s}}function eq(t,{shouldAlignChordsWithLyrics:e,shouldPrintSubBeatDelimiters:n=!0,symbolType:r="chord"}){const i=[];return t.filter(o=>o.type===G.CHORD).filter(o=>!e(o)).forEach(o=>{o.model.allBars.filter(s=>!s.lineHadTimeSignatureChange).forEach((s,l)=>{if(!i[l]){i[l]={};for(let a=1;a<=s.timeSignature.beatCount;a++)i[l][a]=0}s.allChords.filter(a=>!a.isInSubBeatGroup||a.isLastOfSubBeat).forEach(a=>{const u=ET(s,a.beat,{shouldPrintSubBeatDelimiters:n,symbolType:r});i[l][a.beat]=Math.max(i[l][a.beat],u.length)})})}),i}function tq(t){const e=oe(t);return e.allBars.forEach(n=>{CT(n)}),e}function CT(t){t.allChords.forEach(e=>{e.spacesAfter=e.isInSubBeatGroup&&!e.isLastOfSubBeat?re.spacesAfterSubBeatDefault:re.spacesAfterDefault,e.spacesWithin=0})}function nq(t,e,{shouldPrintBarSeparators:n=!0,shouldPrintSubBeatDelimiters:r=!0,symbolType:i="chord"}){const o=oe(t);return o.allBars.forEach((s,l)=>{s.lineHadTimeSignatureChange?CT(s):s.allChords.forEach(a=>{const u=ET(s,a.beat,{shouldPrintSubBeatDelimiters:r,symbolType:i});a.isInSubBeatGroup&&!a.isLastOfSubBeat?(a.spacesWithin=0,a.spacesAfter=re.spacesAfterSubBeatDefault):(a.spacesWithin=e[l][a.beat]-u.length,a.spacesAfter=0),rq(s,a)&&(a.spacesAfter=re.spacesAfterDefault+iq(s,a,e[l])),oq(s,a,n)&&(a.spacesAfter=re.spacesAfterDefault)})}),o}const rq=(t,e)=>(!e.isInSubBeatGroup||e.isLastOfSubBeat)&&!xT(t,e),iq=(t,e,n)=>{let r=0;for(let i=e.beat+1;i<e.beat+e.duration;i++){const o=n[i];r+=o||re.emptyBeatSpaces,i!==t.timeSignature.beatCount&&o&&(r+=re.spacesAfterDefault)}return r},xT=(t,e)=>e.beat===t.timeSignature.beatCount,oq=(t,e,n)=>!n&&xT(t,e)&&(!e.isInSubBeatGroup||e.isLastOfSubBeat),Ad=1;function sq(t,e,{shouldPrintBarSeparators:n=!0,shouldPrintSubBeatDelimiters:r=!0,shouldPrintInlineTimeSignatures:i=!0,symbolType:o="chord"}={}){if(lq(e))return{chordLine:t,lyricsLine:e};const s=oe(t),l=oe(e),a=l.chordPositions.map((m,y,g)=>l.lyrics.substring(m,g[y+1]));let u="",c="",f,d;if(s.allBars.forEach((m,y)=>{m.allChords.forEach((g,w,C)=>{if(d=a.shift(),d){u=w===0&&i&&m.shouldPrintBarTimeSignature?m.timeSignature.string+re.spacesAfterTimeSignature:"";const x=y===0&&w===0&&l.chordPositions[0]===0;f=p(m,g,x),d=h(x,g.isFirstOfSubBeat);const P=w===C.length-1,b=C[w+1]&&C[w+1].isFirstOfSubBeat;if(d.length-f.length>0){const A=a.length===0;g.spacesAfter=v(P,A,b)}else g.spacesAfter=Ad,d+=re.lyricsSpacer.repeat(S(P,b));c+=d}else g.spacesAfter=Ad;g.spacesWithin=0})}),aq(l)){const m=l.chordPositions[0];s.offset=m,n&&s.offset--,c=l.lyrics.substring(0,m)+c}return a.length&&(c+=a.join("")),l.lyrics=uq(c),{chordLine:s,lyricsLine:l};function p(m,y,g){let w=u+xh(m,y,{shouldPrintSubBeatDelimiters:y.isLastOfSubBeat&&r,symbolType:o});return g&&(r&&y.isFirstOfSubBeat&&(w=re.subBeatGroupOpener+w),n&&(w=re.barSeparator+w)),w}function h(m,y){let g=d;if(cq(g))g=re.lyricsSpacer.repeat(f.length-1)+g;else{if(m){let w=0;n&&w++,r&&y&&w++,g=re.lyricsSpacer.repeat(w)+g}u.length&&(g=" ".repeat(u.length)+g)}return g}function v(m,y,g){let w=d.length-f.length;return(m&&n&&!y||!m&&r&&g)&&(w>1?w-=1:d+=re.lyricsSpacer),w}function S(m,y){let g=f.length-d.length+Ad;return(m&&n||y)&&g++,g}}const lq=t=>t.chordPositions.length===0,aq=t=>t.chordPositions[0]>0,uq=t=>{const e=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;return t.replace(e,"")},cq=t=>t.indexOf(" ")===0,fq=({chordLineOffset:t,chordLine:e,symbolType:n})=>{const r=["cmChordLine"];return n==="roman"&&r.push("cmChordLine-romanNumeral"),`<span class="${r.join(" ")}">${t?`<span class="cmChordLineOffset">${t}</span>`:""}${e}</span>`},dq=({chordSymbol:t,chordDuration:e,subBeatGroupOpener:n,subBeatGroupCloser:r,numeralType:i})=>{const o=n?`<span class="cmSubBeatGroupOpener">${n}</span>`:"",s=r?`<span class="cmSubBeatGroupCloser">${r}</span>`:"",l=["cmChordSymbol"];return i&&l.push("cmRomanNumeral",`cmRomanNumeral-${i}`),`${o}<span class="${l.join(" ")}">${t}${e?`<span class="cmChordDuration">${e}</span>`:""}</span>${s}`};function pq(t,{shouldPrintChordsDuration:e=!1,shouldPrintSubBeatOpener:n=!1,shouldPrintSubBeatCloser:r=!1,symbolType:i="chord"}){const o=i==="chord"||t.model===re.barRepeat||t.model===re.noChordSymbol,s=o?t.symbol:t.model.numeral.symbol;return dq({chordSymbol:s,chordDuration:e?re.chordBeat.repeat(t.duration):!1,subBeatGroupOpener:n?re.subBeatGroupOpener:"",subBeatGroupCloser:r?re.subBeatGroupCloser:"",numeralType:o?"":t.model.numeral.type})}const hq=({timeSignature:t})=>`<span class="cmTimeSignature">${t}</span>`;function TT(t){return hq({timeSignature:t.string})}const mq=({barContent:t})=>`${t}`,G1=" ",gq=0,yq=2;function vq(t,e=!1,{shouldPrintBarSeparators:n=!0,shouldPrintSubBeatDelimiters:r=!0,shouldPrintTimeSignature:i=!1,symbolType:o="chord"}={}){let s=0,l=0,a="";return i&&(a+=TT(t.timeSignature)+" ".repeat(re.spacesAfterTimeSignature)),a+=t.allChords.reduce((u,c,f)=>{s=To(c.spacesWithin)?c.spacesWithin:gq,l=To(c.spacesAfter)?c.spacesAfter:yq,u+=pq(c,{shouldPrintChordsDuration:c.isInSubBeatGroup?!1:t.shouldPrintChordsDuration,shouldPrintSubBeatOpener:r&&c.isFirstOfSubBeat,shouldPrintSubBeatCloser:r&&c.isLastOfSubBeat,symbolType:o}),d()&&(u+=G1.repeat(s)+G1.repeat(l));function d(){const p=Sq(t,f)&&e;return!p||p&&n}return u},""),mq({barContent:a})}function Sq(t,e){return!t.allChords[e+1]}const bq=({barSeparator:t})=>`<span class="cmBarSeparator">${t}</span>`;function wq(t,{shouldPrintBarSeparators:e=!0,shouldPrintSubBeatDelimiters:n=!0,shouldPrintInlineTimeSignatures:r=!0,symbolType:i="chord"}={}){const o=t.allBars.map((u,c)=>{const f=!t.allBars[c+1],d=r&&u.shouldPrintBarTimeSignature;return vq(u,f,{shouldPrintBarSeparators:e,shouldPrintSubBeatDelimiters:n,shouldPrintTimeSignature:d,symbolType:i})}),s=e?bq({barSeparator:re.barSeparator}):"",l=s+o.join(s)+s,a=re.chordLineOffsetSpacer.repeat(t.offset||0);return fq({chordLineOffset:a,chordLine:l,symbolType:i})}const Eq=({chordLyricsPairs:t})=>{let e='<span class="cmChordLyricLine">';return t.forEach(n=>{e+=`<span class="cmChordLyricPair"><span class="cmChordLine">${n.chords||"&nbsp;"}</span><span class="cmLyricLine">${n.lyrics}</span></span>`}),e+="</span>",e};var Cq=xc,xq=Ig,Tq=Dg,Oq=Ii,$q=Zo,q1=Tc,kq=Math.min;function Aq(t,e,n){for(var r=n?Tq:xq,i=t[0].length,o=t.length,s=o,l=Array(o),a=1/0,u=[];s--;){var c=t[s];s&&e&&(c=Oq(c,$q(e))),a=kq(c.length,a),l[s]=!n&&(e||i>=120&&c.length>=120)?new Cq(s&&c):void 0}c=t[0];var f=-1,d=l[0];e:for(;++f<i&&u.length<a;){var p=c[f],h=e?e(p):p;if(p=n||p!==0?p:0,!(d?q1(d,h):r(u,h,n))){for(s=o;--s;){var v=l[s];if(!(v?q1(v,h):r(t[s],h,n)))continue e}d&&d.push(h),u.push(p)}}return u}var Pq=Aq,_q=gc;function Mq(t){return _q(t)?t:[]}var Nq=Mq,Iq=Ii,Dq=Pq,Rq=qo,Lq=Nq,Fq=Rq(function(t){var e=Iq(t,Lq);return e.length&&e[0]===t[0]?Dq(e):[]}),Bq=Fq;const zq=xe(Bq);function jq(t){return kc.sanitize(t,{RETURN_DOM_FRAGMENT:!0}).firstChild}const Uq=["cmChordSymbol","cmTimeSignature","cmBarSeparator","cmSubBeatGroupOpener","cmSubBeatGroupCloser"];function Wq(t,e){const n=Vq(t),r=Hq(e),i=Kq(n,r),o=Gq(i,n,r);return Eq({chordLyricsPairs:o})}function Vq(t){const e=jq(t),n=[];return OT(e,n,{i:0}),n}function OT(t,e,n){t.childNodes.forEach(r=>{if(r.nodeType===Node.TEXT_NODE){const i=r.textContent;for(const o of i)e.push(Xs(o,n.i)),n.i++}else Uq.includes(r.classList.value)?(e.push(Xs(r.textContent,n.i,r.outerHTML)),n.i+=r.textContent.length):OT(r,e,n)})}function Xs(t,e,n){return{text:t,textIndex:e,html:n}}function Hq(t){const e=[],n=mT(t);let r="";return Array.from(n).forEach((i,o)=>{i===" "?(r&&(e.push(Xs(r,o-r.length)),r=""),e.push(Xs(" ",o))):r+=i}),e.push(Xs(r,n.length-r.length)),e}function Kq(t,e){const n=Y1(t),r=Y1(e),i=zq(n,r);let o,s;xo(n)>xo(r)?(s=n,o=r):(s=r,o=n);const l=s.filter(a=>a>xo(o));return l.length&&i.push(...l),i.shift(),i}function Y1(t){const e=t.map(r=>r.textIndex),n=t.reduce((r,i)=>r+i.text,"").length;return e.push(n),e}function Gq(t,e,n){const r=[];return t.forEach(i=>{let o="",s="";for(;e.length&&e[0].textIndex<i;){const l=e.shift();o+=l.html||l.text}for(;n.length&&n[0].textIndex<i;){const l=n.shift();s+=l.text}r.push({chords:o,lyrics:s})}),r}const qq=()=>'<span class="cmEmptyLine">&nbsp;</span>';function Yq(){return qq()}const Jq=({keyDeclarationPrefix:t,key:e})=>`<span class="cmKeyDeclaration">${t}${e}</span>`;function Qq(t){return Jq({keyDeclarationPrefix:re.keyDeclarationPrefix,key:t.symbol})}const Xq=({line:t,lineClasses:e,shouldOpenSection:n,sectionWrapperClasses:r,shouldClosePriorSection:i,shouldCloseFinalSection:o})=>{let s="";return i&&(s+="</div>"),n&&(s+=`<div class="${r}">`),s+=`<p class="${e}">${t}</p>`,o&&(s+="</div>"),s};function Zq(t,{isFromAutoRepeatChords:e=!1,isFromChordLineRepeater:n=!1,isFromSectionCopy:r=!1,isFromSectionMultiply:i=!1,shouldOpenSection:o=!1,shouldClosePriorSection:s=!1,shouldCloseFinalSection:l=!1,sectionWrapperClasses:a=[]}={}){const u=["cmLine"];return e&&u.push("cmLine--isFromAutoRepeatChords"),n&&u.push("cmLine--isFromChordLineRepeater"),r&&u.push("cmLine--isFromSectionCopy"),i&&u.push("cmLine--isFromSectionMultiply"),Xq({line:t,lineClasses:u.join(" "),shouldOpenSection:o,sectionWrapperClasses:a.join(" "),shouldClosePriorSection:s,shouldCloseFinalSection:l})}const eY=({lyricLine:t})=>`<span class="cmLyricLine">${t}</span>`;function tY(t,{alignChordsWithLyrics:e=!1,chartType:n="all"}={}){const r=nY(e,n)?t.model.lyrics.trim():t.model.lyrics;return eY({lyricLine:r})}const nY=(t,e)=>!t||e==="lyrics",rY=({label:t,multiplier:e})=>`<span class="cmSectionLabel">${t}${e?`<span class="cmSectionMultiplier"> ${e}</span>`:""}</span>`;function iY(t){return rY(t.model.rendered)}const oY=({song:t})=>`<div class="cmSong">${t}</div>`,J1={a:"adlib",b:"bridge",c:"chorus",i:"intro",o:"outro",p:"pre-chorus",s:"solo",u:"interlude",v:"verse"};function sY(t,{expandSectionMultiply:e}){const n=lY(t);return t.forEach(r=>{if(r.type===G.SECTION_LABEL){const{model:i,index:o,indexWithoutMultiply:s}=r,l=J1[i.label]?J1[i.label]:i.label;let a=l[0].toUpperCase()+l.substring(1),u;n[i.label]>1&&(a+=" ",a+=e?o:s),!e&&i.multiplyTimes&&(u="x"+i.multiplyTimes),r.model.rendered={label:a,multiplier:u}}}),t}function lY(t){const e={};return t.filter(n=>n.type===G.SECTION_LABEL).forEach(n=>{e[n.model.label]?e[n.model.label]++:e[n.model.label]=1}),e}const aY=oT();function uY(t,e=aY){switch(t){case fe.noChord:return re.noChordSymbol;case re.barRepeat:return re.barRepeat;default:return e(t)}}function cY(t,e,{transposeValue:n,accidentalsType:r,chordSymbolRenderer:i,simplifyChords:o,useShortNamings:s}){let l,a;e&&(l=H1(e,n,r));let u=d();function c(p){if(p.type===G.KEY_DECLARATION)l=H1(p.model,n,r),p.symbol=l.string,a||(a=l);else if(p.type===G.CHORD){let h=0;f(p)&&(h=jG(a&&a.string,l&&l.string)),u=d(h),p.model.allBars.forEach(v=>{v.allChords.forEach(S=>{S.symbol=uY(S.model,u)})})}return p}function f(p){const h=l&&p.model.originalKey&&p.model.originalKey.string===l.string;return(p.isFromAutoRepeatChords||p.isFromSectionCopy||p.isFromChordLineRepeater)&&!h}function d(p){if(typeof i=="function")return i;const h=r==="auto"?l?l.accidental:"sharp":r;return oT({simplify:o,useShortNamings:s,transposeValue:n+p,accidental:h})}return t.map(c)}const fY=(t,{alignChordsWithLyrics:e})=>(t.type===G.CHORD&&t.model.allBars.forEach(n=>{dY(t,n,e)&&(n.allChords=[{string:re.barRepeat,model:re.barRepeat,symbol:re.barRepeat,duration:n.timeSignature.beatCount,beat:1}],n.shouldPrintChordsDuration=!1)}),t),dY=(t,e,n)=>e.isRepeated&&!pY(t,e,n),pY=(t,e,n)=>n&&t.model.hasPositionedChords&&e.allChords.length>1&&e.allChords.some(r=>r.isPositioned);function hZ(t,{accidentalsType:e="auto",alignBars:n=!0,alignChordsWithLyrics:r=!0,autoRepeatChords:i=!0,chartType:o="all",chordSymbolRenderer:s=!1,customRenderer:l=!1,expandSectionCopy:a=!0,expandSectionMultiply:u=!1,printChordsDuration:c="uneven",printBarSeparators:f="always",printSubBeatDelimiters:d=!0,printInlineTimeSignatures:p=!0,simplifyChords:h="none",symbolType:v="chord",transposeValue:S=0,useShortNamings:m=!0,wrapChordLyricLines:y=!1}={}){let{allLines:g,allKeys:w}=t,C=!1,x=yT.string,P;g=cY(g,w.auto,{transposeValue:S,accidentalsType:e,chordSymbolRenderer:s,simplifyChords:h,useShortNamings:m}).map(M).map($).filter(k).map(L=>fY(L,{alignChordsWithLyrics:r}));const b=eq(g,{shouldAlignChordsWithLyrics:q,shouldPrintSubBeatDelimiters:d,symbolType:v});g=sY(g,{expandSectionMultiply:u}),g.forEach(B);const A=W();if(l)return l(g,A,{alignChordsWithLyrics:r,alignBars:n});return oY({song:A.join("")});function I(L){return["cmSection","cmSection-"+L.model.rendered.label.replace(/[\d\s]/gi,"")]}function M(L){return L.type===G.CHORD&&L.model.allBars.forEach(Q=>{Q.shouldPrintChordsDuration=T(Q)}),L}function $(L){return L.type===G.TIME_SIGNATURE?x=L.string:L.type===G.CHORD&&L.model.allBars.forEach((Q,X)=>{Q.shouldPrintBarTimeSignature=X===0&&Q.timeSignature.string!==x||X>0&&Q.timeSignature.string!==P,P=Q.timeSignature.string}),L}function T(L){return L.allChords.length>1&&(c==="uneven"&&L.hasUnevenChordsDurations||c==="always")}function k(L){return U(L)&&!De(L)}function U(L){const Q=!i&&(L.isFromAutoRepeatChords||L.type===G.CHORD&&L.isFromSectionCopy),X=L.isFromSectionMultiply&&!u,Ae=L.type!==G.SECTION_LABEL&&L.isFromSectionCopy&&!a;return!X&&!Q&&!Ae}function ie(L){return g.length-1===L}function De(L){if(o==="chordsFirstLyricLine"){if(L.type===G.SECTION_LABEL)return C=!0,!1;if(C&&L.type===G.LYRIC)return C=!1,!1}return["chords","chordsFirstLyricLine"].includes(o)&&L.type===G.LYRIC||o==="lyrics"&&L.type===G.CHORD}function B(L,Q){if(L.type===G.CHORD){let X=n&&!q(L)?nq(L.model,b,{shouldPrintBarSeparators:ce(L.model),shouldPrintSubBeatDelimiters:d,symbolType:v}):tq(L.model);const Ae=g[Q+1];if(q(L)){const{chordLine:ge,lyricsLine:Dn}=sq(X,Ae.model,{shouldPrintBarSeparators:ce(L.model),shouldPrintSubBeatDelimiters:d,shouldPrintInlineTimeSignatures:p,symbolType:v});g[Q+1].model=Dn,X=ge}g[Q].model=X}}function W(){let L=!1,Q;return g.map((X,Ae)=>{let ge,Dn=!1,Sn=[],Pt;return X.type===G.CHORD?(ge=wq(X.model,{symbolType:v,shouldPrintBarSeparators:ce(X.model),shouldPrintSubBeatDelimiters:d,shouldPrintInlineTimeSignatures:p}),Y(X,g[Ae+1])&&(Q=ge,ge=!1)):X.type===G.EMPTY_LINE?ge=Yq():X.type===G.SECTION_LABEL?(Dn=!0,Pt=L,L=!0,Sn=I(X),ge=iY(X)):X.type===G.TIME_SIGNATURE?ge=TT(X):X.type===G.KEY_DECLARATION?ge=Qq(X):(ge=tY(X,{alignChordsWithLyrics:r,chartType:o}),Q&&(ge=Wq(Q,ge),Q="")),ge&&Zq(ge,{isFromSectionMultiply:X.isFromSectionMultiply,isFromAutoRepeatChords:X.isFromAutoRepeatChords,isFromChordLineRepeater:X.isFromChordLineRepeater,isFromSectionCopy:X.isFromSectionCopy,shouldOpenSection:Dn,shouldClosePriorSection:Pt,shouldCloseFinalSection:ie(Ae)&&L,sectionWrapperClasses:Sn})}).filter(Boolean)}function q(L){return o==="all"&&r&&L.model.hasPositionedChords}function Y(L,Q){return Q&&Q.type===G.LYRIC&&y&&q(L)}function ce(L){return f==="always"||f==="grids"&&!L.hasPositionedChords}}const mZ=(t={})=>hY.bind(null,t),hY=({showBarSeparators:t=!0},e,n,{alignBars:r,alignChordsWithLyrics:i})=>{const o=[];let s;return mY(e).forEach((l,a)=>{l.sectionLine&&(l.allLines.length>0?(a>0&&o.push(""),o.push(gY(l.sectionLine))):o.push(AT(kT(l.sectionLine.model.rendered)))),l.allLines.forEach((u,c,f)=>{switch(u.type){case G.CHORD:vY(f,c)?s=u:o.push(SY(u));break;case G.LYRIC:o.push(bY(u,s,{showBarSeparators:t,alignChordsWithLyrics:i,alignBars:r})),s=void 0;break;case G.EMPTY_LINE:o.push(""),s=void 0;break}}),l.sectionLine&&l.allLines.length>0&&o.push(yY(l.sectionLine))}),o.join(`
`)},mY=t=>{const e=[];let n;const r=()=>{n&&(e.push(n),n=void 0)},i=o=>{n={sectionLine:o,allLines:[]}};return t.forEach(o=>{o.type===G.SECTION_LABEL?(r(),i(o)):(n||i(),n.allLines.push(o))}),r(),e.map(o=>(o.allLines=cT(o.allLines,s=>s.type===G.EMPTY_LINE),o))};function gY(t){return`{start_of_${$T(t.model.label)}: ${kT(t.model.rendered)}}`}function yY(t){return`{end_of_${$T(t.model.label)}}`}function $T(t){switch(t){case"b":case"bridge":return"bridge";case"c":case"chorus":return"chorus";default:case"v":case"verse":return"verse"}}function kT({label:t,multiplier:e}){return e?`${t} ${e}`:t}function AT(t){return`{c:${t}}`}function vY(t,e){const n=t[e+1];return n&&n.type===G.LYRIC}function SY(t){let e="";return t.model.allBars.map(n=>{e+="|",n.allChords.map(r=>{e+=r.symbol+" ".repeat(r.spacesWithin+r.spacesAfter)})}),e+="|",AT(e.trim())}function bY(t,e,{alignChordsWithLyrics:n,alignBars:r,showBarSeparators:i}){let o=t.string.trim();return e&&e.type===G.CHORD&&(e.model.hasPositionedChords&&n?o=wY(o,e,{showBarSeparators:i}):o=EY(o,e,{showBarSeparators:i,alignBars:r})),o}const wY=(t,e,{showBarSeparators:n})=>{let r=t;return e.model.allBars.map(i=>{i.allChords.map((o,s)=>{let[l]=PT(i,o);if(s===0&&n){const a=r.indexOf("_");a>-1?r=pi(r,"[|] ",a):r=pi(r,"[|]",r.length+1)}r.indexOf("_")>-1?r=r.replace("_",l):r=pi(r,l,r.length+1)})}),r=r.replace(/_/g,"").trim(),n&&(r+=" [|]"),r},EY=(t,e,{showBarSeparators:n,alignBars:r})=>{let i=t.replace(/_/g,""),o=0;return e.model.allBars.map(s=>{s.allChords.map((l,a)=>{let[u,c]=PT(s,l);a===0&&n&&(i=pi(i,"[|]",o),o+=5),i=pi(i,u,o);const f=r&&!s.allChords[a+1]?1:0;o+=u.length+c.length+l.spacesAfter+l.spacesWithin+f})}),n&&(i=pi(i,"[|]",o)),i},PT=(t,e)=>{const n=t.shouldPrintChordsDuration?e.symbol+".".repeat(e.duration):e.symbol;return[`[${n}]`,n]},gZ=()=>CY.bind(null),CY=(t,e)=>e.map((n,r)=>{const i=t[r],o=Ix(n);return i.type===G.SECTION_LABEL?`[${o}]`:i.type===G.CHORD?xY(i,o):o.replace("&nbsp;","")}).join(`
`),xY=(t,e)=>{const n=/([^\s.|]+)/g;return e.replace(n,"[ch]$1[/ch]")};/**
 * filesize
 *
 * @copyright 2023 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 10.1.0
 */const TY="array",OY="bit",Q1="bits",$Y="byte",X1="bytes",Gi="",kY="exponent",AY="function",Z1="iec",PY="Invalid number",_Y="Invalid rounding method",Pd="jedec",MY="object",eS=".",NY="round",IY="s",DY="si",RY="kbit",LY="kB",FY=" ",BY="string",zY="0",_d={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function yZ(t,{bits:e=!1,pad:n=!1,base:r=-1,round:i=2,locale:o=Gi,localeOptions:s={},separator:l=Gi,spacer:a=FY,symbols:u={},standard:c=Gi,output:f=BY,fullform:d=!1,fullforms:p=[],exponent:h=-1,roundingMethod:v=NY,precision:S=0}={}){let m=h,y=Number(t),g=[],w=0,C=Gi;c===DY?(r=10,c=Pd):c===Z1||c===Pd?r=2:r===2?c=Z1:(r=10,c=Pd);const x=r===10?1e3:1024,P=d===!0,b=y<0,A=Math[v];if(typeof t!="bigint"&&isNaN(t))throw new TypeError(PY);if(typeof A!==AY)throw new TypeError(_Y);if(b&&(y=-y),(m===-1||isNaN(m))&&(m=Math.floor(Math.log(y)/Math.log(x)),m<0&&(m=0)),m>8&&(S>0&&(S+=8-m),m=8),f===kY)return m;if(y===0)g[0]=0,C=g[1]=_d.symbol[c][e?Q1:X1][m];else{w=y/(r===2?Math.pow(2,m*10):Math.pow(1e3,m)),e&&(w=w*8,w>=x&&m<8&&(w=w/x,m++));const I=Math.pow(10,m>0?i:0);g[0]=A(w*I)/I,g[0]===x&&m<8&&h===-1&&(g[0]=1,m++),C=g[1]=r===10&&m===1?e?RY:LY:_d.symbol[c][e?Q1:X1][m]}if(b&&(g[0]=-g[0]),S>0&&(g[0]=g[0].toPrecision(S)),g[1]=u[g[1]]||g[1],o===!0?g[0]=g[0].toLocaleString():o.length>0?g[0]=g[0].toLocaleString(o,s):l.length>0&&(g[0]=g[0].toString().replace(eS,l)),n&&Number.isInteger(g[0])===!1&&i>0){const I=l||eS,M=g[0].toString().split(I),$=M[1]||Gi,T=$.length,k=i-T;g[0]=`${M[0]}${I}${$.padEnd(T+k,zY)}`}return P&&(g[1]=p[m]?p[m]:_d.fullform[c][m]+(e?OY:$Y)+(g[0]===1?Gi:IY)),f===TY?g:f===MY?{value:g[0],symbol:g[1],exponent:m,unit:C}:g.join(a)}var _T={exports:{}};(function(t,e){(function(n,r){r()})(Tn,function(){function n(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,c,f){var d=new XMLHttpRequest;d.open("GET",u),d.responseType="blob",d.onload=function(){a(d.response,c,f)},d.onerror=function(){console.error("could not download file")},d.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function o(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Tn=="object"&&Tn.global===Tn?Tn:void 0,l=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,c,f){var d=s.URL||s.webkitURL,p=document.createElement("a");c=c||u.name||"download",p.download=c,p.rel="noopener",typeof u=="string"?(p.href=u,p.origin===location.origin?o(p):i(p.href)?r(u,c,f):o(p,p.target="_blank")):(p.href=d.createObjectURL(u),setTimeout(function(){d.revokeObjectURL(p.href)},4e4),setTimeout(function(){o(p)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,f){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,f),c);else if(i(u))r(u,c,f);else{var d=document.createElement("a");d.href=u,d.target="_blank",setTimeout(function(){o(d)})}}:function(u,c,f,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof u=="string")return r(u,c,f);var p=u.type==="application/octet-stream",h=/constructor/i.test(s.HTMLElement)||s.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||p&&h||l)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var g=S.result;g=v?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=g:location=g,d=null},S.readAsDataURL(u)}else{var m=s.URL||s.webkitURL,y=m.createObjectURL(u);d?d.location=y:location.href=y,d=null,setTimeout(function(){m.revokeObjectURL(y)},4e4)}});s.saveAs=a.saveAs=a,t.exports=a})})(_T);var vZ=_T.exports;const SZ=()=>t=>(t.formatted.symbol=t.formatted.symbol.replace(/[() ]/g,"").replace("mM","mMaj").replace("°","dim"),t);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Th=function(){return Th=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Th.apply(this,arguments)},MT=We.createContext({registerNode:function(t,e){},unregisterNode:function(t,e){},onScroll:function(t,e){}}),jY=function(t){var e=_.useRef({}),n=e.current,r=_.useRef(!0),i=r.current,o=function(d){return!!n[d]},s=function(d,p){var h=o(p);if(!h)return!1;var v=n[p].find(function(S){return S.node===d});return v?!!v:!1},l=function(d,p){p.forEach(function(h){var v=o(h);v||(n[h]=[]),n[h].push(Th({},d))})},a=function(d,p){p.forEach(function(h){var v=s(d.node,h);v&&n[h].splice(n[h].findIndex(function(S){return d.node===S.node}),1)})},u=function(d,p){if(!(!d||!p)){var h=d.scrollTop,v=d.scrollHeight,S=d.offsetHeight,m=d.scrollLeft,y=d.scrollWidth;d.offsetLeft;var g=d.offsetWidth;if(!t.proportional){p.scrollLeft=m,p.scrollTop=h;return}var w=h/(v-S),C=m/(y-g);p.scrollTop=Math.round(w*(p.scrollHeight-p.offsetHeight)),p.scrollLeft=Math.round(C*(p.scrollWidth-p.offsetWidth))}},c=function(d,p){p.forEach(function(h){n[h].forEach(function(v){if(d!==v.node){var S=v.scroll==="two-way",m=v.scroll==="synced-only";(S||m)&&u(d,v.node)}})})},f=function(d,p){i&&(window.requestAnimationFrame(function(){c(d,p),i=!0}),i=!1)};return We.createElement(MT.Provider,{value:{registerNode:l,unregisterNode:a,onScroll:function(d,p){return!t.disabled&&f(d.currentTarget,p)}}},We.Children.only(t.children))};jY.defaultProps={disabled:!1,proportional:!0};var qr=function(t){return[].concat(t)},UY=function(t){return t.deltaX>0||t.deltaX<0?"X":t.deltaY>0||t.deltaY<0?"Y":(t.deltaY>0||t.deltaY<0)&&(t.deltaX>0||t.deltaX<0)?"XY":null},WY=_.forwardRef(function(t,e){var n=t.children,r=t.group,i=r===void 0?"default":r,o=t.scroll,s=o===void 0?"two-way":o,l=t.selfLockAxis,a=l===void 0?null:l,u=t.onScroll,c=u===void 0?function(){}:u,f=_.useContext(MT),d=f.registerNode,p=f.unregisterNode,h=f.onScroll,v=n.ref,S=v!=null&&e!=null;S&&console.warn(`scroll-sync-react:
WARNING: ref used on both ScrollSyncNode and its direct child.
Using the ref from the ScrollSyncNode component.`);var m=v&&!e?v:_.useRef(null);_.useEffect(function(){typeof e=="function"&&e(m.current)},[]);var y=function(C){var x=UY(C);(a==="X"&&x==="X"||a==="Y"&&x==="Y"||a==="XY"&&(x==="XY"||x==="X"||x==="Y"))&&C.preventDefault()};_.useEffect(function(){var C,x={node:m.current,scroll:s};return x&&d(x,qr(i)),(C=m.current)===null||C===void 0||C.addEventListener("wheel",y,{passive:!1}),function(){var P;p(x,qr(i)),(P=m.current)===null||P===void 0||P.removeEventListener("wheel",y)}},[]),_.useEffect(function(){var C={node:m.current,scroll:s};return p(C,qr(i)),d(C,qr(i)),function(){return p(C,qr(i))}},[s,i]);var g=s==="syncer-only",w=s==="two-way";return We.cloneElement(n,{ref:m,onScroll:function(C){typeof n.props.onScroll=="function"&&n.props.onScroll(C),C.persist(),(g||w)&&(h(C,qr(i)),c(C))},onWheel:function(C){typeof n.props.onWheel=="function"&&n.props.onWheel(C),C.persist(),(g||w)&&(h(C,qr(i)),c(C))}})});WY.displayName="ScrollSyncNode";function qe(t){this.content=t}qe.prototype={constructor:qe,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new qe(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new qe(n)},addToStart:function(t,e){return new qe([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new qe(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new qe(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=qe.from(t),t.size?new qe(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=qe.from(t),t.size?new qe(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=qe.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};qe.from=function(t){if(t instanceof qe)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new qe(e)};function NT(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=NT(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function IT(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),l=e.child(--o),a=s.nodeSize;if(s==l){n-=a,r-=a;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let u=0,c=Math.min(s.text.length,l.text.length);for(;u<c&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let u=IT(s.content,l.content,n-1,r-1);if(u)return u}n-=a,r-=a}}class F{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,l=0;l<n;s++){let a=this.content[s],u=l+a.nodeSize;if(u>e&&r(a,i+l,o||null,s)!==!1&&a.content.size){let c=l+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,n-c),r,i+c)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(l,a)=>{let u=l.isText?l.text.slice(Math.max(e,a)-a,n-a):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(s?s=!1:o+=r),o+=u},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new F(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let l=this.content[o],a=s+l.nodeSize;a>e&&((s<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),r.push(l),i+=l.nodeSize),s=a}return new F(r,i)}cutByIndex(e,n){return e==n?F.empty:e==0&&n==this.content.length?this:new F(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new F(i,o)}addToStart(e){return new F([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new F(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return NT(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return IT(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Ra(0,e);if(e==this.size)return Ra(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?Ra(r+1,s):Ra(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return F.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new F(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return F.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new F(n||e,r)}static from(e){if(!e)return F.empty;if(e instanceof F)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new F([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}F.empty=new F([],0);const Md={index:0,offset:0};function Ra(t,e){return Md.index=t,Md.offset=e,Md}function Xu(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Xu(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Xu(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class le{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Xu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return le.none;if(e instanceof le)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}le.none=[];class Zu extends Error{}class V{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=RT(this.content,e+this.openStart,n);return r&&new V(r,this.openStart,this.openEnd)}removeBetween(e,n){return new V(DT(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return V.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new V(F.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new V(e,r,i)}}V.empty=new V(F.empty,0,0);function DT(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:l}=t.findIndex(n);if(i==e||o.isText){if(l!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(DT(o.content,e-i-1,n-i-1)))}function RT(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=RT(s.content,e-o-1,n);return l&&t.replaceChild(i,s.copy(l))}function VY(t,e,n){if(n.openStart>t.depth)throw new Zu("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Zu("Inconsistent open depths");return LT(t,e,n,0)}function LT(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=LT(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,l=s.content;return mi(s,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=HY(n,t);return mi(o,BT(t,s,l,e,r))}else return mi(o,ec(t,e,r))}function FT(t,e){if(!e.type.compatibleContent(t.type))throw new Zu("Cannot join "+e.type.name+" onto "+t.type.name)}function Oh(t,e,n){let r=t.node(n);return FT(r,e.node(n)),r}function hi(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Zs(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(hi(t.nodeAfter,r),o++));for(let l=o;l<s;l++)hi(i.child(l),r);e&&e.depth==n&&e.textOffset&&hi(e.nodeBefore,r)}function mi(t,e){return t.type.checkContent(e),t.copy(e)}function BT(t,e,n,r,i){let o=t.depth>i&&Oh(t,e,i+1),s=r.depth>i&&Oh(n,r,i+1),l=[];return Zs(null,t,i,l),o&&s&&e.index(i)==n.index(i)?(FT(o,s),hi(mi(o,BT(t,e,n,r,i+1)),l)):(o&&hi(mi(o,ec(t,e,i+1)),l),Zs(e,n,i,l),s&&hi(mi(s,ec(n,r,i+1)),l)),Zs(r,null,i,l),new F(l)}function ec(t,e,n){let r=[];if(Zs(null,t,n,r),t.depth>n){let i=Oh(t,e,n+1);hi(mi(i,ec(t,e,n+1)),r)}return Zs(e,null,n,r),new F(r)}function HY(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(F.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Al{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return le.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new GY(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:l,offset:a}=s.content.findIndex(o),u=o-a;if(r.push(s,l,i+a),!u||(s=s.child(l),s.isText))break;o=u-1,i+=a+1}return new Al(n,r,o)}static resolveCached(e,n){for(let i=0;i<Nd.length;i++){let o=Nd[i];if(o.pos==n&&o.doc==e)return o}let r=Nd[Id]=Al.resolve(e,n);return Id=(Id+1)%KY,r}}let Nd=[],Id=0,KY=12;class GY{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const qY=Object.create(null);let gi=class $h{constructor(e,n,r,i=le.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||F.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Xu(this.attrs,n||e.defaultAttrs||qY)&&le.sameSet(this.marks,r||le.none)}copy(e=null){return e==this.content?this:new $h(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new $h(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return V.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),l=i.start(s),u=i.node(s).content.cut(i.pos-l,o.pos-l);return new V(u,i.depth-s,o.depth-s)}replace(e,n,r){return VY(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Al.resolveCached(this,e)}resolveNoCache(e){return Al.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),zT(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=F.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=i;a<o;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=le.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!le.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=F.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}};gi.prototype.text=void 0;class tc extends gi{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):zT(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new tc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new tc(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function zT(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class ki{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new YY(e,n);if(r.next==null)return ki.empty;let i=jT(r);r.next&&r.err("Unexpected trailing text");let o=nJ(tJ(i));return rJ(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,l){let a=s.matchFragment(e,r);if(a&&(!n||a.validEnd))return F.from(l.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:f}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,l.concat(c));if(d)return d}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let l=i;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:l,next:a}=o.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}ki.empty=new ki(!0);class YY{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function jT(t){let e=[];do e.push(JY(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function JY(t){let e=[];do e.push(QY(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function QY(t){let e=eJ(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=XY(t,e);else break;return e}function tS(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function XY(t,e){let n=tS(t),r=n;return t.eat(",")&&(t.next!="}"?r=tS(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function ZY(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function eJ(t){if(t.eat("(")){let e=jT(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=ZY(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function tJ(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,l,a){let u={term:a,to:l};return e[s].push(u),u}function i(s,l){s.forEach(a=>a.to=l)}function o(s,l){if(s.type=="choice")return s.exprs.reduce((a,u)=>a.concat(o(u,l)),[]);if(s.type=="seq")for(let a=0;;a++){let u=o(s.exprs[a],l);if(a==s.exprs.length-1)return u;i(u,l=n())}else if(s.type=="star"){let a=n();return r(l,a),i(o(s.expr,a),a),[r(a)]}else if(s.type=="plus"){let a=n();return i(o(s.expr,l),a),i(o(s.expr,a),a),[r(a)]}else{if(s.type=="opt")return[r(l)].concat(o(s.expr,l));if(s.type=="range"){let a=l;for(let u=0;u<s.min;u++){let c=n();i(o(s.expr,a),c),a=c}if(s.max==-1)i(o(s.expr,a),a);else for(let u=s.min;u<s.max;u++){let c=n();r(a,c),i(o(s.expr,a),c),a=c}return[r(a)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function UT(t,e){return e-t}function nS(t,e){let n=[];return r(e),n.sort(UT);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:l,to:a}=o[s];!l&&n.indexOf(a)==-1&&r(a)}}}function nJ(t){let e=Object.create(null);return n(nS(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:l,to:a})=>{if(!l)return;let u;for(let c=0;c<i.length;c++)i[c][0]==l&&(u=i[c][1]);nS(t,a).forEach(c=>{u||i.push([l,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[r.join(",")]=new ki(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let l=i[s][1].sort(UT);o.next.push({type:i[s][0],next:e[l.join(",")]||n(l)})}return o}}function rJ(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let l=0;l<i.next.length;l++){let{type:a,next:u}=i.next[l];s.push(a.name),o&&!(a.isText||a.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function WT(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function VT(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function HT(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new iJ(t[n]);return e}let rS=class KT{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=HT(r.attrs),this.defaultAttrs=WT(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ki.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:VT(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new gi(this,this.computeAttrs(e),F.from(n),le.setFrom(r))}createChecked(e=null,n,r){return n=F.from(n),this.checkContent(n),new gi(this,this.computeAttrs(e),n,le.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=F.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(F.empty,!0);return o?new gi(this,e,n.append(o),le.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:le.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new KT(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class iJ{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class mf{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=HT(i.attrs),this.excluded=null;let o=WT(this.attrs);this.instance=o?new le(this,o):null}create(e=null){return!e&&this.instance?this.instance:new le(this,VT(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new mf(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class bZ{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=qe.from(e.nodes),n.marks=qe.from(e.marks||{}),this.nodes=rS.compile(this.spec.nodes,this),this.marks=mf.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",l=o.spec.marks;o.contentMatch=r[s]||(r[s]=ki.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=l=="_"?null:l?iS(this,l.split(" ")):l==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:iS(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof rS){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new tc(r,r.defaultAttrs,e,le.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return gi.fromJSON(this,e)}markFromJSON(e){return le.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function iS(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let l in t.marks){let a=t.marks[l];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=a)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class Pl{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new sS(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new sS(this,n,!0);return r.addAll(e,n.from,n.to),V.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(lJ(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let a=s.getAttrs(n);if(a===!1)continue;s.attrs=a||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=lS(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=lS(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Pl(e,Pl.schemaRules(e)))}}const GT={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},oJ={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},qT={ol:!0,ul:!0},nc=1,rc=2,el=4;function oS(t,e,n){return e!=null?(e?nc:0)|(e==="full"?rc:0):t&&t.whitespace=="pre"?nc|rc:n&~el}class La{constructor(e,n,r,i,o,s,l){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=l,this.content=[],this.activeMarks=le.none,this.stashMarks=[],this.match=s||(l&el?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(F.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&nc)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=F.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(F.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):uJ(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!GT.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class sS{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=oS(null,n.preserveWhitespace,0)|(r?el:0);i?o=new La(i.type,i.attrs,le.none,le.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new La(null,null,le.none,le.none,!0,null,s):o=new La(e.schema.topNodeType,null,le.none,le.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let r=e.getAttribute("style");if(!r)return n();let i=this.readStyles(aJ(r));if(!i)return;let[o,s]=i,l=this.top;for(let a=0;a<s.length;a++)this.removePendingMark(s[a],l);for(let a=0;a<o.length;a++)this.addPendingMark(o[a]);n();for(let a=0;a<o.length;a++)this.removePendingMark(o[a],l);for(let a=0;a<s.length;a++)this.addPendingMark(s[a])}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&rc||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&nc)r.options&rc?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;qT.hasOwnProperty(r)&&this.parser.normalizeLists&&sJ(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:oJ.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,l=this.top,a=this.needsBlock;if(GT.hasOwnProperty(r))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),s=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}o&&o.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),s&&this.sync(l),this.needsBlock=a}else this.withStyleRules(e,()=>{this.addElementByRule(e,o,o.consuming===!1?i:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=le.none,r=le.none;for(let i=0;i<e.length;i+=2)for(let o=void 0;;){let s=this.parser.matchStyle(e[i],e[i+1],this,o);if(!s)break;if(s.ignore)return null;if(s.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{s.clearMark(l)&&(r=l.addToSet(r))}):n=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(n),s.consuming===!1)o=s;else break}return[n,r]}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a)}i&&this.sync(l)&&this.open--,s&&this.removePendingMark(s,l)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=oS(e,i,o.options);o.options&el&&o.content.length==0&&(s|=el),this.nodes.push(new La(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(l,a)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;a>=o;a--)if(s(l-1,a))return!0;return!1}else{let c=a>0||a==0&&i?this.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;a--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=cJ(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function sJ(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&qT.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function lJ(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function aJ(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function lS(t){let e={};for(let n in t)e[n]=t[n];return e}function uJ(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=l=>{o.push(l);for(let a=0;a<l.edgeCount;a++){let{type:u,next:c}=l.edge(a);if(u==e||o.indexOf(c)<0&&s(c))return!0}};if(s(i.contentMatch))return!0}}function cJ(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class Yn{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Dd(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let l=0,a=0;for(;l<o.length&&a<s.marks.length;){let u=s.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(o[l][0])||u.type.spec.spanning===!1)break;l++,a++}for(;l<o.length;)i=o.pop()[1];for(;a<s.marks.length;){let u=s.marks[a++],c=this.serializeMark(u,s.isInline,n);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Yn.renderSpec(Dd(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Yn.renderSpec(Dd(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,l=r?e.createElementNS(r,i):e.createElement(i),a=n[1],u=1;if(a&&typeof a=="object"&&a.nodeType==null&&!Array.isArray(a)){u=2;for(let c in a)if(a[c]!=null){let f=c.indexOf(" ");f>0?l.setAttributeNS(c.slice(0,f),c.slice(f+1),a[c]):l.setAttribute(c,a[c])}}for(let c=u;c<n.length;c++){let f=n[c];if(f===0){if(c<n.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:d,contentDOM:p}=Yn.renderSpec(e,f,r);if(l.appendChild(d),p){if(s)throw new RangeError("Multiple content holes");s=p}}}return{dom:l,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Yn(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=aS(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return aS(e.marks)}}function aS(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Dd(t){return t.document||window.document}const YT=65535,JT=Math.pow(2,16);function fJ(t,e){return t+e*JT}function uS(t){return t&YT}function dJ(t){return(t-(t&YT))/JT}const QT=1,XT=2,nu=4,ZT=8;class kh{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&ZT)>0}get deletedBefore(){return(this.delInfo&(QT|nu))>0}get deletedAfter(){return(this.delInfo&(XT|nu))>0}get deletedAcross(){return(this.delInfo&nu)>0}}class Nt{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Nt.empty)return Nt.empty}recover(e){let n=0,r=uS(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+dJ(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let u=this.ranges[l+o],c=this.ranges[l+s],f=a+u;if(e<=f){let d=u?e==a?-1:e==f?1:n:n,p=a+i+(d<0?0:c);if(r)return p;let h=e==(n<0?a:f)?null:fJ(l/3,e-a),v=e==a?XT:e==f?QT:nu;return(n<0?e!=a:e!=f)&&(v|=ZT),new kh(p,v,h)}i+=c-u}return r?e+i:new kh(e+i,0,null)}touches(e,n){let r=0,i=uS(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+o],c=a+u;if(e<=c&&l==i*3)return!0;r+=this.ranges[l+s]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],l=s-(this.inverted?o:0),a=s+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];e(l,l+u,a,a+c),o+=c-u}}invert(){return new Nt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Nt.empty:new Nt(e<0?[0,-e,0]:[0,0,e])}}Nt.empty=new Nt([]);class Oo{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Oo(this.maps,this.mirror,e,n)}copy(){return new Oo(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Oo;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],l=s.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(o);if(a!=null&&a>o&&a<this.to){o=a,e=this.maps[a].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new kh(e,i,null)}}const Rd=Object.create(null);class ut{getMap(){return Nt.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Rd[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Rd)throw new RangeError("Duplicate use of step JSON ID "+e);return Rd[e]=n,n.prototype.jsonID=e,n}}class Me{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Me(e,null)}static fail(e){return new Me(null,e)}static fromReplace(e,n,r,i){try{return Me.ok(e.replace(n,r,i))}catch(o){if(o instanceof Zu)return Me.fail(o.message);throw o}}}function Bg(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Bg(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return F.fromArray(r)}class Sr extends ut{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new V(Bg(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return Me.fromReplace(e,this.from,this.to,o)}invert(){return new An(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Sr(n.pos,r.pos,this.mark)}merge(e){return e instanceof Sr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Sr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Sr(n.from,n.to,e.markFromJSON(n.mark))}}ut.jsonID("addMark",Sr);class An extends ut{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new V(Bg(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Me.fromReplace(e,this.from,this.to,r)}invert(){return new Sr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new An(n.pos,r.pos,this.mark)}merge(e){return e instanceof An&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new An(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new An(n.from,n.to,e.markFromJSON(n.mark))}}ut.jsonID("removeMark",An);class br extends ut{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Me.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Me.fromReplace(e,this.pos,this.pos+1,new V(F.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new br(this.pos,n.marks[i]);return new br(this.pos,this.mark)}}return new Wo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new br(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new br(n.pos,e.markFromJSON(n.mark))}}ut.jsonID("addNodeMark",br);class Wo extends ut{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Me.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Me.fromReplace(e,this.pos,this.pos+1,new V(F.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new br(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Wo(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Wo(n.pos,e.markFromJSON(n.mark))}}ut.jsonID("removeNodeMark",Wo);class ot extends ut{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Ah(e,this.from,this.to)?Me.fail("Structure replace would overwrite content"):Me.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Nt([this.from,this.to-this.from,this.slice.size])}invert(e){return new ot(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new ot(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof ot)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?V.empty:new V(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ot(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?V.empty:new V(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ot(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ot(n.from,n.to,V.fromJSON(e,n.slice),!!n.structure)}}ut.jsonID("replace",ot);class Rt extends ut{constructor(e,n,r,i,o,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=l}apply(e){if(this.structure&&(Ah(e,this.from,this.gapFrom)||Ah(e,this.gapTo,this.to)))return Me.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Me.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Me.fromReplace(e,this.from,this.to,r):Me.fail("Content does not fit in gap")}getMap(){return new Nt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Rt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Rt(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Rt(n.from,n.to,n.gapFrom,n.gapTo,V.fromJSON(e,n.slice),n.insert,!!n.structure)}}ut.jsonID("replaceAround",Rt);function Ah(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function pJ(t,e,n,r){let i=[],o=[],s,l;t.doc.nodesBetween(e,n,(a,u,c)=>{if(!a.isInline)return;let f=a.marks;if(!r.isInSet(f)&&c.type.allowsMarkType(r.type)){let d=Math.max(u,e),p=Math.min(u+a.nodeSize,n),h=r.addToSet(f);for(let v=0;v<f.length;v++)f[v].isInSet(h)||(s&&s.to==d&&s.mark.eq(f[v])?s.to=p:i.push(s=new An(d,p,f[v])));l&&l.to==d?l.to=p:o.push(l=new Sr(d,p,r))}}),i.forEach(a=>t.step(a)),o.forEach(a=>t.step(a))}function hJ(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;o++;let a=null;if(r instanceof mf){let u=s.marks,c;for(;c=r.isInSet(u);)(a||(a=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(s.marks)&&(a=[r]):a=s.marks;if(a&&a.length){let u=Math.min(l+s.nodeSize,n);for(let c=0;c<a.length;c++){let f=a[c],d;for(let p=0;p<i.length;p++){let h=i[p];h.step==o-1&&f.eq(i[p].style)&&(d=h)}d?(d.to=u,d.step=o):i.push({style:f,from:Math.max(l,e),to:u,step:o})}}}),i.forEach(s=>t.step(new An(s.from,s.to,s.style)))}function mJ(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],s=e+1;for(let l=0;l<i.childCount;l++){let a=i.child(l),u=s+a.nodeSize,c=r.matchType(a.type);if(!c)o.push(new ot(s,u,V.empty));else{r=c;for(let f=0;f<a.marks.length;f++)n.allowsMarkType(a.marks[f].type)||t.step(new An(s,u,a.marks[f]));if(a.isText&&!n.spec.code){let f,d=/\r?\n|\r/g,p;for(;f=d.exec(a.text);)p||(p=new V(F.from(n.schema.text(" ",n.allowedMarks(a.marks))),0,0)),o.push(new ot(s+f.index,s+f.index+f[0].length,p))}}s=u}if(!r.validEnd){let l=r.fillBefore(F.empty,!0);t.replace(s,s,new V(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function gJ(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function zg(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!gJ(i,o,s))break}return null}function yJ(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),l=i.after(o+1),a=s,u=l,c=F.empty,f=0;for(let h=o,v=!1;h>n;h--)v||r.index(h)>0?(v=!0,c=F.from(r.node(h).copy(c)),f++):a--;let d=F.empty,p=0;for(let h=o,v=!1;h>n;h--)v||i.after(h+1)<i.end(h)?(v=!0,d=F.from(i.node(h).copy(d)),p++):u++;t.step(new Rt(a,u,s,l,new V(c.append(d),f,p),c.size-f,!0))}function vJ(t,e,n){let r=F.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let l=n[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=F.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Rt(i,o,i,o,new V(r,0,0),n.length,!0))}function SJ(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,l)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&bJ(t.doc,t.mapping.slice(o).map(l),r)){t.clearIncompatible(t.mapping.slice(o).map(l,1),r);let a=t.mapping.slice(o),u=a.map(l,1),c=a.map(l+s.nodeSize,1);return t.step(new Rt(u,c,u+1,c-1,new V(F.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function bJ(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function wJ(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Rt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new V(F.from(s),0,0),1,!0))}function ru(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>o;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(d,f.childCount),h=r&&r[c+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let v=r&&r[c]||f;if(!f.canReplace(d+1,f.childCount)||!v.type.validContent(p))return!1}let l=i.indexAfter(o),a=r&&r[0];return i.node(o).canReplaceWith(l,l,a?a.type:i.node(o+1).type)}function EJ(t,e,n=1,r){let i=t.doc.resolve(e),o=F.empty,s=F.empty;for(let l=i.depth,a=i.depth-n,u=n-1;l>a;l--,u--){o=F.from(i.node(l).copy(o));let c=r&&r[u];s=F.from(c?c.type.create(c.attrs,s):i.node(l).copy(s))}t.step(new ot(e,e,new V(o.append(s),n,n),!0))}function eO(t,e){let n=t.resolve(e),r=n.index();return CJ(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function CJ(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function xJ(t,e,n){let r=new ot(e-n,e+n,V.empty,!0);t.step(r)}function TJ(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function OJ(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,a=r.index(s)+(l>0?1:0),u=r.node(s),c=!1;if(o==1)c=u.canReplace(a,a,i);else{let f=u.contentMatchAt(a).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(a,a,f[0])}if(c)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function jg(t,e,n=e,r=V.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return tO(i,o,r)?new ot(e,n,r):new $J(i,o,r).fit()}function tO(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class $J{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=F.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=F.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,l=i.depth;for(;s&&l&&o.childCount==1;)o=o.firstChild.content,s--,l--;let a=new V(o,s,l);return e>-1?new Rt(r.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new ot(r.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Ld(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:u}=this.frontier[l],c,f=null;if(n==1&&(s?u.matchType(s.type)||(f=u.fillBefore(F.from(s),!1)):o&&a.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:l,parent:o,inject:f};if(n==2&&s&&(c=u.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:l,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Ld(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new V(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Ld(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new V(Is(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new V(Is(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let v=0;v<o.length;v++)this.openFrontierNode(o[v]);let s=this.unplaced,l=r?r.content:s.content,a=s.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[n];if(i){for(let v=0;v<i.childCount;v++)c.push(i.child(v));f=f.matchFragment(i)}let p=l.size+e-(s.content.size-s.openEnd);for(;u<l.childCount;){let v=l.child(u),S=f.matchType(v.type);if(!S)break;u++,(u>1||a==0||v.content.size)&&(f=S,c.push(nO(v.mark(d.allowedMarks(v.marks)),u==1?a:0,u==l.childCount?p:-1)))}let h=u==l.childCount;h||(p=-1),this.placed=Ds(this.placed,n,F.from(c)),this.frontier[n].match=f,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,S=l;v<p;v++){let m=S.lastChild;this.frontier.push({type:m.type,match:m.contentMatchAt(m.childCount)}),S=m.content}this.unplaced=h?e==0?V.empty:new V(Is(s.content,e-1,1),e-1,p<0?s.openEnd:e-1):new V(Is(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Fd(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=Fd(e,n,i,r,o);if(s){for(let l=n-1;l>=0;l--){let{match:a,type:u}=this.frontier[l],c=Fd(e,l,u,a,!0);if(!c||c.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Ds(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Ds(this.placed,this.depth,F.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(F.empty,!0);n.childCount&&(this.placed=Ds(this.placed,this.frontier.length,n))}}function Is(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Is(t.firstChild.content,e-1,n)))}function Ds(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Ds(t.lastChild.content,e-1,n)))}function Ld(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function nO(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,nO(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(F.empty,!0)))),t.copy(r)}function Fd(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let l=r.fillBefore(o.content,!0,s);return l&&!kJ(n,o.content,s)?l:null}function kJ(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function AJ(t){return t.spec.defining||t.spec.definingForContent}function PJ(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(tO(i,o,r))return t.step(new ot(e,n,r));let s=iO(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(i.depth+1);s.unshift(l);for(let d=i.depth,p=i.pos-1;d>0;d--,p--){let h=i.node(d).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;s.indexOf(d)>-1?l=d:i.before(d)==p&&s.splice(1,0,-d)}let a=s.indexOf(l),u=[],c=r.openStart;for(let d=r.content,p=0;;p++){let h=d.firstChild;if(u.push(h),p==r.openStart)break;d=h.content}for(let d=c-1;d>=0;d--){let p=u[d],h=AJ(p.type);if(h&&!p.sameMarkup(i.node(Math.abs(l)-1)))c=d;else if(h||!p.type.isTextblock)break}for(let d=r.openStart;d>=0;d--){let p=(d+c+1)%(r.openStart+1),h=u[p];if(h)for(let v=0;v<s.length;v++){let S=s[(v+a)%s.length],m=!0;S<0&&(m=!1,S=-S);let y=i.node(S-1),g=i.index(S-1);if(y.canReplaceWith(g,g,h.type,h.marks))return t.replace(i.before(S),m?o.after(S):n,new V(rO(r.content,0,r.openStart,p),p,r.openEnd))}}let f=t.steps.length;for(let d=s.length-1;d>=0&&(t.replace(e,n,r),!(t.steps.length>f));d--){let p=s[d];p<0||(e=i.before(p),n=o.after(p))}}function rO(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(rO(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(F.empty,!0))}return t}function _J(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=TJ(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new V(F.from(r),0,0))}function MJ(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=iO(r,i);for(let s=0;s<o.length;s++){let l=o[s],a=s==o.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function iO(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class $o extends ut{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Me.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Me.fromReplace(e,this.pos,this.pos+1,new V(F.from(i),0,n.isLeaf?0:1))}getMap(){return Nt.empty}invert(e){return new $o(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new $o(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new $o(n.pos,n.attr,n.value)}}ut.jsonID("attr",$o);class _l extends ut{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Me.ok(r)}getMap(){return Nt.empty}invert(e){return new _l(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new _l(n.attr,n.value)}}ut.jsonID("docAttr",_l);let Vo=class extends Error{};Vo=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Vo.prototype=Object.create(Error.prototype);Vo.prototype.constructor=Vo;Vo.prototype.name="TransformError";class NJ{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Oo}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Vo(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=V.empty){let i=jg(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new V(F.from(r),0,0))}delete(e,n){return this.replace(e,n,V.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return PJ(this,e,n,r),this}replaceRangeWith(e,n,r){return _J(this,e,n,r),this}deleteRange(e,n){return MJ(this,e,n),this}lift(e,n){return yJ(this,e,n),this}join(e,n=1){return xJ(this,e,n),this}wrap(e,n){return vJ(this,e,n),this}setBlockType(e,n=e,r,i=null){return SJ(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return wJ(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new $o(e,n,r)),this}setDocAttribute(e,n){return this.step(new _l(e,n)),this}addNodeMark(e,n){return this.step(new br(e,n)),this}removeNodeMark(e,n){if(!(n instanceof le)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Wo(e,n)),this}split(e,n=1,r){return EJ(this,e,n,r),this}addMark(e,n,r){return pJ(this,e,n,r),this}removeMark(e,n,r){return hJ(this,e,n,r),this}clearIncompatible(e,n,r){return mJ(this,e,n,r),this}}const Bd=Object.create(null);class ae{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new IJ(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=V.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:a,$to:u}=s[l],c=e.mapping.slice(o);e.replaceRange(c.map(a.pos),c.map(u.pos),l?V.empty:n),l==0&&dS(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:l}=i[o],a=e.mapping.slice(r),u=a.map(s.pos),c=a.map(l.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),dS(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new me(e):eo(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?eo(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):eo(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Lt(e.node(0))}static atStart(e){return eo(e,e,0,0,1)||new Lt(e)}static atEnd(e){return eo(e,e,e.content.size,e.childCount,-1)||new Lt(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Bd[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Bd)throw new RangeError("Duplicate use of selection JSON ID "+e);return Bd[e]=n,n.prototype.jsonID=e,n}getBookmark(){return me.between(this.$anchor,this.$head).getBookmark()}}ae.prototype.visible=!0;class IJ{constructor(e,n){this.$from=e,this.$to=n}}let cS=!1;function fS(t){!cS&&!t.parent.inlineContent&&(cS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class me extends ae{constructor(e,n=e){fS(e),fS(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return ae.near(r);let i=e.resolve(n.map(this.anchor));return new me(i.parent.inlineContent?i:r,r)}replace(e,n=V.empty){if(super.replace(e,n),n==V.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof me&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new gf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new me(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=ae.findFrom(n,r,!0)||ae.findFrom(n,-r,!0);if(o)n=o.$head;else return ae.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(ae.findFrom(e,-r,!0)||ae.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new me(e,n)}}ae.jsonID("text",me);class gf{constructor(e,n){this.anchor=e,this.head=n}map(e){return new gf(e.map(this.anchor),e.map(this.head))}resolve(e){return me.between(e.resolve(this.anchor),e.resolve(this.head))}}class J extends ae{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?ae.near(o):new J(o)}content(){return new V(F.from(this.node),0,0)}eq(e){return e instanceof J&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ug(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new J(e.resolve(n.anchor))}static create(e,n){return new J(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}J.prototype.visible=!1;ae.jsonID("node",J);class Ug{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new gf(r,r):new Ug(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&J.isSelectable(r)?new J(n):ae.near(n)}}class Lt extends ae{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=V.empty){if(n==V.empty){e.delete(0,e.doc.content.size);let r=ae.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Lt(e)}map(e){return new Lt(e)}eq(e){return e instanceof Lt}getBookmark(){return DJ}}ae.jsonID("all",Lt);const DJ={map(){return this},resolve(t){return new Lt(t)}};function eo(t,e,n,r,i,o=!1){if(e.inlineContent)return me.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let l=e.child(s);if(l.isAtom){if(!o&&J.isSelectable(l))return J.create(t,n-(i<0?l.nodeSize:0))}else{let a=eo(t,l,n+i,i<0?l.childCount:0,i,o);if(a)return a}n+=l.nodeSize*i}return null}function dS(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof ot||i instanceof Rt))return;let o=t.mapping.maps[r],s;o.forEach((l,a,u,c)=>{s==null&&(s=c)}),t.setSelection(ae.near(t.doc.resolve(s),n))}const pS=1,Fa=2,hS=4;class RJ extends NJ{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|pS)&~Fa,this.storedMarks=null,this}get selectionSet(){return(this.updated&pS)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Fa,this}ensureMarks(e){return le.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Fa)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Fa,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||le.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(ae.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=hS,this}get scrolledIntoView(){return(this.updated&hS)>0}}function mS(t,e){return!e||!t?t:t.bind(e)}class Rs{constructor(e,n,r){this.name=e,this.init=mS(n.init,r),this.apply=mS(n.apply,r)}}const LJ=[new Rs("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Rs("selection",{init(t,e){return t.selection||ae.atStart(e.doc)},apply(t){return t.selection}}),new Rs("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Rs("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class zd{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=LJ.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Rs(r.key,r.spec.state,r))})}}class Ls{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let a=i?i[s].n:0,u=i?i[s].state:this,c=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,u,r);if(c&&r.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<s?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ls(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new RJ(this)}static create(e){let n=new zd(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ls(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new zd(this.schema,e.plugins),r=n.fields,i=new Ls(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new zd(e.schema,e.plugins),o=new Ls(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=gi.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=ae.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],u=a.spec.state;if(a.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){o[s.name]=u.fromJSON.call(a,e,n[l],o);return}}o[s.name]=s.init(e,o)}}),o}}function oO(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=oO(i,e,{})),n[r]=i}return n}class sO{constructor(e){this.spec=e,this.props={},e.props&&oO(e.props,this,this.props),this.key=e.key?e.key.key:lO("plugin")}getState(e){return e[this.key]}}const jd=Object.create(null);function lO(t){return t in jd?t+"$"+ ++jd[t]:(jd[t]=0,t+"$")}class aO{constructor(e="key"){this.key=lO(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const dt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Ml=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let gS=null;const Wn=function(t,e,n){let r=gS||(gS=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},Ai=function(t,e,n,r){return n&&(yS(t,e,n,r,-1)||yS(t,e,n,r,1))},FJ=/^(img|br|input|textarea|hr)$/i;function yS(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:$n(t))){let o=t.parentNode;if(!o||o.nodeType!=1||Wg(t)||FJ.test(t.nodeName)||t.contentEditable=="false")return!1;e=dt(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?$n(t):0}else return!1}}function $n(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function BJ(t,e,n){for(let r=e==0,i=e==$n(t);r||i;){if(t==n)return!0;let o=dt(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==$n(t)}}function Wg(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const yf=function(t){return t.focusNode&&Ai(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ni(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function zJ(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function jJ(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Mn=typeof navigator<"u"?navigator:null,vS=typeof document<"u"?document:null,Hr=Mn&&Mn.userAgent||"",Ph=/Edge\/(\d+)/.exec(Hr),uO=/MSIE \d/.exec(Hr),_h=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Hr),At=!!(uO||_h||Ph),Mr=uO?document.documentMode:_h?+_h[1]:Ph?+Ph[1]:0,yn=!At&&/gecko\/(\d+)/i.test(Hr);yn&&+(/Firefox\/(\d+)/.exec(Hr)||[0,0])[1];const Mh=!At&&/Chrome\/(\d+)/.exec(Hr),st=!!Mh,UJ=Mh?+Mh[1]:0,mt=!At&&!!Mn&&/Apple Computer/.test(Mn.vendor),Ho=mt&&(/Mobile\/\w+/.test(Hr)||!!Mn&&Mn.maxTouchPoints>2),Ht=Ho||(Mn?/Mac/.test(Mn.platform):!1),WJ=Mn?/Win/.test(Mn.platform):!1,un=/Android \d/.test(Hr),Ql=!!vS&&"webkitFontSmoothing"in vS.documentElement.style,VJ=Ql?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function HJ(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function jn(t,e){return typeof t=="number"?t:t[e]}function KJ(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function SS(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=Ml(s)){if(s.nodeType!=1)continue;let l=s,a=l==o.body,u=a?HJ(o):KJ(l),c=0,f=0;if(e.top<u.top+jn(r,"top")?f=-(u.top-e.top+jn(i,"top")):e.bottom>u.bottom-jn(r,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+jn(i,"top")-u.top:e.bottom-u.bottom+jn(i,"bottom")),e.left<u.left+jn(r,"left")?c=-(u.left-e.left+jn(i,"left")):e.right>u.right-jn(r,"right")&&(c=e.right-u.right+jn(i,"right")),c||f)if(a)o.defaultView.scrollBy(c,f);else{let d=l.scrollLeft,p=l.scrollTop;f&&(l.scrollTop+=f),c&&(l.scrollLeft+=c);let h=l.scrollLeft-d,v=l.scrollTop-p;e={left:e.left-h,top:e.top-v,right:e.right-h,bottom:e.bottom-v}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function GJ(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=t.root.elementFromPoint(o,s);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){r=l,i=a.top;break}}return{refDOM:r,refTop:i,stack:cO(t.dom)}}function cO(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Ml(r));return e}function qJ({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;fO(n,r==0?0:r-e)}function fO(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let qi=null;function YJ(t){if(t.setActive)return t.setActive();if(qi)return t.focus(qi);let e=cO(t);t.focus(qi==null?{get preventScroll(){return qi={preventScroll:!0},!0}}:void 0),qi||(qi=!1,fO(e,0))}function dO(t,e){let n,r=2e8,i,o=0,s=e.top,l=e.top,a,u;for(let c=t.firstChild,f=0;c;c=c.nextSibling,f++){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Wn(c).getClientRects();else continue;for(let p=0;p<d.length;p++){let h=d[p];if(h.top<=s&&h.bottom>=l){s=Math.max(h.bottom,s),l=Math.min(h.top,l);let v=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(v<r){n=c,r=v,i=v&&n.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,c.nodeType==1&&v&&(o=f+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!a&&h.left<=e.left&&h.right>=e.left&&(a=c,u={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(o=f+1)}}return!n&&a&&(n=a,i=u,r=0),n&&n.nodeType==3?JJ(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:dO(n,i)}function JJ(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=sr(r,1);if(o.top!=o.bottom&&Vg(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function Vg(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function QJ(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function XJ(t,e,n){let{node:r,offset:i}=dO(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function ZJ(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let l=t.docView.nearestDesc(o,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent&&!s||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&!s&&(s=!0,a.left>r.left||a.top>r.top?i=l.posBefore:(a.right<r.left||a.bottom<r.top)&&(i=l.posAfter)),!l.contentDOM&&i<0&&!l.node.isText)return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}o=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function pO(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let l=s.getClientRects();for(let a=0;a<l.length;a++){let u=l[a];if(Vg(e,u))return pO(s,e,u)}}if((o=(o+1)%r)==i)break}return t}function eQ(t,e){let n=t.dom.ownerDocument,r,i=0,o=jJ(n,e.left,e.top);o&&({node:r,offset:i}=o);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let u=t.dom.getBoundingClientRect();if(!Vg(e,u)||(s=pO(t.dom,e,u),!s))return null}if(mt)for(let u=s;r&&u;u=Ml(u))u.draggable&&(r=void 0);if(s=QJ(s,e),r){if(yn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],f;c.nodeName=="IMG"&&(f=c.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let u;Ql&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=ZJ(t,r,i,e))}l==null&&(l=XJ(t,s,e));let a=t.docView.nearestDesc(s,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function bS(t){return t.top<t.bottom||t.left<t.right}function sr(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(bS(r))return r}return Array.prototype.find.call(n,bS)||t.getBoundingClientRect()}const tQ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function hO(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=Ql||yn;if(r.nodeType==3)if(s&&(tQ.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let a=sr(Wn(r,i,i),n);if(yn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=sr(Wn(r,i-1,i-1),-1);if(u.top==a.top){let c=sr(Wn(r,i,i+1),-1);if(c.top!=a.top)return ks(c,c.left<u.left)}}return a}else{let a=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(a--,c=1):n<0?a--:u++,ks(sr(Wn(r,a,u),c),c<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==$n(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return Ud(a.getBoundingClientRect(),!1)}if(o==null&&i<$n(r)){let a=r.childNodes[i];if(a.nodeType==1)return Ud(a.getBoundingClientRect(),!0)}return Ud(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==$n(r))){let a=r.childNodes[i-1],u=a.nodeType==3?Wn(a,$n(a)-(s?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(u)return ks(sr(u,1),!1)}if(o==null&&i<$n(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let u=a?a.nodeType==3?Wn(a,0,s?0:1):a.nodeType==1?a:null:null;if(u)return ks(sr(u,-1),!0)}return ks(sr(r.nodeType==3?Wn(r):r,-n),n>=0)}function ks(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Ud(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function mO(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function nQ(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return mO(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(o,!0);if(!l)break;if(l.node.isBlock){o=l.contentDOM||l.dom;break}o=l.dom.parentNode}let s=hO(t,i.pos,1);for(let l=o.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=Wn(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let c=a[u];if(c.bottom>c.top+1&&(n=="up"?s.top-c.top>(c.bottom-s.top)*2:c.bottom-s.bottom>(s.bottom-c.top)*2))return!1}}return!0})}const rQ=/[\u0590-\u08ac]/;function iQ(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,l=t.domSelection();return!rQ.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?o:s:mO(t,e,()=>{let{focusNode:a,focusOffset:u,anchorNode:c,anchorOffset:f}=t.domSelectionRange(),d=l.caretBidiLevel;l.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:h,focusOffset:v}=t.domSelectionRange(),S=h&&!p.contains(h.nodeType==1?h:h.parentNode)||a==h&&u==v;try{l.collapse(c,f),a&&(a!=c||u!=f)&&l.extend&&l.extend(a,u)}catch{}return d!=null&&(l.caretBidiLevel=d),S})}let wS=null,ES=null,CS=!1;function oQ(t,e,n){return wS==e&&ES==n?CS:(wS=e,ES=n,CS=n=="up"||n=="down"?nQ(t,e,n):iQ(t,e,n))}const Xt=0,xS=1,li=2,Nn=3;class Xl{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Xt,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>dt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.size;if(l>e||s instanceof yO){i=e-o;break}o=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof gO&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?dt(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?dt(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,l=0;;l++){let a=this.children[l],u=s+a.size;if(i==-1&&e<=u){let c=s+a.border;if(e>=c&&n<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,c);e=s;for(let f=l;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=dt(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>n||l==this.children.length-1)){n=u;for(let c=l+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=dt(f.dom);break}n+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let d=0,p=0;d<this.children.length;d++){let h=this.children[d],v=p+h.size;if(o>p&&s<v)return h.setSelection(e-p-h.border,n-p-h.border,r,i);p=v}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),u=r.getSelection(),c=!1;if((yn||mt)&&e==n){let{node:d,offset:p}=l;if(d.nodeType==3){if(c=!!(p&&d.nodeValue[p-1]==`
`),c&&p==d.nodeValue.length)for(let h=d,v;h;h=h.parentNode){if(v=h.nextSibling){v.nodeName=="BR"&&(l=a={node:v.parentNode,offset:dt(v)+1});break}let S=h.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let h=d.childNodes[p-1];c=h&&(h.nodeName=="BR"||h.contentEditable=="false")}}if(yn&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let d=u.focusNode.childNodes[u.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||c&&mt)&&Ai(l.node,l.offset,u.anchorNode,u.anchorOffset)&&Ai(a.node,a.offset,u.focusNode,u.focusOffset))return;let f=!1;if((u.extend||e==n)&&!c){u.collapse(l.node,l.offset);try{e!=n&&u.extend(a.node,a.offset),f=!0}catch{}}if(!f){if(e>n){let p=l;l=a,a=p}let d=document.createRange();d.setEnd(a.node,a.offset),d.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let l=r+o.border,a=s-o.border;if(e>=l&&n<=a){this.dirty=e==r||n==s?li:xS,e==l&&n==a&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Nn:o.markDirty(e-l,n-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?li:Nn}r=s}this.dirty=li}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?li:xS;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class gO extends Xl{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Xt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class sQ extends Xl{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Pi extends Xl{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=Yn.renderSpec(document,n.type.spec.toDOM(n,r))),new Pi(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Nn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Nn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Xt){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Xt}}slice(e,n,r){let i=Pi.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=Dh(o,n,s,r)),e>0&&(o=Dh(o,0,e,r));for(let l=0;l<o.length;l++)o[l].parent=i;return i.children=o,i}}class Nr extends Xl{constructor(e,n,r,i,o,s,l,a,u){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,o,s){let l=o.nodeViews[n.type.name],a,u=l&&l(n,o,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)},r,i),c=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=Yn.renderSpec(document,n.type.spec.toDOM(n)));!f&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let d=c;return c=bO(c,r,n),u?a=new lQ(e,n,r,i,c,f||null,d,u,o,s+1):n.isText?new vf(e,n,r,i,c,d,o):new Nr(e,n,r,i,c,f||null,d,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>F.empty)}return e}matchesNode(e,n,r){return this.dirty==Xt&&e.eq(this.node)&&Ih(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,l=o&&o.pos<0,a=new uQ(this,s&&s.node,e);dQ(this.node,this.innerDeco,(u,c,f)=>{u.spec.marks?a.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!f&&a.syncToMarks(c==this.node.childCount?le.none:this.node.child(c).marks,r,e),a.placeWidget(u,e,i)},(u,c,f,d)=>{a.syncToMarks(u.marks,r,e);let p;a.findNodeMatch(u,c,f,d)||l&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(p=a.findIndexWithChild(o.node))>-1&&a.updateNodeAt(u,c,f,p,e)||a.updateNextNode(u,c,f,e,d,i)||a.addNode(u,c,f,e,i),i+=u.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==li)&&(s&&this.protectLocalComposition(e,s),vO(this.contentDOM,this.children,e),Ho&&pQ(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof me)||r<n||i>n+this.node.content.size)return null;let o=e.domSelectionRange(),s=hQ(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,a=mQ(this.node.content,l,r-n,i-n);return a<0?null:{node:s,pos:a,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new sQ(this,o,n,i);e.input.compositionNodes.push(s),this.children=Dh(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==Nn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Xt}updateOuterDeco(e){if(Ih(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=SO(this.dom,this.nodeDOM,Nh(this.outerDeco,this.node,n),Nh(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function TS(t,e,n,r,i){bO(r,e,t);let o=new Nr(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class vf extends Nr{constructor(e,n,r,i,o,s,l){super(e,n,r,i,o,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Nn||this.dirty!=Xt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Xt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Xt,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new vf(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Nn)}get domAtom(){return!1}}class yO extends Xl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Xt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class lQ extends Nr{constructor(e,n,r,i,o,s,l,a,u,c){super(e,n,r,i,o,s,l,u,c),this.spec=a}update(e,n,r,i){if(this.dirty==Nn)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function vO(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],l=s.dom;if(l.parentNode==t){for(;l!=r;)r=OS(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(s instanceof Pi){let a=r?r.previousSibling:t.lastChild;vO(s.contentDOM,s.children,n),r=a?a.nextSibling:t.firstChild}}for(;r;)r=OS(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const tl=function(t){t&&(this.nodeName=t)};tl.prototype=Object.create(null);const ai=[new tl];function Nh(t,e,n){if(t.length==0)return ai;let r=n?ai[0]:new tl,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new tl(s.nodeName));for(let l in s){let a=s[l];a!=null&&(n&&i.length==1&&i.push(r=new tl(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return i}function SO(t,e,n,r){if(n==ai&&r==ai)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],l=n[o];if(o){let a;l&&l.nodeName==s.nodeName&&i!=t&&(a=i.parentNode)&&a.nodeName.toLowerCase()==s.nodeName||(a=document.createElement(s.nodeName),a.pmIsDeco=!0,a.appendChild(i),l=ai[0]),i=a}aQ(i,l||ai[0],s)}return i}function aQ(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function bO(t,e,n){return SO(t,t,ai,Nh(e,n,t.nodeType!=1))}function Ih(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function OS(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class uQ{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=cQ(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Xt,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let u=this.top.children[a];if(u.matchesMark(e[o])&&!this.isLocked(u.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=Pi.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==Nn&&s.dom==s.contentDOM&&(s.dirty=li),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,s){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof Nr){let u=this.preMatch.matched.get(a);if(u!=null&&u!=o)return!1;let c=a.dom,f,d=this.isLocked(c)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Nn&&Ih(n,a.outerDeco));if(!d&&a.update(e,n,r,i))return this.destroyBetween(this.index,l),a.dom!=c&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(a,e,n,r,i,s)))return this.top.children[this.index]=f,f.contentDOM&&(f.dirty=li,f.updateChildren(i,s+1),f.dirty=Xt),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let l=Nr.create(this.top,n,r,i,o,s);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,n,r,i,o){let s=Nr.create(this.top,e,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new gO(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Pi;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof vf)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((mt||st)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new yO(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function cQ(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof Pi)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(i-1))break;--i,o.set(l,i),s.push(l)}}return{index:i,matched:o,matches:s.reverse()}}function fQ(t,e){return t.type.side-e.type.side}function dQ(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let s=0,l=[],a=null;for(let u=0;;){let c,f;for(;s<i.length&&i[s].to==o;){let S=i[s++];S.widget&&(c?(f||(f=[c])).push(S):c=S)}if(c)if(f){f.sort(fQ);for(let S=0;S<f.length;S++)n(f[S],u,!!a)}else n(c,u,!!a);let d,p;if(a)p=-1,d=a,a=null;else if(u<t.childCount)p=u,d=t.child(u++);else break;for(let S=0;S<l.length;S++)l[S].to<=o&&l.splice(S--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)l.push(i[s++]);let h=o+d.nodeSize;if(d.isText){let S=h;s<i.length&&i[s].from<S&&(S=i[s].from);for(let m=0;m<l.length;m++)l[m].to<S&&(S=l[m].to);S<h&&(a=d.cut(S-o),d=d.cut(0,S-o),h=S,p=-1)}else for(;s<i.length&&i[s].to<h;)s++;let v=d.isInline&&!d.isLeaf?l.filter(S=>!S.inline):l.slice();r(d,v,e.forChild(o,d),p),o=h}}function pQ(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function hQ(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=$n(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function mQ(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),l=o;if(o+=s.nodeSize,!s.isText)continue;let a=s.text;for(;i<t.childCount;){let u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;a+=u.text}if(o>=n){if(o>=r&&a.slice(r-e.length-l,r-l)==e)return r-e.length;let u=l<r?a.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function Dh(t,e,n,r,i){let o=[];for(let s=0,l=0;s<t.length;s++){let a=t[s],u=l,c=l+=a.size;u>=n||c<=e?o.push(a):(u<e&&o.push(a.slice(0,e-u,r)),i&&(o.push(i),i=void 0),c>n&&o.push(a.slice(n-u,a.size,r)))}return o}function Hg(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),a,u;if(yf(n)){for(a=l;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&J.isSelectable(c)&&i.parent&&!(c.isInline&&BJ(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;u=new J(s==f?l:r.resolve(f))}}else{let c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;a=r.resolve(c)}if(!u){let c=e=="pointer"||t.state.selection.head<l.pos&&!o?1:-1;u=Kg(t,a,l,c)}return u}function wO(t){return t.editable?t.hasFocus():CO(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Qn(t,e=!1){let n=t.state.selection;if(EO(t,n),!!wO(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&st){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Ai(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)yQ(t);else{let{anchor:r,head:i}=n,o,s;$S&&!(n instanceof me)&&(n.$from.parent.inlineContent||(o=kS(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=kS(t,n.to))),t.docView.setSelection(r,i,t.root,e),$S&&(o&&AS(o),s&&AS(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&gQ(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const $S=mt||st&&UJ<63;function kS(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(mt&&i&&i.contentEditable=="false")return Wd(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Wd(i);if(o)return Wd(o)}}function Wd(t){return t.contentEditable="true",mt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function AS(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function gQ(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!wO(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function yQ(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,dt(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&At&&Mr<=11&&(r.disabled=!0,r.disabled=!1)}function EO(t,e){if(e instanceof J){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(PS(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else PS(t)}function PS(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Kg(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||me.between(e,n,r)}function _S(t){return t.editable&&!t.hasFocus()?!1:CO(t)}function CO(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function vQ(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Ai(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Rh(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&ae.findFrom(o,e)}function cr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function MS(t,e,n){let r=t.state.selection;if(r instanceof me)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return cr(t,new me(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Rh(t.state,e);return i&&i instanceof J?cr(t,i):!1}else if(!(Ht&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?J.isSelectable(o)?cr(t,new J(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):Ql?cr(t,new me(t.state.doc.resolve(e<0?l:l+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof J&&r.node.isInline)return cr(t,new me(e>0?r.$to:r.$from));{let i=Rh(t.state,e);return i?cr(t,i):!1}}}function ic(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function nl(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Yi(t,e){return e<0?SQ(t):bQ(t)}function SQ(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(yn&&n.nodeType==1&&r<ic(n)&&nl(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(nl(l,-1))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(xO(n))break;{let l=n.previousSibling;for(;l&&nl(l,-1);)i=n.parentNode,o=dt(l),l=l.previousSibling;if(l)n=l,r=ic(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?Lh(t,n,r):i&&Lh(t,i,o)}function bQ(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=ic(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(nl(l,1))o=n,s=++r;else break}else{if(xO(n))break;{let l=n.nextSibling;for(;l&&nl(l,1);)o=l.parentNode,s=dt(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=ic(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&Lh(t,o,s)}function xO(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function wQ(t,e){for(;t&&e==t.childNodes.length&&!Wg(t);)e=dt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function EQ(t,e){for(;t&&!e&&!Wg(t);)e=dt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Lh(t,e,n){if(e.nodeType!=3){let o,s;(s=wQ(e,n))?(e=s,n=0):(o=EQ(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(yf(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Qn(t)},50)}function NS(t,e){let n=t.state.doc.resolve(e);if(!(st||WJ)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function IS(t,e,n){let r=t.state.selection;if(r instanceof me&&!r.empty||n.indexOf("s")>-1||Ht&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Rh(t.state,e);if(s&&s instanceof J)return cr(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,l=r instanceof Lt?ae.near(s,e):ae.findFrom(s,e);return l?cr(t,l):!1}return!1}function DS(t,e){if(!(t.state.selection instanceof me))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function RS(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function CQ(t){if(!mt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;RS(t,r,"true"),setTimeout(()=>RS(t,r,"false"),20)}return!1}function xQ(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function TQ(t,e){let n=e.keyCode,r=xQ(e);if(n==8||Ht&&n==72&&r=="c")return DS(t,-1)||Yi(t,-1);if(n==46&&!e.shiftKey||Ht&&n==68&&r=="c")return DS(t,1)||Yi(t,1);if(n==13||n==27)return!0;if(n==37||Ht&&n==66&&r=="c"){let i=n==37?NS(t,t.state.selection.from)=="ltr"?-1:1:-1;return MS(t,i,r)||Yi(t,i)}else if(n==39||Ht&&n==70&&r=="c"){let i=n==39?NS(t,t.state.selection.from)=="ltr"?1:-1:1;return MS(t,i,r)||Yi(t,i)}else{if(n==38||Ht&&n==80&&r=="c")return IS(t,-1,r)||Yi(t,-1);if(n==40||Ht&&n==78&&r=="c")return CQ(t)||IS(t,1,r)||Yi(t,1);if(r==(Ht?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function TO(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let s=t.someProp("clipboardSerializer")||Yn.fromSchema(t.state.schema),l=_O(),a=l.createElement("div");a.appendChild(s.serializeFragment(r,{document:l}));let u=a.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=PO[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let h=l.createElement(c[p]);for(;a.firstChild;)h.appendChild(a.firstChild);a.appendChild(h),f++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:d}}function OO(t,e,n,r,i){let o=i.parent.type.spec.code,s,l;if(!n&&!e)return null;let a=e&&(r||o||!n);if(a){if(t.someProp("transformPastedText",d=>{e=d(e,o||r,t)}),o)return e?new V(F.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):V.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,r,t));if(f)l=f;else{let d=i.marks(),{schema:p}=t.state,h=Yn.fromSchema(p);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let S=s.appendChild(document.createElement("p"));v&&S.appendChild(h.serializeNode(p.text(v,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),s=kQ(n),Ql&&AQ(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0;f--){let d=s.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;s=d}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Pl.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(a||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!OQ.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)l=PQ(LS(l,+c[1],+c[2]),c[4]);else if(l=V.maxOpen($Q(l.content,i),!0),l.openStart||l.openEnd){let f=0,d=0;for(let p=l.content.firstChild;f<l.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=l.content.lastChild;d<l.openEnd&&!p.type.spec.isolating;d++,p=p.lastChild);l=LS(l,f,d)}return t.someProp("transformPasted",f=>{l=f(l,t)}),l}const OQ=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function $Q(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(l=>{if(!s)return;let a=i.findWrapping(l.type),u;if(!a)return s=null;if(u=s.length&&o.length&&kO(a,o,l,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=AO(s[s.length-1],o.length));let c=$O(l,a);s.push(c),i=i.matchType(c.type),o=a}}),s)return F.from(s)}return t}function $O(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,F.from(t));return t}function kO(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=kO(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(F.from($O(n,t,i+1))))}}function AO(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,AO(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(F.empty,!0);return t.copy(n.append(r))}function Fh(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,l=s.content;return t.childCount>1&&(o=0),i<r-1&&(l=Fh(l,e,n,r,i+1,o)),i>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(F.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function LS(t,e,n){return e<t.openStart&&(t=new V(Fh(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new V(Fh(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const PO={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let FS=null;function _O(){return FS||(FS=document.implementation.createHTMLDocument("title"))}function kQ(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=_O().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&PO[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function AQ(t){let e=t.querySelectorAll(st?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function PQ(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;i=F.from(a.create(r[l+1],i)),o++,s++}return new V(i,o,s)}const gt={},yt={},_Q={touchstart:!0,touchmove:!0};class MQ{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function NQ(t){for(let e in gt){let n=gt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{DQ(t,r)&&!Gg(t,r)&&(t.editable||!(r.type in yt))&&n(t,r)},_Q[e]?{passive:!0}:void 0)}mt&&t.dom.addEventListener("input",()=>null),Bh(t)}function wr(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function IQ(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Bh(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Gg(t,r))})}function Gg(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function DQ(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function RQ(t,e){!Gg(t,e)&&gt[e.type]&&(t.editable||!(e.type in yt))&&gt[e.type](t,e)}yt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!NO(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(un&&st&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ho&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,ni(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||TQ(t,n)?n.preventDefault():wr(t,"key")};yt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};yt.keypress=(t,e)=>{let n=e;if(NO(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ht&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof me)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Sf(t){return{left:t.clientX,top:t.clientY}}function LQ(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function qg(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,l=>s>o.depth?l(t,n,o.nodeAfter,o.before(s),i,!0):l(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function ko(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function FQ(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&J.isSelectable(r)?(ko(t,new J(n),"pointer"),!0):!1}function BQ(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof J&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if(J.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(ko(t,J.create(t.state.doc,i),"pointer"),!0):!1}function zQ(t,e,n,r,i){return qg(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?BQ(t,n):FQ(t,n))}function jQ(t,e,n,r){return qg(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function UQ(t,e,n,r){return qg(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||WQ(t,n,r)}function WQ(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(ko(t,me.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)ko(t,me.create(r,l+1,l+1+s.content.size),"pointer");else if(J.isSelectable(s))ko(t,J.create(r,l),"pointer");else continue;return!0}}function Yg(t){return oc(t)}const MO=Ht?"metaKey":"ctrlKey";gt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Yg(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&LQ(n,t.input.lastClick)&&!n[MO]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(Sf(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new VQ(t,s,n,!!r)):(o=="doubleClick"?jQ:UQ)(t,s.pos,s.inside,n)?n.preventDefault():wr(t,"pointer"))};class VQ{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[MO],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,s=c.depth?c.before():0}const l=i?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a?a.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof J&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&yn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),wr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Qn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Sf(e))),this.updateAllowDefault(e),this.allowDefault||!n?wr(this.view,"pointer"):zQ(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||mt&&this.mightDrag&&!this.mightDrag.node.isAtom||st&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ko(this.view,ae.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):wr(this.view,"pointer")}move(e){this.updateAllowDefault(e),wr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}gt.touchstart=t=>{t.input.lastTouch=Date.now(),Yg(t),wr(t,"pointer")};gt.touchmove=t=>{t.input.lastTouch=Date.now(),wr(t,"pointer")};gt.contextmenu=t=>Yg(t);function NO(t,e){return t.composing?!0:mt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const HQ=un?5e3:-1;yt.compositionstart=yt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),oc(t,!0),t.markCursor=null;else if(oc(t),yn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){t.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}IO(t,HQ)};yt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,IO(t,20))};function IO(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>oc(t),e))}function DO(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=KQ());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function KQ(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function oc(t,e=!1){if(!(un&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),DO(t),e||t.docView&&t.docView.dirty){let n=Hg(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function GQ(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Nl=At&&Mr<15||Ho&&VJ<604;gt.copy=yt.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Nl?null:n.clipboardData,s=r.content(),{dom:l,text:a}=TO(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",a)):GQ(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function qQ(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function YQ(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Il(t,r.value,null,i,e):Il(t,r.textContent,r.innerHTML,i,e)},50)}function Il(t,e,n,r,i){let o=OO(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,i,o||V.empty)))return!0;if(!o)return!1;let s=qQ(o),l=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function RO(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}yt.paste=(t,e)=>{let n=e;if(t.composing&&!un)return;let r=Nl?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Il(t,RO(r),r.getData("text/html"),i,n)?n.preventDefault():YQ(t,n)};class LO{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const FO=Ht?"altKey":"ctrlKey";gt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Sf(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof J?i.to-1:i.to))){if(r&&r.mightDrag)s=J.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let c=t.docView.nearestDesc(n.target,!0);c&&c.node.type.spec.draggable&&c!=t.docView&&(s=J.create(t.state.doc,c.posBefore))}}let l=(s||t.state.selection).content(),{dom:a,text:u}=TO(t,l);n.dataTransfer.clearData(),n.dataTransfer.setData(Nl?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",Nl||n.dataTransfer.setData("text/plain",u),t.dragging=new LO(l,!n[FO],s)};gt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};yt.dragover=yt.dragenter=(t,e)=>e.preventDefault();yt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Sf(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",h=>{s=h(s,t)}):s=OO(t,RO(n.dataTransfer),Nl?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(r&&!n[FO]);if(t.someProp("handleDrop",h=>h(t,n,s||V.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let a=s?OJ(t.state.doc,o.pos,s):o.pos;a==null&&(a=o.pos);let u=t.state.tr;if(l){let{node:h}=r;h?h.replace(u):u.deleteSelection()}let c=u.mapping.map(a),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(d))return;let p=u.doc.resolve(c);if(f&&J.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new J(p));else{let h=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((v,S,m,y)=>h=y),u.setSelection(Kg(t,p,u.doc.resolve(h)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};gt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Qn(t)},20))};gt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};gt.beforeinput=(t,e)=>{if(st&&un&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,ni(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in yt)gt[t]=yt[t];function Dl(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class sc{constructor(e,n){this.toDOM=e,this.spec=n||yi,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new dn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof sc&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Dl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ir{constructor(e,n){this.attrs=e,this.spec=n||yi}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new dn(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ir&&Dl(this.attrs,e.attrs)&&Dl(this.spec,e.spec)}static is(e){return e.type instanceof Ir}destroy(){}}class Jg{constructor(e,n){this.attrs=e,this.spec=n||yi}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new dn(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof Jg&&Dl(this.attrs,e.attrs)&&Dl(this.spec,e.spec)}destroy(){}}class dn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new dn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new dn(e,e,new sc(n,r))}static inline(e,n,r,i){return new dn(e,n,new Ir(r,i))}static node(e,n,r,i){return new dn(e,n,new Jg(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ir}get widget(){return this.type instanceof sc}}const to=[],yi={};class ze{constructor(e,n){this.local=e.length?e:to,this.children=n.length?n:to}static create(e,n){return n.length?lc(n,e,0,yi):rt}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,r,i+l,o)}}map(e,n,r){return this==rt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||yi)}mapInner(e,n,r,i,o){let s;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,i);a&&a.type.valid(n,a)?(s||(s=[])).push(a):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?JQ(this.children,s||[],e,n,r,i,o):s?new ze(s.sort(vi),to):rt}add(e,n){return n.length?this==rt?ze.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((l,a)=>{let u=a+r,c;if(c=zO(n,l,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<a;)o+=3;i[o]==a?i[o+2]=i[o+2].addInner(l,c,u+1):i.splice(o,0,a,a+l.nodeSize,lc(c,l,u+1,yi)),o+=3}});let s=BO(o?jO(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new ze(s.length?this.local.concat(s).sort(vi):this.local,i||this.children)}remove(e){return e.length==0||this==rt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+n,a=r[o+1]+n;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>l&&f.to<a&&(e[c]=null,(s||(s=[])).push(f));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(s,l+1);u!=rt?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let l=0;l<i.length;l++)i[l].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new ze(i,r):rt}forChild(e,n){if(this==rt)return this;if(n.isLeaf)return ze.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let o=e+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<s&&a.to>o&&a.type instanceof Ir){let u=Math.max(o,a.from)-o,c=Math.min(s,a.to)-o;u<c&&(i||(i=[])).push(a.copy(u,c))}}if(i){let l=new ze(i.sort(vi),to);return r?new mr([l,r]):l}return r||rt}eq(e){if(this==e)return!0;if(!(e instanceof ze)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Qg(this.localsInner(e))}localsInner(e){if(this==rt)return to;if(e.inlineContent||!this.local.some(Ir.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ir||n.push(this.local[r]);return n}}ze.empty=new ze([],[]);ze.removeOverlap=Qg;const rt=ze.empty;class mr{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,yi));return mr.from(r)}forChild(e,n){if(n.isLeaf)return ze.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=rt&&(o instanceof mr?r=r.concat(o.members):r.push(o))}return mr.from(r)}eq(e){if(!(e instanceof mr)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?Qg(r?n:n.sort(vi)):to}static from(e){switch(e.length){case 0:return rt;case 1:return e[0];default:return new mr(e.every(n=>n instanceof ze)?e:e.reduce((n,r)=>n.concat(r instanceof ze?r:r.members),[]))}}}function JQ(t,e,n,r,i,o,s){let l=t.slice();for(let u=0,c=o;u<n.maps.length;u++){let f=0;n.maps[u].forEach((d,p,h,v)=>{let S=v-h-(p-d);for(let m=0;m<l.length;m+=3){let y=l[m+1];if(y<0||d>y+c-f)continue;let g=l[m]+c-f;p>=g?l[m+1]=d<=g?-2:-1:d>=c&&S&&(l[m]+=S,l[m+1]+=S)}f+=S}),c=n.maps[u].map(c,-1)}let a=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){a=!0,l[u+1]=-1;continue}let c=n.map(t[u]+o),f=c-i;if(f<0||f>=r.content.size){a=!0;continue}let d=n.map(t[u+1]+o,-1),p=d-i,{index:h,offset:v}=r.content.findIndex(f),S=r.maybeChild(h);if(S&&v==f&&v+S.nodeSize==p){let m=l[u+2].mapInner(n,S,c+1,t[u]+o+1,s);m!=rt?(l[u]=f,l[u+1]=p,l[u+2]=m):(l[u+1]=-2,a=!0)}else a=!0}if(a){let u=QQ(l,t,e,n,i,o,s),c=lc(u,r,0,s);e=c.local;for(let f=0;f<l.length;f+=3)l[f+1]<0&&(l.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let p=c.children[f];for(;d<l.length&&l[d]<p;)d+=3;l.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new ze(e.sort(vi),l)}function BO(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new dn(i.from+e,i.to+e,i.type))}return n}function QQ(t,e,n,r,i,o,s){function l(a,u){for(let c=0;c<a.local.length;c++){let f=a.local[c].map(r,i,u);f?n.push(f):s.onRemove&&s.onRemove(a.local[c].spec)}for(let c=0;c<a.children.length;c+=3)l(a.children[c+2],a.children[c]+u+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+o+1);return n}function zO(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function jO(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function lc(t,e,n,r){let i=[],o=!1;e.forEach((l,a)=>{let u=zO(t,l,a+n);if(u){o=!0;let c=lc(u,l,n+a+1,r);c!=rt&&i.push(a,a+l.nodeSize,c)}});let s=BO(o?jO(t):t,-n).sort(vi);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new ze(s,i):rt}function vi(t,e){return t.from-e.from||t.to-e.to}function Qg(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),BS(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),BS(e,i,r.copy(o.from,r.to)));break}}}return e}function BS(t,e,n){for(;e<t.length&&vi(n,t[e])>0;)e++;t.splice(e,0,n)}function Vd(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=rt&&e.push(r)}),t.cursorWrapper&&e.push(ze.create(t.state.doc,[t.cursorWrapper.deco])),mr.from(e)}const XQ={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ZQ=At&&Mr<=11;class eX{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class tX{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new eX,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);At&&Mr<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),ZQ&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,XQ)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(_S(this.view)){if(this.suppressingSelectionUpdates)return Qn(this.view);if(At&&Mr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ai(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Ml(o))n.add(o);for(let o=e.anchorNode;o;o=Ml(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&_S(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,l=!1,a=[];if(e.editable)for(let c=0;c<n.length;c++){let f=this.registerMutation(n[c],a);f&&(o=o<0?f.from:Math.min(f.from,o),s=s<0?f.to:Math.max(f.to,s),f.typeOver&&(l=!0))}if(yn&&a.length>1){let c=a.filter(f=>f.nodeName=="BR");if(c.length==2){let f=c[0],d=c[1];f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}}let u=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&yf(r)&&(u=Hg(e))&&u.eq(ae.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Qn(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),nX(e)),this.handleDOMChange(o,s,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Qn(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)n.push(e.addedNodes[c]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(At&&Mr<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d)}let s=i&&i.parentNode==e.target?dt(i)+1:0,l=r.localPosFromDOM(e.target,s,-1),a=o&&o.parentNode==e.target?dt(o):e.target.childNodes.length,u=r.localPosFromDOM(e.target,a,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let zS=new WeakMap,jS=!1;function nX(t){if(!zS.has(t)&&(zS.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=yn,jS)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),jS=!0}}function rX(t){let e;function n(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return Ai(l.node,l.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}function iX(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),u,c=a.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:a.anchorOffset}],yf(a)||u.push({node:a.focusNode,offset:a.focusOffset})),st&&t.input.lastKeyCode===8)for(let S=o;S>i;S--){let m=r.childNodes[S-1],y=m.pmViewDesc;if(m.nodeName=="BR"&&!y){o=S;break}if(!y||y.size)break}let f=t.state.doc,d=t.someProp("domParser")||Pl.fromSchema(t.state.schema),p=f.resolve(s),h=null,v=d.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:oX,context:p});if(u&&u[0].pos!=null){let S=u[0].pos,m=u[1]&&u[1].pos;m==null&&(m=S),h={anchor:S+s,head:m+s}}return{doc:v,sel:h,from:s,to:l}}function oX(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(mt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||mt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const sX=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function lX(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let A=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,I=Hg(t,A);if(I&&!t.state.selection.eq(I)){if(st&&un&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",$=>$(t,ni(13,"Enter"))))return;let M=t.state.tr.setSelection(I);A=="pointer"?M.setMeta("pointer",!0):A=="key"&&M.scrollIntoView(),o&&M.setMeta("composition",o),t.dispatch(M)}return}let s=t.state.doc.resolve(e),l=s.sharedDepth(n);e=s.before(l+1),n=t.state.doc.resolve(n).after(l+1);let a=t.state.selection,u=iX(t,e,n),c=t.state.doc,f=c.slice(u.from,u.to),d,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,p="end"):(d=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let h=cX(f.content,u.doc.content,u.from,d,p);if((Ho&&t.input.lastIOSEnter>Date.now()-225||un)&&i.some(A=>A.nodeType==1&&!sX.test(A.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",A=>A(t,ni(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&a instanceof me&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))h={start:a.from,endA:a.to,endB:a.to};else{if(u.sel){let A=US(t,t.state.doc,u.sel);if(A&&!A.eq(t.state.selection)){let I=t.state.tr.setSelection(A);o&&I.setMeta("composition",o),t.dispatch(I)}}return}if(st&&t.cursorWrapper&&u.sel&&u.sel.anchor==t.cursorWrapper.deco.from&&u.sel.head==u.sel.anchor){let A=h.endB-h.start;u.sel={anchor:u.sel.anchor+A,head:u.sel.anchor+A}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof me&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),At&&Mr<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>u.from&&u.doc.textBetween(h.start-u.from-1,h.start-u.from+1)=="  "&&(h.start--,h.endA--,h.endB--);let v=u.doc.resolveNoCache(h.start-u.from),S=u.doc.resolveNoCache(h.endB-u.from),m=c.resolve(h.start),y=v.sameParent(S)&&v.parent.inlineContent&&m.end()>=h.endA,g;if((Ho&&t.input.lastIOSEnter>Date.now()-225&&(!y||i.some(A=>A.nodeName=="DIV"||A.nodeName=="P"))||!y&&v.pos<u.doc.content.size&&!v.sameParent(S)&&(g=ae.findFrom(u.doc.resolve(v.pos+1),1,!0))&&g.head==S.pos)&&t.someProp("handleKeyDown",A=>A(t,ni(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&uX(c,h.start,h.endA,v,S)&&t.someProp("handleKeyDown",A=>A(t,ni(8,"Backspace")))){un&&st&&t.domObserver.suppressSelectionUpdates();return}st&&un&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),un&&!y&&v.start()!=S.start()&&S.parentOffset==0&&v.depth==S.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==h.endA&&(h.endB-=2,S=u.doc.resolveNoCache(h.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(A){return A(t,ni(13,"Enter"))})},20));let w=h.start,C=h.endA,x,P,b;if(y){if(v.pos==S.pos)At&&Mr<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Qn(t),20)),x=t.state.tr.delete(w,C),P=c.resolve(h.start).marksAcross(c.resolve(h.endA));else if(h.endA==h.endB&&(b=aX(v.parent.content.cut(v.parentOffset,S.parentOffset),m.parent.content.cut(m.parentOffset,h.endA-m.start()))))x=t.state.tr,b.type=="add"?x.addMark(w,C,b.mark):x.removeMark(w,C,b.mark);else if(v.parent.child(v.index()).isText&&v.index()==S.index()-(S.textOffset?0:1)){let A=v.parent.textBetween(v.parentOffset,S.parentOffset);if(t.someProp("handleTextInput",I=>I(t,w,C,A)))return;x=t.state.tr.insertText(A,w,C)}}if(x||(x=t.state.tr.replace(w,C,u.doc.slice(h.start-u.from,h.endB-u.from))),u.sel){let A=US(t,x.doc,u.sel);A&&!(st&&un&&t.composing&&A.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(A.head==w||A.head==x.mapping.map(C)-1)||At&&A.empty&&A.head==w)&&x.setSelection(A)}P&&x.ensureMarks(P),o&&x.setMeta("composition",o),t.dispatch(x.scrollIntoView())}function US(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Kg(t,e.resolve(n.anchor),e.resolve(n.head))}function aX(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,l,a;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(i.length==1&&o.length==0)l=i[0],s="add",a=c=>c.mark(l.addToSet(c.marks));else if(i.length==0&&o.length==1)l=o[0],s="remove",a=c=>c.mark(l.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(a(e.child(c)));if(F.from(u).eq(t))return{mark:l,type:s}}function uX(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||Hd(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(Hd(o,!0,!0));return!s.parent.isTextblock||s.pos>n||Hd(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Hd(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function cX(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let a=Math.max(0,o-Math.min(s,l));r-=s+a-o}if(s<o&&t.size<e.size){let a=r<=o&&r>=s?o-r:0;o-=a,o&&o<e.size&&WS(e.textBetween(o-1,o+1))&&(o+=a?1:-1),l=o+(l-s),s=o}else if(l<o){let a=r<=o&&r>=l?o-r:0;o-=a,o&&o<t.size&&WS(t.textBetween(o-1,o+1))&&(o+=a?1:-1),s=o+(s-l),l=o}return{start:o,endA:s,endB:l}}function WS(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class wZ{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new MQ,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(qS),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=KS(this),HS(this),this.nodeViews=GS(this),this.docView=TS(this.state.doc,VS(this),Vd(this),this.dom,this),this.domObserver=new tX(this,(r,i,o,s)=>lX(this,r,i,o,s)),this.domObserver.start(),NQ(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Bh(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(qS),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(DO(this),s=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=GS(this);dX(p,this.nodeViews)&&(this.nodeViews=p,o=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&Bh(this),this.editable=KS(this),HS(this);let a=Vd(this),u=VS(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=o||!this.docView.matchesNode(e.doc,u,a);(f||!e.selection.eq(i.selection))&&(s=!0);let d=c=="preserve"&&s&&this.dom.style.overflowAnchor==null&&GJ(this);if(s){this.domObserver.stop();let p=f&&(At||st)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&fX(i.selection,e.selection);if(f){let h=st?this.trackWrites=this.domSelectionRange().focusNode:null;(o||!this.docView.update(e.doc,u,a,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=TS(e.doc,u,a,this.dom,this)),h&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&vQ(this))?Qn(this,p):(EO(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():d&&qJ(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof J){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&SS(this,n.getBoundingClientRect(),e)}else SS(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new LO(e.slice,e.move,i<0?void 0:J.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(i=n?n(l):l))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let l=o[s].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(At){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&YJ(this.dom),Qn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return eQ(this,e)}coordsAtPos(e,n=1){return hO(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return oQ(this,n||this.state,e)}pasteHTML(e,n){return Il(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Il(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(IQ(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Vd(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return RQ(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return mt&&this.root.nodeType===11&&zJ(this.dom.ownerDocument)==this.dom?rX(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function VS(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[dn.node(0,t.state.doc.content.size,e)]}function HS(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:dn.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function KS(t){return!t.someProp("editable",e=>e(t.state)===!1)}function fX(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function GS(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function dX(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function qS(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var zr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ac={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},pX=typeof navigator<"u"&&/Mac/.test(navigator.platform),hX=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ye=0;Ye<10;Ye++)zr[48+Ye]=zr[96+Ye]=String(Ye);for(var Ye=1;Ye<=24;Ye++)zr[Ye+111]="F"+Ye;for(var Ye=65;Ye<=90;Ye++)zr[Ye]=String.fromCharCode(Ye+32),ac[Ye]=String.fromCharCode(Ye);for(var Kd in zr)ac.hasOwnProperty(Kd)||(ac[Kd]=zr[Kd]);function mX(t){var e=pX&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||hX&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?ac:zr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const gX=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function yX(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))gX?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function vX(t){let e=Object.create(null);for(let n in t)e[yX(n)]=t[n];return e}function Gd(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function EZ(t){return new sO({props:{handleKeyDown:SX(t)}})}function SX(t){let e=vX(t);return function(n,r){let i=mX(r),o,s=e[Gd(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[Gd(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=zr[r.keyCode])&&o!=i){let l=e[Gd(o,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const UO=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function bX(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const wX=(t,e,n)=>{let r=bX(t,n);if(!r)return!1;let i=WO(r);if(!i){let s=r.blockRange(),l=s&&zg(s);return l==null?!1:(e&&e(t.tr.lift(s,l).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&HO(t,i,e))return!0;if(r.parent.content.size==0&&(Ko(o,"end")||J.isSelectable(o))){let s=jg(t.doc,r.before(),r.after(),V.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Ko(o,"end")?ae.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):J.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function Ko(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const EX=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=WO(r)}let s=o&&o.nodeBefore;return!s||!J.isSelectable(s)?!1:(e&&e(t.tr.setSelection(J.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function WO(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function CX(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const xX=(t,e,n)=>{let r=CX(t,n);if(!r)return!1;let i=VO(r);if(!i)return!1;let o=i.nodeAfter;if(HO(t,i,e))return!0;if(r.parent.content.size==0&&(Ko(o,"start")||J.isSelectable(o))){let s=jg(t.doc,r.before(),r.after(),V.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(Ko(o,"start")?ae.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):J.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},TX=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=VO(r)}let s=o&&o.nodeAfter;return!s||!J.isSelectable(s)?!1:(e&&e(t.tr.setSelection(J.create(t.doc,o.pos)).scrollIntoView()),!0)};function VO(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const OX=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Xg(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const $X=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=Xg(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,s.createAndFill());a.setSelection(ae.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},kX=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Lt||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=Xg(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(s,o.createAndFill());l.setSelection(me.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},AX=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(ru(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&zg(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function PX(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof J&&e.selection.node.isBlock)return!r.parentOffset||!ru(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let o=i.parentOffset==i.parent.content.size,s=e.tr;(e.selection instanceof me||e.selection instanceof Lt)&&s.deleteSelection();let l=r.depth==0?null:Xg(r.node(-1).contentMatchAt(r.indexAfter(-1))),a=t&&t(i.parent,o),u=a?[a]:o&&l?[{type:l}]:void 0,c=ru(s.doc,s.mapping.map(r.pos),1,u);if(!u&&!c&&ru(s.doc,s.mapping.map(r.pos),1,l?[{type:l}]:void 0)&&(l&&(u=[{type:l}]),c=!0),c&&(s.split(s.mapping.map(r.pos),1,u),!o&&!r.parentOffset&&r.parent.type!=l)){let f=s.mapping.map(r.before()),d=s.doc.resolve(f);l&&r.node(-1).canReplaceWith(d.index(),d.index()+1,l)&&s.setNodeMarkup(s.mapping.map(r.before()),l)}n(s.scrollIntoView())}return!0}}const _X=PX(),MX=(t,e)=>(e&&e(t.tr.setSelection(new Lt(t.doc))),!0);function NX(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||eO(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function HO(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(NX(t,e,n))return!0;let l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let f=e.pos+i.nodeSize,d=F.empty;for(let v=o.length-1;v>=0;v--)d=F.from(o[v].create(null,d));d=F.from(r.copy(d));let p=t.tr.step(new Rt(e.pos-1,f,e.pos,f,new V(d,1,0),o.length,!0)),h=f+2*o.length;eO(p.doc,h)&&p.join(h),n(p.scrollIntoView())}return!0}let a=ae.findFrom(e,1),u=a&&a.$from.blockRange(a.$to),c=u&&zg(u);if(c!=null&&c>=e.depth)return n&&n(t.tr.lift(u,c).scrollIntoView()),!0;if(l&&Ko(i,"start",!0)&&Ko(r,"end")){let f=r,d=[];for(;d.push(f),!f.isTextblock;)f=f.lastChild;let p=i,h=1;for(;!p.isTextblock;p=p.firstChild)h++;if(f.canReplace(f.childCount,f.childCount,p.content)){if(n){let v=F.empty;for(let m=d.length-1;m>=0;m--)v=F.from(d[m].copy(v));let S=t.tr.step(new Rt(e.pos-d.length,e.pos+i.nodeSize,e.pos+h,e.pos+i.nodeSize-h,new V(v,d.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function KO(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(me.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const IX=KO(-1),DX=KO(1);function Zg(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let qd=Zg(UO,wX,EX),YS=Zg(UO,xX,TX);const Kn={Enter:Zg(OX,kX,AX,_X),"Mod-Enter":$X,Backspace:qd,"Mod-Backspace":qd,"Shift-Backspace":qd,Delete:YS,"Mod-Delete":YS,"Mod-a":MX},GO={"Ctrl-h":Kn.Backspace,"Alt-Backspace":Kn["Mod-Backspace"],"Ctrl-d":Kn.Delete,"Ctrl-Alt-Backspace":Kn["Mod-Delete"],"Alt-Delete":Kn["Mod-Delete"],"Alt-d":Kn["Mod-Delete"],"Ctrl-a":IX,"Ctrl-e":DX};for(let t in Kn)GO[t]=Kn[t];const RX=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,CZ=RX?GO:Kn;var uc=200,Ue=function(){};Ue.prototype.append=function(e){return e.length?(e=Ue.from(e),!this.length&&e||e.length<uc&&this.leafAppend(e)||this.length<uc&&e.leafPrepend(this)||this.appendInner(e)):this};Ue.prototype.prepend=function(e){return e.length?Ue.from(e).append(this):this};Ue.prototype.appendInner=function(e){return new LX(this,e)};Ue.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ue.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ue.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ue.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Ue.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};Ue.from=function(e){return e instanceof Ue?e:e&&e.length?new qO(e):Ue.empty};var qO=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,l){for(var a=o;a<s;a++)if(i(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,l){for(var a=o-1;a>=s;a--)if(i(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=uc)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=uc)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Ue);Ue.empty=new qO([]);var LX=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(o,l),s)===!1||o>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,o)-l,s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(o,l)-l,s+l)===!1||o<l&&this.left.forEachInvertedInner(r,Math.min(i,l),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ue);const FX=500;class fn{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,l,a,u=[],c=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(r,d+1),o=i.maps.length),o--,c.push(f);return}if(i){c.push(new Cn(f.map));let p=f.step.map(i.slice(o)),h;p&&s.maybeStep(p).doc&&(h=s.mapping.maps[s.mapping.maps.length-1],u.push(new Cn(h,void 0,void 0,u.length+c.length))),o--,h&&i.appendMap(h,o)}else s.maybeStep(f.step);if(f.selection)return l=i?f.selection.map(i.slice(o)):f.selection,a=new fn(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:s,selection:l}}addTransform(e,n,r,i){let o=[],s=this.eventCount,l=this.items,a=!i&&l.length?l.get(l.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),d=new Cn(e.mapping.maps[c],f,n),p;(p=a&&a.merge(d))&&(d=p,c?o.pop():l=l.slice(0,l.length-1)),o.push(d),n&&(s++,n=void 0),i||(a=d)}let u=s-r.depth;return u>zX&&(l=BX(l,u),s-=u),new fn(l.append(o),s)}remapping(e,n){let r=new Oo;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new fn(this.items.append(e.map(n=>new Cn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(d=>{d.selection&&l--},i);let a=n;this.items.forEach(d=>{let p=o.getMirror(--a);if(p==null)return;s=Math.min(s,p);let h=o.maps[p];if(d.step){let v=e.steps[p].invert(e.docs[p]),S=d.selection&&d.selection.map(o.slice(a+1,p));S&&l++,r.push(new Cn(h,v,S))}else r.push(new Cn(h))},i);let u=[];for(let d=n;d<s;d++)u.push(new Cn(o.maps[d]));let c=this.items.slice(0,i).append(u).append(r),f=new fn(c,l);return f.emptyItemCount()>FX&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,l)=>{if(l>=e)i.push(s),s.selection&&o++;else if(s.step){let a=s.step.map(n.slice(r)),u=a&&a.getMap();if(r--,u&&n.appendMap(u,r),a){let c=s.selection&&s.selection.map(n.slice(r));c&&o++;let f=new Cn(u.invert(),a,c),d,p=i.length-1;(d=i.length&&i[p].merge(f))?i[p]=d:i.push(f)}}else s.map&&r--},this.items.length,0),new fn(Ue.from(i.reverse()),o)}}fn.empty=new fn(Ue.empty,0);function BX(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Cn{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Cn(n.getMap().invert(),n,this.selection)}}}class fr{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const zX=20;function jX(t,e,n,r){let i=n.getMeta(Dr),o;if(i)return i.historyState;n.getMeta(WX)&&(t=new fr(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Dr))return s.getMeta(Dr).redo?new fr(t.done.addTransform(n,void 0,r,iu(e)),t.undone,JS(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new fr(t.done,t.undone.addTransform(n,void 0,r,iu(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=t.prevTime==0||!s&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!UX(n,t.prevRanges)),u=s?Yd(t.prevRanges,n.mapping):JS(n.mapping.maps[n.steps.length-1]);return new fr(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,iu(e)),fn.empty,u,n.time,l??t.prevComposition)}else return(o=n.getMeta("rebased"))?new fr(t.done.rebased(n,o),t.undone.rebased(n,o),Yd(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new fr(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Yd(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function UX(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function JS(t){let e=[];return t.forEach((n,r,i,o)=>e.push(i,o)),e}function Yd(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function YO(t,e,n,r){let i=iu(e),o=Dr.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let l=s.selection.resolve(s.transform.doc),a=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),u=new fr(r?a:s.remaining,r?s.remaining:a,null,0,-1);n(s.transform.setSelection(l).setMeta(Dr,{redo:r,historyState:u}).scrollIntoView())}let Jd=!1,QS=null;function iu(t){let e=t.plugins;if(QS!=e){Jd=!1,QS=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Jd=!0;break}}return Jd}const Dr=new aO("history"),WX=new aO("closeHistory");function xZ(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new sO({key:Dr,state:{init(){return new fr(fn.empty,fn.empty,null,0,-1)},apply(e,n,r){return jX(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?VX:r=="historyRedo"?HX:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const VX=(t,e)=>{let n=Dr.getState(t);return!n||n.done.eventCount==0?!1:(e&&YO(n,t,e,!1),!0)},HX=(t,e)=>{let n=Dr.getState(t);return!n||n.undone.eventCount==0?!1:(e&&YO(n,t,e,!0),!0)};export{uZ as $,pZ as A,hZ as B,xZ as C,EZ as D,VX as E,vZ as F,HX as G,CZ as H,cZ as I,Ls as J,Pl as K,wZ as L,jY as M,WY as N,hK as O,aZ as P,We as R,bZ as S,tZ as U,JX as _,QX as a,ol as b,ZX as c,XX as d,oe as e,YX as f,qX as g,KX as h,GX as i,iZ as j,D7 as k,lZ as l,nZ as m,fZ as n,yZ as o,kc as p,rZ as q,_ as r,dZ as s,sZ as t,oZ as u,eZ as v,gZ as w,oT as x,SZ as y,mZ as z};
