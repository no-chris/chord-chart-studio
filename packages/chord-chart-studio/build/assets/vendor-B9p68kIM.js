var Sn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function v0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}function Qx(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var S0=Qx;function Xx(t){return t}var fl=Xx,Zx=S0,eg=Math.max;function eO(t,e,n){return e=eg(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=eg(r.length-e,0),s=Array(o);++i<o;)s[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(s),Zx(t,this,l)}}var w0=eO;function tO(t){return function(){return t}}var E0=tO,nO=typeof Sn=="object"&&Sn&&Sn.Object===Object&&Sn,C0=nO,rO=C0,iO=typeof self=="object"&&self&&self.Object===Object&&self,oO=rO||iO||Function("return this")(),dn=oO,sO=dn,lO=sO.Symbol,ko=lO,tg=ko,b0=Object.prototype,aO=b0.hasOwnProperty,uO=b0.toString,Ko=tg?tg.toStringTag:void 0;function cO(t){var e=aO.call(t,Ko),n=t[Ko];try{t[Ko]=void 0;var r=!0}catch{}var i=uO.call(t);return r&&(e?t[Ko]=n:delete t[Ko]),i}var fO=cO,dO=Object.prototype,pO=dO.toString;function hO(t){return pO.call(t)}var mO=hO,ng=ko,gO=fO,yO=mO,vO="[object Null]",SO="[object Undefined]",rg=ng?ng.toStringTag:void 0;function wO(t){return t==null?t===void 0?SO:vO:rg&&rg in Object(t)?gO(t):yO(t)}var gi=wO;function EO(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Jt=EO,CO=gi,bO=Jt,xO="[object AsyncFunction]",OO="[object Function]",TO="[object GeneratorFunction]",kO="[object Proxy]";function AO(t){if(!bO(t))return!1;var e=CO(t);return e==OO||e==TO||e==xO||e==kO}var Np=AO,_O=dn,NO=_O["__core-js_shared__"],MO=NO,$c=MO,ig=function(){var t=/[^.]+$/.exec($c&&$c.keys&&$c.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function IO(t){return!!ig&&ig in t}var PO=IO,$O=Function.prototype,DO=$O.toString;function RO(t){if(t!=null){try{return DO.call(t)}catch{}try{return t+""}catch{}}return""}var x0=RO,LO=Np,FO=PO,BO=Jt,zO=x0,jO=/[\\^$.*+?()[\]{}|]/g,UO=/^\[object .+?Constructor\]$/,VO=Function.prototype,WO=Object.prototype,HO=VO.toString,GO=WO.hasOwnProperty,KO=RegExp("^"+HO.call(GO).replace(jO,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qO(t){if(!BO(t)||FO(t))return!1;var e=LO(t)?KO:UO;return e.test(zO(t))}var YO=qO;function JO(t,e){return t==null?void 0:t[e]}var QO=JO,XO=YO,ZO=QO;function eT(t,e){var n=ZO(t,e);return XO(n)?n:void 0}var yi=eT,tT=yi,nT=function(){try{var t=tT(Object,"defineProperty");return t({},"",{}),t}catch{}}(),O0=nT,rT=E0,og=O0,iT=fl,oT=og?function(t,e){return og(t,"toString",{configurable:!0,enumerable:!1,value:rT(e),writable:!0})}:iT,sT=oT,lT=800,aT=16,uT=Date.now;function cT(t){var e=0,n=0;return function(){var r=uT(),i=aT-(r-n);if(n=r,i>0){if(++e>=lT)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var fT=cT,dT=sT,pT=fT,hT=pT(dT),T0=hT,mT=fl,gT=w0,yT=T0;function vT(t,e){return yT(gT(t,e,mT),t+"")}var Ao=vT;function ST(){this.__data__=[],this.size=0}var wT=ST;function ET(t,e){return t===e||t!==t&&e!==e}var dl=ET,CT=dl;function bT(t,e){for(var n=t.length;n--;)if(CT(t[n][0],e))return n;return-1}var Ou=bT,xT=Ou,OT=Array.prototype,TT=OT.splice;function kT(t){var e=this.__data__,n=xT(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():TT.call(e,n,1),--this.size,!0}var AT=kT,_T=Ou;function NT(t){var e=this.__data__,n=_T(e,t);return n<0?void 0:e[n][1]}var MT=NT,IT=Ou;function PT(t){return IT(this.__data__,t)>-1}var $T=PT,DT=Ou;function RT(t,e){var n=this.__data__,r=DT(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var LT=RT,FT=wT,BT=AT,zT=MT,jT=$T,UT=LT;function _o(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_o.prototype.clear=FT;_o.prototype.delete=BT;_o.prototype.get=zT;_o.prototype.has=jT;_o.prototype.set=UT;var Tu=_o,VT=Tu;function WT(){this.__data__=new VT,this.size=0}var HT=WT;function GT(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var KT=GT;function qT(t){return this.__data__.get(t)}var YT=qT;function JT(t){return this.__data__.has(t)}var QT=JT,XT=yi,ZT=dn,ek=XT(ZT,"Map"),Mp=ek,tk=yi,nk=tk(Object,"create"),ku=nk,sg=ku;function rk(){this.__data__=sg?sg(null):{},this.size=0}var ik=rk;function ok(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var sk=ok,lk=ku,ak="__lodash_hash_undefined__",uk=Object.prototype,ck=uk.hasOwnProperty;function fk(t){var e=this.__data__;if(lk){var n=e[t];return n===ak?void 0:n}return ck.call(e,t)?e[t]:void 0}var dk=fk,pk=ku,hk=Object.prototype,mk=hk.hasOwnProperty;function gk(t){var e=this.__data__;return pk?e[t]!==void 0:mk.call(e,t)}var yk=gk,vk=ku,Sk="__lodash_hash_undefined__";function wk(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=vk&&e===void 0?Sk:e,this}var Ek=wk,Ck=ik,bk=sk,xk=dk,Ok=yk,Tk=Ek;function No(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}No.prototype.clear=Ck;No.prototype.delete=bk;No.prototype.get=xk;No.prototype.has=Ok;No.prototype.set=Tk;var kk=No,lg=kk,Ak=Tu,_k=Mp;function Nk(){this.size=0,this.__data__={hash:new lg,map:new(_k||Ak),string:new lg}}var Mk=Nk;function Ik(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Pk=Ik,$k=Pk;function Dk(t,e){var n=t.__data__;return $k(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Au=Dk,Rk=Au;function Lk(t){var e=Rk(this,t).delete(t);return this.size-=e?1:0,e}var Fk=Lk,Bk=Au;function zk(t){return Bk(this,t).get(t)}var jk=zk,Uk=Au;function Vk(t){return Uk(this,t).has(t)}var Wk=Vk,Hk=Au;function Gk(t,e){var n=Hk(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Kk=Gk,qk=Mk,Yk=Fk,Jk=jk,Qk=Wk,Xk=Kk;function Mo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Mo.prototype.clear=qk;Mo.prototype.delete=Yk;Mo.prototype.get=Jk;Mo.prototype.has=Qk;Mo.prototype.set=Xk;var Ip=Mo,Zk=Tu,eA=Mp,tA=Ip,nA=200;function rA(t,e){var n=this.__data__;if(n instanceof Zk){var r=n.__data__;if(!eA||r.length<nA-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new tA(r)}return n.set(t,e),this.size=n.size,this}var iA=rA,oA=Tu,sA=HT,lA=KT,aA=YT,uA=QT,cA=iA;function Io(t){var e=this.__data__=new oA(t);this.size=e.size}Io.prototype.clear=sA;Io.prototype.delete=lA;Io.prototype.get=aA;Io.prototype.has=uA;Io.prototype.set=cA;var _u=Io,ag=O0;function fA(t,e,n){e=="__proto__"&&ag?ag(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Pp=fA,dA=Pp,pA=dl;function hA(t,e,n){(n!==void 0&&!pA(t[e],n)||n===void 0&&!(e in t))&&dA(t,e,n)}var k0=hA;function mA(t){return function(e,n,r){for(var i=-1,o=Object(e),s=r(e),l=s.length;l--;){var a=s[t?l:++i];if(n(o[a],a,o)===!1)break}return e}}var gA=mA,yA=gA,vA=yA(),A0=vA,ka={exports:{}};ka.exports;(function(t,e){var n=dn,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o?n.Buffer:void 0,l=s?s.allocUnsafe:void 0;function a(u,c){if(c)return u.slice();var f=u.length,d=l?l(f):new u.constructor(f);return u.copy(d),d}t.exports=a})(ka,ka.exports);var _0=ka.exports,SA=dn,wA=SA.Uint8Array,N0=wA,ug=N0;function EA(t){var e=new t.constructor(t.byteLength);return new ug(e).set(new ug(t)),e}var $p=EA,CA=$p;function bA(t,e){var n=e?CA(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var M0=bA;function xA(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var I0=xA,OA=Jt,cg=Object.create,TA=function(){function t(){}return function(e){if(!OA(e))return{};if(cg)return cg(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),kA=TA;function AA(t,e){return function(n){return t(e(n))}}var P0=AA,_A=P0,NA=_A(Object.getPrototypeOf,Object),Dp=NA,MA=Object.prototype;function IA(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||MA;return t===n}var Rp=IA,PA=kA,$A=Dp,DA=Rp;function RA(t){return typeof t.constructor=="function"&&!DA(t)?PA($A(t)):{}}var $0=RA;function LA(t){return t!=null&&typeof t=="object"}var kn=LA,FA=gi,BA=kn,zA="[object Arguments]";function jA(t){return BA(t)&&FA(t)==zA}var UA=jA,fg=UA,VA=kn,D0=Object.prototype,WA=D0.hasOwnProperty,HA=D0.propertyIsEnumerable,GA=fg(function(){return arguments}())?fg:function(t){return VA(t)&&WA.call(t,"callee")&&!HA.call(t,"callee")},Nu=GA,KA=Array.isArray,yt=KA;const Lp=xe(yt);var qA=9007199254740991;function YA(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=qA}var Fp=YA,JA=Np,QA=Fp;function XA(t){return t!=null&&QA(t.length)&&!JA(t)}var vi=XA,ZA=vi,e_=kn;function t_(t){return e_(t)&&ZA(t)}var Mu=t_,Aa={exports:{}};function n_(){return!1}var r_=n_;Aa.exports;(function(t,e){var n=dn,r=r_,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,l=s?n.Buffer:void 0,a=l?l.isBuffer:void 0,u=a||r;t.exports=u})(Aa,Aa.exports);var Iu=Aa.exports,i_=gi,o_=Dp,s_=kn,l_="[object Object]",a_=Function.prototype,u_=Object.prototype,R0=a_.toString,c_=u_.hasOwnProperty,f_=R0.call(Object);function d_(t){if(!s_(t)||i_(t)!=l_)return!1;var e=o_(t);if(e===null)return!0;var n=c_.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&R0.call(n)==f_}var L0=d_,p_=gi,h_=Fp,m_=kn,g_="[object Arguments]",y_="[object Array]",v_="[object Boolean]",S_="[object Date]",w_="[object Error]",E_="[object Function]",C_="[object Map]",b_="[object Number]",x_="[object Object]",O_="[object RegExp]",T_="[object Set]",k_="[object String]",A_="[object WeakMap]",__="[object ArrayBuffer]",N_="[object DataView]",M_="[object Float32Array]",I_="[object Float64Array]",P_="[object Int8Array]",$_="[object Int16Array]",D_="[object Int32Array]",R_="[object Uint8Array]",L_="[object Uint8ClampedArray]",F_="[object Uint16Array]",B_="[object Uint32Array]",Ee={};Ee[M_]=Ee[I_]=Ee[P_]=Ee[$_]=Ee[D_]=Ee[R_]=Ee[L_]=Ee[F_]=Ee[B_]=!0;Ee[g_]=Ee[y_]=Ee[__]=Ee[v_]=Ee[N_]=Ee[S_]=Ee[w_]=Ee[E_]=Ee[C_]=Ee[b_]=Ee[x_]=Ee[O_]=Ee[T_]=Ee[k_]=Ee[A_]=!1;function z_(t){return m_(t)&&h_(t.length)&&!!Ee[p_(t)]}var j_=z_;function U_(t){return function(e){return t(e)}}var Po=U_,_a={exports:{}};_a.exports;(function(t,e){var n=C0,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,l=function(){try{var a=i&&i.require&&i.require("util").types;return a||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l})(_a,_a.exports);var Bp=_a.exports,V_=j_,W_=Po,dg=Bp,pg=dg&&dg.isTypedArray,H_=pg?W_(pg):V_,zp=H_;function G_(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var F0=G_,K_=Pp,q_=dl,Y_=Object.prototype,J_=Y_.hasOwnProperty;function Q_(t,e,n){var r=t[e];(!(J_.call(t,e)&&q_(r,n))||n===void 0&&!(e in t))&&K_(t,e,n)}var jp=Q_,X_=jp,Z_=Pp;function eN(t,e,n,r){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var l=e[o],a=r?r(n[l],t[l],l,n,t):void 0;a===void 0&&(a=t[l]),i?Z_(n,l,a):X_(n,l,a)}return n}var $o=eN;function tN(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var nN=tN,rN=9007199254740991,iN=/^(?:0|[1-9]\d*)$/;function oN(t,e){var n=typeof t;return e=e??rN,!!e&&(n=="number"||n!="symbol"&&iN.test(t))&&t>-1&&t%1==0&&t<e}var Pu=oN,sN=nN,lN=Nu,aN=yt,uN=Iu,cN=Pu,fN=zp,dN=Object.prototype,pN=dN.hasOwnProperty;function hN(t,e){var n=aN(t),r=!n&&lN(t),i=!n&&!r&&uN(t),o=!n&&!r&&!i&&fN(t),s=n||r||i||o,l=s?sN(t.length,String):[],a=l.length;for(var u in t)(e||pN.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||cN(u,a)))&&l.push(u);return l}var B0=hN;function mN(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var gN=mN,yN=Jt,vN=Rp,SN=gN,wN=Object.prototype,EN=wN.hasOwnProperty;function CN(t){if(!yN(t))return SN(t);var e=vN(t),n=[];for(var r in t)r=="constructor"&&(e||!EN.call(t,r))||n.push(r);return n}var bN=CN,xN=B0,ON=bN,TN=vi;function kN(t){return TN(t)?xN(t,!0):ON(t)}var pl=kN,AN=$o,_N=pl;function NN(t){return AN(t,_N(t))}var MN=NN,hg=k0,IN=_0,PN=M0,$N=I0,DN=$0,mg=Nu,gg=yt,RN=Mu,LN=Iu,FN=Np,BN=Jt,zN=L0,jN=zp,yg=F0,UN=MN;function VN(t,e,n,r,i,o,s){var l=yg(t,n),a=yg(e,n),u=s.get(a);if(u){hg(t,n,u);return}var c=o?o(l,a,n+"",t,e,s):void 0,f=c===void 0;if(f){var d=gg(a),p=!d&&LN(a),h=!d&&!p&&jN(a);c=a,d||p||h?gg(l)?c=l:RN(l)?c=$N(l):p?(f=!1,c=IN(a,!0)):h?(f=!1,c=PN(a,!0)):c=[]:zN(a)||mg(a)?(c=l,mg(l)?c=UN(l):(!BN(l)||FN(l))&&(c=DN(a))):f=!1}f&&(s.set(a,c),i(c,a,r,o,s),s.delete(a)),hg(t,n,c)}var WN=VN,HN=_u,GN=k0,KN=A0,qN=WN,YN=Jt,JN=pl,QN=F0;function z0(t,e,n,r,i){t!==e&&KN(e,function(o,s){if(i||(i=new HN),YN(o))qN(t,e,s,n,z0,r,i);else{var l=r?r(QN(t,s),o,s+"",t,e,i):void 0;l===void 0&&(l=o),GN(t,s,l)}},JN)}var j0=z0,XN=j0,vg=Jt;function U0(t,e,n,r,i,o){return vg(t)&&vg(e)&&(o.set(e,t),XN(t,e,void 0,U0,o),o.delete(e)),t}var ZN=U0,eM=dl,tM=vi,nM=Pu,rM=Jt;function iM(t,e,n){if(!rM(n))return!1;var r=typeof e;return(r=="number"?tM(n)&&nM(e,n.length):r=="string"&&e in n)?eM(n[e],t):!1}var V0=iM,oM=Ao,sM=V0;function lM(t){return oM(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,s&&sM(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var l=n[r];l&&t(e,l,r,o)}return e})}var aM=lM,uM=j0,cM=aM,fM=cM(function(t,e,n,r){uM(t,e,n,r)}),dM=fM,pM=S0,hM=Ao,mM=ZN,gM=dM,yM=hM(function(t){return t.push(void 0,mM),pM(gM,void 0,t)}),vM=yM;const Gq=xe(vM);function $s(t){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(t)}function SM(t,e){if($s(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wM(t){var e=SM(t,"string");return $s(e)=="symbol"?e:String(e)}function EM(t,e,n){return e=wM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sg(Object(n),!0).forEach(function(r){EM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function He(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var Eg=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Dc=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ds={INIT:"@@redux/INIT"+Dc(),REPLACE:"@@redux/REPLACE"+Dc(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Dc()}};function CM(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Up(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(He(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(He(1));return n(Up)(t,e)}if(typeof t!="function")throw new Error(He(2));var i=t,o=e,s=[],l=s,a=!1;function u(){l===s&&(l=s.slice())}function c(){if(a)throw new Error(He(3));return o}function f(v){if(typeof v!="function")throw new Error(He(4));if(a)throw new Error(He(5));var S=!0;return u(),l.push(v),function(){if(S){if(a)throw new Error(He(6));S=!1,u();var y=l.indexOf(v);l.splice(y,1),s=null}}}function d(v){if(!CM(v))throw new Error(He(7));if(typeof v.type>"u")throw new Error(He(8));if(a)throw new Error(He(9));try{a=!0,o=i(o,v)}finally{a=!1}for(var S=s=l,m=0;m<S.length;m++){var y=S[m];y()}return v}function p(v){if(typeof v!="function")throw new Error(He(10));i=v,d({type:Ds.REPLACE})}function h(){var v,S=f;return v={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(He(11));function g(){y.next&&y.next(c())}g();var w=S(g);return{unsubscribe:w}}},v[Eg]=function(){return this},v}return d({type:Ds.INIT}),r={dispatch:d,subscribe:f,getState:c,replaceReducer:p},r[Eg]=h,r}var bM=Up;function xM(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Ds.INIT});if(typeof r>"u")throw new Error(He(12));if(typeof n(void 0,{type:Ds.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(He(13))})}function OM(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var o=Object.keys(n),s;try{xM(n)}catch(l){s=l}return function(a,u){if(a===void 0&&(a={}),s)throw s;for(var c=!1,f={},d=0;d<o.length;d++){var p=o[d],h=n[p],v=a[p],S=h(v,u);if(typeof S>"u")throw u&&u.type,new Error(He(14));f[p]=S,c=c||S!==v}return c=c||o.length!==Object.keys(a).length,c?f:a}}function Cg(t,e){return function(){return e(t.apply(this,arguments))}}function TM(t,e){if(typeof t=="function")return Cg(t,e);if(typeof t!="object"||t===null)throw new Error(He(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=Cg(i,e))}return n}function W0(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function kM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(He(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},l=e.map(function(a){return a(s)});return o=W0.apply(void 0,l)(i.dispatch),wg(wg({},i),{},{dispatch:o})}}}const AM=Object.freeze(Object.defineProperty({__proto__:null,__DO_NOT_USE__ActionTypes:Ds,applyMiddleware:kM,bindActionCreators:TM,combineReducers:OM,compose:W0,createStore:Up,legacy_createStore:bM},Symbol.toStringTag,{value:"Module"})),_M=v0(AM);var bg=_M.compose,Kq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bg:bg.apply(null,arguments)};function H0(t){var e=function(r){var i=r.dispatch,o=r.getState;return function(s){return function(l){return typeof l=="function"?l(i,o,t):s(l)}}};return e}var G0=H0();G0.withExtraArgument=H0;const qq=G0;var K0={},Vp={};Object.defineProperty(Vp,"__esModule",{value:!0});Vp.default=MM;function NM(){return"@@is-valid-redux-reducer/"+Math.random().toString(36).substring(7).split("").join("\\")}function MM(t){var e=arguments.length<=1||arguments[1]===void 0?!1:arguments[1];if(typeof t!="function"){if(e)throw new Error("Reducer must be a function.");return!1}var n=t(void 0,{type:NM()});if(typeof n>"u"){if(e)throw new Error("Reducer must return the initial state if the state is undefined.");return!1}return!0}Object.defineProperty(K0,"__esModule",{value:!0});var Yq=K0.default=DM,IM=Vp,PM=$M(IM);function $M(t){return t&&t.__esModule?t:{default:t}}function DM(t){var e=Object.keys(t),n=void 0;try{for(var r=0;r<e.length;r++)(0,PM.default)(t[e[r]],!0)}catch(i){n=i}return function(i,o,s){if(n)throw n;var l=!1,a=typeof i>"u"?{}:Object.assign({},i);function u(c,f,d){for(var p=0;p<e.length;p++){var h=e[p],v=c(h),S=t[h](v,f,d);a[h]=S,l=l||S!==v}}return typeof i>"u"?u(function(c){},o,void 0):typeof s>"u"?u(function(c){return i[c]},o,i):u(function(c){return i[c]},o,s),l?a:i}}var RM=gi,LM=kn,FM="[object Symbol]";function BM(t){return typeof t=="symbol"||LM(t)&&RM(t)==FM}var hl=BM,zM=yt,jM=hl,UM=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VM=/^\w*$/;function WM(t,e){if(zM(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||jM(t)?!0:VM.test(t)||!UM.test(t)||e!=null&&t in Object(e)}var Wp=WM,q0=Ip,HM="Expected a function";function Hp(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(HM);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(Hp.Cache||q0),n}Hp.Cache=q0;var GM=Hp,KM=GM,qM=500;function YM(t){var e=KM(t,function(r){return n.size===qM&&n.clear(),r}),n=e.cache;return e}var JM=YM,QM=JM,XM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ZM=/\\(\\)?/g,eI=QM(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(XM,function(n,r,i,o){e.push(i?o.replace(ZM,"$1"):r||n)}),e}),tI=eI;function nI(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Si=nI,xg=ko,rI=Si,iI=yt,oI=hl,sI=1/0,Og=xg?xg.prototype:void 0,Tg=Og?Og.toString:void 0;function Y0(t){if(typeof t=="string")return t;if(iI(t))return rI(t,Y0)+"";if(oI(t))return Tg?Tg.call(t):"";var e=t+"";return e=="0"&&1/t==-sI?"-0":e}var lI=Y0,aI=lI;function uI(t){return t==null?"":aI(t)}var J0=uI,cI=yt,fI=Wp,dI=tI,pI=J0;function hI(t,e){return cI(t)?t:fI(t,e)?[t]:dI(pI(t))}var Do=hI,mI=hl,gI=1/0;function yI(t){if(typeof t=="string"||mI(t))return t;var e=t+"";return e=="0"&&1/t==-gI?"-0":e}var Ro=yI,vI=Do,SI=Ro;function wI(t,e){e=vI(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[SI(e[n++])];return n&&n==r?t:void 0}var ml=wI,EI=jp,CI=Do,bI=Pu,kg=Jt,xI=Ro;function OI(t,e,n,r){if(!kg(t))return t;e=CI(e,t);for(var i=-1,o=e.length,s=o-1,l=t;l!=null&&++i<o;){var a=xI(e[i]),u=n;if(a==="__proto__"||a==="constructor"||a==="prototype")return t;if(i!=s){var c=l[a];u=r?r(c,a,l):void 0,u===void 0&&(u=kg(c)?c:bI(e[i+1])?[]:{})}EI(l,a,u),l=l[a]}return t}var TI=OI,kI=ml,AI=TI,_I=Do;function NI(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],l=kI(t,s);n(l,s)&&AI(o,_I(s,t),l)}return o}var MI=NI;function II(t,e){return t!=null&&e in Object(t)}var PI=II,$I=Do,DI=Nu,RI=yt,LI=Pu,FI=Fp,BI=Ro;function zI(t,e,n){e=$I(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var s=BI(e[r]);if(!(o=t!=null&&n(t,s)))break;t=t[s]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&FI(i)&&LI(s,i)&&(RI(t)||DI(t)))}var jI=zI,UI=PI,VI=jI;function WI(t,e){return t!=null&&VI(t,e,UI)}var Q0=WI,HI=MI,GI=Q0;function KI(t,e){return HI(t,e,function(n,r){return GI(t,r)})}var qI=KI;function YI(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Gp=YI,Ag=ko,JI=Nu,QI=yt,_g=Ag?Ag.isConcatSpreadable:void 0;function XI(t){return QI(t)||JI(t)||!!(_g&&t&&t[_g])}var ZI=XI,eP=Gp,tP=ZI;function X0(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=tP),i||(i=[]);++o<s;){var l=t[o];e>0&&n(l)?e>1?X0(l,e-1,n,r,i):eP(i,l):r||(i[i.length]=l)}return i}var Kp=X0,nP=Kp;function rP(t){var e=t==null?0:t.length;return e?nP(t,1):[]}var iP=rP,oP=iP,sP=w0,lP=T0;function aP(t){return lP(sP(t,void 0,oP),t+"")}var Z0=aP,uP=qI,cP=Z0,fP=cP(function(t,e){return t==null?{}:uP(t,e)}),dP=fP;const Jq=xe(dP);var pP="__lodash_hash_undefined__";function hP(t){return this.__data__.set(t,pP),this}var mP=hP;function gP(t){return this.__data__.has(t)}var yP=gP,vP=Ip,SP=mP,wP=yP;function Na(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new vP;++e<n;)this.add(t[e])}Na.prototype.add=Na.prototype.push=SP;Na.prototype.has=wP;var $u=Na;function EP(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var CP=EP;function bP(t,e){return t.has(e)}var Du=bP,xP=$u,OP=CP,TP=Du,kP=1,AP=2;function _P(t,e,n,r,i,o){var s=n&kP,l=t.length,a=e.length;if(l!=a&&!(s&&a>l))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=n&AP?new xP:void 0;for(o.set(t,e),o.set(e,t);++f<l;){var h=t[f],v=e[f];if(r)var S=s?r(v,h,f,e,t,o):r(h,v,f,t,e,o);if(S!==void 0){if(S)continue;d=!1;break}if(p){if(!OP(e,function(m,y){if(!TP(p,y)&&(h===m||i(h,m,n,r,o)))return p.push(y)})){d=!1;break}}else if(!(h===v||i(h,v,n,r,o))){d=!1;break}}return o.delete(t),o.delete(e),d}var eS=_P;function NP(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var MP=NP;function IP(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var qp=IP,Ng=ko,Mg=N0,PP=dl,$P=eS,DP=MP,RP=qp,LP=1,FP=2,BP="[object Boolean]",zP="[object Date]",jP="[object Error]",UP="[object Map]",VP="[object Number]",WP="[object RegExp]",HP="[object Set]",GP="[object String]",KP="[object Symbol]",qP="[object ArrayBuffer]",YP="[object DataView]",Ig=Ng?Ng.prototype:void 0,Rc=Ig?Ig.valueOf:void 0;function JP(t,e,n,r,i,o,s){switch(n){case YP:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case qP:return!(t.byteLength!=e.byteLength||!o(new Mg(t),new Mg(e)));case BP:case zP:case VP:return PP(+t,+e);case jP:return t.name==e.name&&t.message==e.message;case WP:case GP:return t==e+"";case UP:var l=DP;case HP:var a=r&LP;if(l||(l=RP),t.size!=e.size&&!a)return!1;var u=s.get(t);if(u)return u==e;r|=FP,s.set(t,e);var c=$P(l(t),l(e),r,i,o,s);return s.delete(t),c;case KP:if(Rc)return Rc.call(t)==Rc.call(e)}return!1}var QP=JP,XP=Gp,ZP=yt;function e$(t,e,n){var r=e(t);return ZP(t)?r:XP(r,n(t))}var tS=e$;function t$(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var n$=t$;function r$(){return[]}var nS=r$,i$=n$,o$=nS,s$=Object.prototype,l$=s$.propertyIsEnumerable,Pg=Object.getOwnPropertySymbols,a$=Pg?function(t){return t==null?[]:(t=Object(t),i$(Pg(t),function(e){return l$.call(t,e)}))}:o$,Yp=a$,u$=P0,c$=u$(Object.keys,Object),f$=c$,d$=Rp,p$=f$,h$=Object.prototype,m$=h$.hasOwnProperty;function g$(t){if(!d$(t))return p$(t);var e=[];for(var n in Object(t))m$.call(t,n)&&n!="constructor"&&e.push(n);return e}var y$=g$,v$=B0,S$=y$,w$=vi;function E$(t){return w$(t)?v$(t):S$(t)}var Lo=E$,C$=tS,b$=Yp,x$=Lo;function O$(t){return C$(t,x$,b$)}var rS=O$,$g=rS,T$=1,k$=Object.prototype,A$=k$.hasOwnProperty;function _$(t,e,n,r,i,o){var s=n&T$,l=$g(t),a=l.length,u=$g(e),c=u.length;if(a!=c&&!s)return!1;for(var f=a;f--;){var d=l[f];if(!(s?d in e:A$.call(e,d)))return!1}var p=o.get(t),h=o.get(e);if(p&&h)return p==e&&h==t;var v=!0;o.set(t,e),o.set(e,t);for(var S=s;++f<a;){d=l[f];var m=t[d],y=e[d];if(r)var g=s?r(y,m,d,e,t,o):r(m,y,d,t,e,o);if(!(g===void 0?m===y||i(m,y,n,r,o):g)){v=!1;break}S||(S=d=="constructor")}if(v&&!S){var w=t.constructor,x=e.constructor;w!=x&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof x=="function"&&x instanceof x)&&(v=!1)}return o.delete(t),o.delete(e),v}var N$=_$,M$=yi,I$=dn,P$=M$(I$,"DataView"),$$=P$,D$=yi,R$=dn,L$=D$(R$,"Promise"),F$=L$,B$=yi,z$=dn,j$=B$(z$,"Set"),iS=j$,U$=yi,V$=dn,W$=U$(V$,"WeakMap"),H$=W$,ed=$$,td=Mp,nd=F$,rd=iS,id=H$,oS=gi,Fo=x0,Dg="[object Map]",G$="[object Object]",Rg="[object Promise]",Lg="[object Set]",Fg="[object WeakMap]",Bg="[object DataView]",K$=Fo(ed),q$=Fo(td),Y$=Fo(nd),J$=Fo(rd),Q$=Fo(id),zr=oS;(ed&&zr(new ed(new ArrayBuffer(1)))!=Bg||td&&zr(new td)!=Dg||nd&&zr(nd.resolve())!=Rg||rd&&zr(new rd)!=Lg||id&&zr(new id)!=Fg)&&(zr=function(t){var e=oS(t),n=e==G$?t.constructor:void 0,r=n?Fo(n):"";if(r)switch(r){case K$:return Bg;case q$:return Dg;case Y$:return Rg;case J$:return Lg;case Q$:return Fg}return e});var Ru=zr,Lc=_u,X$=eS,Z$=QP,eD=N$,zg=Ru,jg=yt,Ug=Iu,tD=zp,nD=1,Vg="[object Arguments]",Wg="[object Array]",Ml="[object Object]",rD=Object.prototype,Hg=rD.hasOwnProperty;function iD(t,e,n,r,i,o){var s=jg(t),l=jg(e),a=s?Wg:zg(t),u=l?Wg:zg(e);a=a==Vg?Ml:a,u=u==Vg?Ml:u;var c=a==Ml,f=u==Ml,d=a==u;if(d&&Ug(t)){if(!Ug(e))return!1;s=!0,c=!1}if(d&&!c)return o||(o=new Lc),s||tD(t)?X$(t,e,n,r,i,o):Z$(t,e,a,n,r,i,o);if(!(n&nD)){var p=c&&Hg.call(t,"__wrapped__"),h=f&&Hg.call(e,"__wrapped__");if(p||h){var v=p?t.value():t,S=h?e.value():e;return o||(o=new Lc),i(v,S,n,r,o)}}return d?(o||(o=new Lc),eD(t,e,n,r,i,o)):!1}var oD=iD,sD=oD,Gg=kn;function sS(t,e,n,r,i){return t===e?!0:t==null||e==null||!Gg(t)&&!Gg(e)?t!==t&&e!==e:sD(t,e,n,r,sS,i)}var Jp=sS,lD=_u,aD=Jp,uD=1,cD=2;function fD(t,e,n,r){var i=n.length,o=i,s=!r;if(t==null)return!o;for(t=Object(t);i--;){var l=n[i];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++i<o;){l=n[i];var a=l[0],u=t[a],c=l[1];if(s&&l[2]){if(u===void 0&&!(a in t))return!1}else{var f=new lD;if(r)var d=r(u,c,a,t,e,f);if(!(d===void 0?aD(c,u,uD|cD,r,f):d))return!1}}return!0}var dD=fD,pD=Jt;function hD(t){return t===t&&!pD(t)}var lS=hD,mD=lS,gD=Lo;function yD(t){for(var e=gD(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,mD(i)]}return e}var vD=yD;function SD(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var aS=SD,wD=dD,ED=vD,CD=aS;function bD(t){var e=ED(t);return e.length==1&&e[0][2]?CD(e[0][0],e[0][1]):function(n){return n===t||wD(n,t,e)}}var xD=bD,OD=ml;function TD(t,e,n){var r=t==null?void 0:OD(t,e);return r===void 0?n:r}var kD=TD,AD=Jp,_D=kD,ND=Q0,MD=Wp,ID=lS,PD=aS,$D=Ro,DD=1,RD=2;function LD(t,e){return MD(t)&&ID(e)?PD($D(t),e):function(n){var r=_D(n,t);return r===void 0&&r===e?ND(n,t):AD(e,r,DD|RD)}}var FD=LD;function BD(t){return function(e){return e==null?void 0:e[t]}}var zD=BD,jD=ml;function UD(t){return function(e){return jD(e,t)}}var VD=UD,WD=zD,HD=VD,GD=Wp,KD=Ro;function qD(t){return GD(t)?WD(KD(t)):HD(t)}var YD=qD,JD=xD,QD=FD,XD=fl,ZD=yt,eR=YD;function tR(t){return typeof t=="function"?t:t==null?XD:typeof t=="object"?ZD(t)?QD(t[0],t[1]):JD(t):eR(t)}var Lu=tR,nR=A0,rR=Lo;function iR(t,e){return t&&nR(t,e,rR)}var uS=iR,oR=vi;function sR(t,e){return function(n,r){if(n==null)return n;if(!oR(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var lR=sR,aR=uS,uR=lR,cR=uR(aR),fR=cR,dR=fR,pR=vi;function hR(t,e){var n=-1,r=pR(t)?Array(t.length):[];return dR(t,function(i,o,s){r[++n]=e(i,o,s)}),r}var cS=hR,mR=Si,gR=Lu,yR=cS,vR=yt;function SR(t,e){var n=vR(t)?mR:yR;return n(t,gR(e))}var wR=SR;const Qq=xe(wR);function ER(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var CR=ER,bR=$o,xR=Lo;function OR(t,e){return t&&bR(e,xR(e),t)}var TR=OR,kR=$o,AR=pl;function _R(t,e){return t&&kR(e,AR(e),t)}var NR=_R,MR=$o,IR=Yp;function PR(t,e){return MR(t,IR(t),e)}var $R=PR,DR=Gp,RR=Dp,LR=Yp,FR=nS,BR=Object.getOwnPropertySymbols,zR=BR?function(t){for(var e=[];t;)DR(e,LR(t)),t=RR(t);return e}:FR,fS=zR,jR=$o,UR=fS;function VR(t,e){return jR(t,UR(t),e)}var WR=VR,HR=tS,GR=fS,KR=pl;function qR(t){return HR(t,KR,GR)}var dS=qR,YR=Object.prototype,JR=YR.hasOwnProperty;function QR(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&JR.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var XR=QR,ZR=$p;function eL(t,e){var n=e?ZR(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var tL=eL,nL=/\w*$/;function rL(t){var e=new t.constructor(t.source,nL.exec(t));return e.lastIndex=t.lastIndex,e}var iL=rL,Kg=ko,qg=Kg?Kg.prototype:void 0,Yg=qg?qg.valueOf:void 0;function oL(t){return Yg?Object(Yg.call(t)):{}}var sL=oL,lL=$p,aL=tL,uL=iL,cL=sL,fL=M0,dL="[object Boolean]",pL="[object Date]",hL="[object Map]",mL="[object Number]",gL="[object RegExp]",yL="[object Set]",vL="[object String]",SL="[object Symbol]",wL="[object ArrayBuffer]",EL="[object DataView]",CL="[object Float32Array]",bL="[object Float64Array]",xL="[object Int8Array]",OL="[object Int16Array]",TL="[object Int32Array]",kL="[object Uint8Array]",AL="[object Uint8ClampedArray]",_L="[object Uint16Array]",NL="[object Uint32Array]";function ML(t,e,n){var r=t.constructor;switch(e){case wL:return lL(t);case dL:case pL:return new r(+t);case EL:return aL(t,n);case CL:case bL:case xL:case OL:case TL:case kL:case AL:case _L:case NL:return fL(t,n);case hL:return new r;case mL:case vL:return new r(t);case gL:return uL(t);case yL:return new r;case SL:return cL(t)}}var IL=ML,PL=Ru,$L=kn,DL="[object Map]";function RL(t){return $L(t)&&PL(t)==DL}var LL=RL,FL=LL,BL=Po,Jg=Bp,Qg=Jg&&Jg.isMap,zL=Qg?BL(Qg):FL,jL=zL,UL=Ru,VL=kn,WL="[object Set]";function HL(t){return VL(t)&&UL(t)==WL}var GL=HL,KL=GL,qL=Po,Xg=Bp,Zg=Xg&&Xg.isSet,YL=Zg?qL(Zg):KL,JL=YL,QL=_u,XL=CR,ZL=jp,e2=TR,t2=NR,n2=_0,r2=I0,i2=$R,o2=WR,s2=rS,l2=dS,a2=Ru,u2=XR,c2=IL,f2=$0,d2=yt,p2=Iu,h2=jL,m2=Jt,g2=JL,y2=Lo,v2=pl,S2=1,w2=2,E2=4,pS="[object Arguments]",C2="[object Array]",b2="[object Boolean]",x2="[object Date]",O2="[object Error]",hS="[object Function]",T2="[object GeneratorFunction]",k2="[object Map]",A2="[object Number]",mS="[object Object]",_2="[object RegExp]",N2="[object Set]",M2="[object String]",I2="[object Symbol]",P2="[object WeakMap]",$2="[object ArrayBuffer]",D2="[object DataView]",R2="[object Float32Array]",L2="[object Float64Array]",F2="[object Int8Array]",B2="[object Int16Array]",z2="[object Int32Array]",j2="[object Uint8Array]",U2="[object Uint8ClampedArray]",V2="[object Uint16Array]",W2="[object Uint32Array]",ve={};ve[pS]=ve[C2]=ve[$2]=ve[D2]=ve[b2]=ve[x2]=ve[R2]=ve[L2]=ve[F2]=ve[B2]=ve[z2]=ve[k2]=ve[A2]=ve[mS]=ve[_2]=ve[N2]=ve[M2]=ve[I2]=ve[j2]=ve[U2]=ve[V2]=ve[W2]=!0;ve[O2]=ve[hS]=ve[P2]=!1;function aa(t,e,n,r,i,o){var s,l=e&S2,a=e&w2,u=e&E2;if(n&&(s=i?n(t,r,i,o):n(t)),s!==void 0)return s;if(!m2(t))return t;var c=d2(t);if(c){if(s=u2(t),!l)return r2(t,s)}else{var f=a2(t),d=f==hS||f==T2;if(p2(t))return n2(t,l);if(f==mS||f==pS||d&&!i){if(s=a||d?{}:f2(t),!l)return a?o2(t,t2(s,t)):i2(t,e2(s,t))}else{if(!ve[f])return i?t:{};s=c2(t,f,l)}}o||(o=new QL);var p=o.get(t);if(p)return p;o.set(t,s),g2(t)?t.forEach(function(S){s.add(aa(S,e,n,S,t,o))}):h2(t)&&t.forEach(function(S,m){s.set(m,aa(S,e,n,m,t,o))});var h=u?a?l2:s2:a?v2:y2,v=c?void 0:h(t);return XL(v||t,function(S,m){v&&(m=S,S=t[m]),ZL(s,m,aa(S,e,n,m,t,o))}),s}var Qp=aa,H2=Qp,G2=1,K2=4;function q2(t){return H2(t,G2|K2)}var Y2=q2;const ie=xe(Y2);var J2=Jp;function Q2(t,e){return J2(t,e)}var X2=Q2;const Rs=xe(X2);function Z2(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var eF=Z2,ey=hl;function tF(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=ey(t),s=e!==void 0,l=e===null,a=e===e,u=ey(e);if(!l&&!u&&!o&&t>e||o&&s&&a&&!l&&!u||r&&s&&a||!n&&a||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||l&&n&&i||!s&&i||!a)return-1}return 0}var nF=tF,rF=nF;function iF(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,s=i.length,l=n.length;++r<s;){var a=rF(i[r],o[r]);if(a){if(r>=l)return a;var u=n[r];return a*(u=="desc"?-1:1)}}return t.index-e.index}var oF=iF,Fc=Si,sF=ml,lF=Lu,aF=cS,uF=eF,cF=Po,fF=oF,dF=fl,pF=yt;function hF(t,e,n){e.length?e=Fc(e,function(o){return pF(o)?function(s){return sF(s,o.length===1?o[0]:o)}:o}):e=[dF];var r=-1;e=Fc(e,cF(lF));var i=aF(t,function(o,s,l){var a=Fc(e,function(u){return u(o)});return{criteria:a,index:++r,value:o}});return uF(i,function(o,s){return fF(o,s,n)})}var mF=hF,gF=Kp,yF=mF,vF=Ao,ty=V0,SF=vF(function(t,e){if(t==null)return[];var n=e.length;return n>1&&ty(t,e[0],e[1])?e=[]:n>2&&ty(e[0],e[1],e[2])&&(e=[e[0]]),yF(t,gF(e,1),[])}),wF=SF;const Xq=xe(wF);var Ma="NOT_FOUND";function EF(t){var e;return{get:function(r){return e&&t(e.key,r)?e.value:Ma},put:function(r,i){e={key:r,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function CF(t,e){var n=[];function r(l){var a=n.findIndex(function(c){return e(l,c.key)});if(a>-1){var u=n[a];return a>0&&(n.splice(a,1),n.unshift(u)),u.value}return Ma}function i(l,a){r(l)===Ma&&(n.unshift({key:l,value:a}),n.length>t&&n.pop())}function o(){return n}function s(){n=[]}return{get:r,put:i,getEntries:o,clear:s}}var bF=function(e,n){return e===n};function xF(t){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;for(var i=n.length,o=0;o<i;o++)if(!t(n[o],r[o]))return!1;return!0}}function Zq(t,e){var n=typeof e=="object"?e:{equalityCheck:e},r=n.equalityCheck,i=r===void 0?bF:r,o=n.maxSize,s=o===void 0?1:o,l=n.resultEqualityCheck,a=xF(i),u=s===1?EF(a):CF(s,a);function c(){var f=u.get(arguments);if(f===Ma){if(f=t.apply(null,arguments),l){var d=u.getEntries(),p=d.find(function(h){return l(h.value,f)});p&&(f=p.value)}u.put(arguments,f)}return f}return c.clearCache=function(){return u.clear()},c}function OF(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every(function(r){return typeof r=="function"})){var n=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function eY(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=function(){for(var s=arguments.length,l=new Array(s),a=0;a<s;a++)l[a]=arguments[a];var u=0,c,f={memoizeOptions:void 0},d=l.pop();if(typeof d=="object"&&(f=d,d=l.pop()),typeof d!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof d+"]");var p=f,h=p.memoizeOptions,v=h===void 0?n:h,S=Array.isArray(v)?v:[v],m=OF(l),y=t.apply(void 0,[function(){return u++,d.apply(null,arguments)}].concat(S)),g=t(function(){for(var x=[],C=m.length,O=0;O<C;O++)x.push(m[O].apply(null,arguments));return c=y.apply(null,x),c});return Object.assign(g,{resultFunc:d,memoizedResultFunc:y,dependencies:m,lastResult:function(){return c},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),g};return i}/*! @license DOMPurify 3.0.9 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.9/LICENSE */const{entries:gS,setPrototypeOf:ny,isFrozen:TF,getPrototypeOf:kF,getOwnPropertyDescriptor:AF}=Object;let{freeze:pt,seal:un,create:yS}=Object,{apply:od,construct:sd}=typeof Reflect<"u"&&Reflect;pt||(pt=function(e){return e});un||(un=function(e){return e});od||(od=function(e,n,r){return e.apply(n,r)});sd||(sd=function(e,n){return new e(...n)});const Il=Lt(Array.prototype.forEach),ry=Lt(Array.prototype.pop),qo=Lt(Array.prototype.push),ua=Lt(String.prototype.toLowerCase),Bc=Lt(String.prototype.toString),_F=Lt(String.prototype.match),Yo=Lt(String.prototype.replace),NF=Lt(String.prototype.indexOf),MF=Lt(String.prototype.trim),Zt=Lt(Object.prototype.hasOwnProperty),Nt=Lt(RegExp.prototype.test),Jo=IF(TypeError);function Lt(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return od(t,e,r)}}function IF(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return sd(t,n)}}function Z(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ua;ny&&ny(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=n(i);o!==i&&(TF(e)||(e[r]=o),i=o)}t[i]=!0}return t}function PF(t){for(let e=0;e<t.length;e++)Zt(t,e)||(t[e]=null);return t}function jr(t){const e=yS(null);for(const[n,r]of gS(t))Zt(t,n)&&(Array.isArray(r)?e[n]=PF(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=jr(r):e[n]=r);return e}function Pl(t,e){for(;t!==null;){const r=AF(t,e);if(r){if(r.get)return Lt(r.get);if(typeof r.value=="function")return Lt(r.value)}t=kF(t)}function n(){return null}return n}const iy=pt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),zc=pt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),jc=pt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$F=pt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Uc=pt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),DF=pt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),oy=pt(["#text"]),sy=pt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Vc=pt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ly=pt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),$l=pt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),RF=un(/\{\{[\w\W]*|[\w\W]*\}\}/gm),LF=un(/<%[\w\W]*|[\w\W]*%>/gm),FF=un(/\${[\w\W]*}/gm),BF=un(/^data-[\-\w.\u00B7-\uFFFF]/),zF=un(/^aria-[\-\w]+$/),vS=un(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),jF=un(/^(?:\w+script|data):/i),UF=un(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),SS=un(/^html$/i);var ay=Object.freeze({__proto__:null,MUSTACHE_EXPR:RF,ERB_EXPR:LF,TMPLIT_EXPR:FF,DATA_ATTR:BF,ARIA_ATTR:zF,IS_ALLOWED_URI:vS,IS_SCRIPT_OR_DATA:jF,ATTR_WHITESPACE:UF,DOCTYPE_NAME:SS});const VF=function(){return typeof window>"u"?null:window},WF=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function wS(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:VF();const e=U=>wS(U);if(e.version="3.0.9",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:l,Element:a,NodeFilter:u,NamedNodeMap:c=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:p}=t,h=a.prototype,v=Pl(h,"cloneNode"),S=Pl(h,"nextSibling"),m=Pl(h,"childNodes"),y=Pl(h,"parentNode");if(typeof s=="function"){const U=n.createElement("template");U.content&&U.content.ownerDocument&&(n=U.content.ownerDocument)}let g,w="";const{implementation:x,createNodeIterator:C,createDocumentFragment:O,getElementsByTagName:k}=n,{importNode:I}=r;let M={};e.isSupported=typeof gS=="function"&&typeof y=="function"&&x&&x.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:J,ERB_EXPR:T,TMPLIT_EXPR:B,DATA_ATTR:G,ARIA_ATTR:q,IS_SCRIPT_OR_DATA:he,ATTR_WHITESPACE:De}=ay;let{IS_ALLOWED_URI:D}=ay,F=null;const W=Z({},[...iy,...zc,...jc,...Uc,...oy]);let K=null;const ue=Z({},[...sy,...Vc,...ly,...$l]);let P=Object.seal(yS(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Q=null,X=null,_e=!0,ge=!0,An=!1,pn=!0,_t=!1,Jn=!1,wt=!1,_n=!1,Ci=!1,kl=!1,Al=!1,$m=!0,Dm=!1;const Ux="user-content-";let Ac=!0,Wo=!1,bi={},xi=null;const Rm=Z({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Lm=null;const Fm=Z({},["audio","video","img","source","image","track"]);let _c=null;const Bm=Z({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_l="http://www.w3.org/1998/Math/MathML",Nl="http://www.w3.org/2000/svg",Nn="http://www.w3.org/1999/xhtml";let Oi=Nn,Nc=!1,Mc=null;const Vx=Z({},[_l,Nl,Nn],Bc);let Ho=null;const Wx=["application/xhtml+xml","text/html"],Hx="text/html";let Re=null,Ti=null;const Gx=n.createElement("form"),zm=function(E){return E instanceof RegExp||E instanceof Function},Ic=function(){let E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ti&&Ti===E)){if((!E||typeof E!="object")&&(E={}),E=jr(E),Ho=Wx.indexOf(E.PARSER_MEDIA_TYPE)===-1?Hx:E.PARSER_MEDIA_TYPE,Re=Ho==="application/xhtml+xml"?Bc:ua,F=Zt(E,"ALLOWED_TAGS")?Z({},E.ALLOWED_TAGS,Re):W,K=Zt(E,"ALLOWED_ATTR")?Z({},E.ALLOWED_ATTR,Re):ue,Mc=Zt(E,"ALLOWED_NAMESPACES")?Z({},E.ALLOWED_NAMESPACES,Bc):Vx,_c=Zt(E,"ADD_URI_SAFE_ATTR")?Z(jr(Bm),E.ADD_URI_SAFE_ATTR,Re):Bm,Lm=Zt(E,"ADD_DATA_URI_TAGS")?Z(jr(Fm),E.ADD_DATA_URI_TAGS,Re):Fm,xi=Zt(E,"FORBID_CONTENTS")?Z({},E.FORBID_CONTENTS,Re):Rm,Q=Zt(E,"FORBID_TAGS")?Z({},E.FORBID_TAGS,Re):{},X=Zt(E,"FORBID_ATTR")?Z({},E.FORBID_ATTR,Re):{},bi=Zt(E,"USE_PROFILES")?E.USE_PROFILES:!1,_e=E.ALLOW_ARIA_ATTR!==!1,ge=E.ALLOW_DATA_ATTR!==!1,An=E.ALLOW_UNKNOWN_PROTOCOLS||!1,pn=E.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_t=E.SAFE_FOR_TEMPLATES||!1,Jn=E.WHOLE_DOCUMENT||!1,Ci=E.RETURN_DOM||!1,kl=E.RETURN_DOM_FRAGMENT||!1,Al=E.RETURN_TRUSTED_TYPE||!1,_n=E.FORCE_BODY||!1,$m=E.SANITIZE_DOM!==!1,Dm=E.SANITIZE_NAMED_PROPS||!1,Ac=E.KEEP_CONTENT!==!1,Wo=E.IN_PLACE||!1,D=E.ALLOWED_URI_REGEXP||vS,Oi=E.NAMESPACE||Nn,P=E.CUSTOM_ELEMENT_HANDLING||{},E.CUSTOM_ELEMENT_HANDLING&&zm(E.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(P.tagNameCheck=E.CUSTOM_ELEMENT_HANDLING.tagNameCheck),E.CUSTOM_ELEMENT_HANDLING&&zm(E.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(P.attributeNameCheck=E.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),E.CUSTOM_ELEMENT_HANDLING&&typeof E.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(P.allowCustomizedBuiltInElements=E.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_t&&(ge=!1),kl&&(Ci=!0),bi&&(F=Z({},oy),K=[],bi.html===!0&&(Z(F,iy),Z(K,sy)),bi.svg===!0&&(Z(F,zc),Z(K,Vc),Z(K,$l)),bi.svgFilters===!0&&(Z(F,jc),Z(K,Vc),Z(K,$l)),bi.mathMl===!0&&(Z(F,Uc),Z(K,ly),Z(K,$l))),E.ADD_TAGS&&(F===W&&(F=jr(F)),Z(F,E.ADD_TAGS,Re)),E.ADD_ATTR&&(K===ue&&(K=jr(K)),Z(K,E.ADD_ATTR,Re)),E.ADD_URI_SAFE_ATTR&&Z(_c,E.ADD_URI_SAFE_ATTR,Re),E.FORBID_CONTENTS&&(xi===Rm&&(xi=jr(xi)),Z(xi,E.FORBID_CONTENTS,Re)),Ac&&(F["#text"]=!0),Jn&&Z(F,["html","head","body"]),F.table&&(Z(F,["tbody"]),delete Q.tbody),E.TRUSTED_TYPES_POLICY){if(typeof E.TRUSTED_TYPES_POLICY.createHTML!="function")throw Jo('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof E.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Jo('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');g=E.TRUSTED_TYPES_POLICY,w=g.createHTML("")}else g===void 0&&(g=WF(p,i)),g!==null&&typeof w=="string"&&(w=g.createHTML(""));pt&&pt(E),Ti=E}},jm=Z({},["mi","mo","mn","ms","mtext"]),Um=Z({},["foreignobject","desc","title","annotation-xml"]),Kx=Z({},["title","style","font","a","script"]),Vm=Z({},[...zc,...jc,...$F]),Wm=Z({},[...Uc,...DF]),qx=function(E){let N=y(E);(!N||!N.tagName)&&(N={namespaceURI:Oi,tagName:"template"});const j=ua(E.tagName),ye=ua(N.tagName);return Mc[E.namespaceURI]?E.namespaceURI===Nl?N.namespaceURI===Nn?j==="svg":N.namespaceURI===_l?j==="svg"&&(ye==="annotation-xml"||jm[ye]):!!Vm[j]:E.namespaceURI===_l?N.namespaceURI===Nn?j==="math":N.namespaceURI===Nl?j==="math"&&Um[ye]:!!Wm[j]:E.namespaceURI===Nn?N.namespaceURI===Nl&&!Um[ye]||N.namespaceURI===_l&&!jm[ye]?!1:!Wm[j]&&(Kx[j]||!Vm[j]):!!(Ho==="application/xhtml+xml"&&Mc[E.namespaceURI]):!1},Lr=function(E){qo(e.removed,{element:E});try{E.parentNode.removeChild(E)}catch{E.remove()}},Pc=function(E,N){try{qo(e.removed,{attribute:N.getAttributeNode(E),from:N})}catch{qo(e.removed,{attribute:null,from:N})}if(N.removeAttribute(E),E==="is"&&!K[E])if(Ci||kl)try{Lr(N)}catch{}else try{N.setAttribute(E,"")}catch{}},Hm=function(E){let N=null,j=null;if(_n)E="<remove></remove>"+E;else{const Xe=_F(E,/^[\r\n\t ]+/);j=Xe&&Xe[0]}Ho==="application/xhtml+xml"&&Oi===Nn&&(E='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+E+"</body></html>");const ye=g?g.createHTML(E):E;if(Oi===Nn)try{N=new d().parseFromString(ye,Ho)}catch{}if(!N||!N.documentElement){N=x.createDocument(Oi,"template",null);try{N.documentElement.innerHTML=Nc?w:ye}catch{}}const Qe=N.body||N.documentElement;return E&&j&&Qe.insertBefore(n.createTextNode(j),Qe.childNodes[0]||null),Oi===Nn?k.call(N,Jn?"html":"body")[0]:Jn?N.documentElement:Qe},Gm=function(E){return C.call(E.ownerDocument||E,E,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT,null)},Yx=function(E){return E instanceof f&&(typeof E.nodeName!="string"||typeof E.textContent!="string"||typeof E.removeChild!="function"||!(E.attributes instanceof c)||typeof E.removeAttribute!="function"||typeof E.setAttribute!="function"||typeof E.namespaceURI!="string"||typeof E.insertBefore!="function"||typeof E.hasChildNodes!="function")},Km=function(E){return typeof l=="function"&&E instanceof l},Mn=function(E,N,j){M[E]&&Il(M[E],ye=>{ye.call(e,N,j,Ti)})},qm=function(E){let N=null;if(Mn("beforeSanitizeElements",E,null),Yx(E))return Lr(E),!0;const j=Re(E.nodeName);if(Mn("uponSanitizeElement",E,{tagName:j,allowedTags:F}),E.hasChildNodes()&&!Km(E.firstElementChild)&&Nt(/<[/\w]/g,E.innerHTML)&&Nt(/<[/\w]/g,E.textContent))return Lr(E),!0;if(!F[j]||Q[j]){if(!Q[j]&&Jm(j)&&(P.tagNameCheck instanceof RegExp&&Nt(P.tagNameCheck,j)||P.tagNameCheck instanceof Function&&P.tagNameCheck(j)))return!1;if(Ac&&!xi[j]){const ye=y(E)||E.parentNode,Qe=m(E)||E.childNodes;if(Qe&&ye){const Xe=Qe.length;for(let Et=Xe-1;Et>=0;--Et)ye.insertBefore(v(Qe[Et],!0),S(E))}}return Lr(E),!0}return E instanceof a&&!qx(E)||(j==="noscript"||j==="noembed"||j==="noframes")&&Nt(/<\/no(script|embed|frames)/i,E.innerHTML)?(Lr(E),!0):(_t&&E.nodeType===3&&(N=E.textContent,Il([J,T,B],ye=>{N=Yo(N,ye," ")}),E.textContent!==N&&(qo(e.removed,{element:E.cloneNode()}),E.textContent=N)),Mn("afterSanitizeElements",E,null),!1)},Ym=function(E,N,j){if($m&&(N==="id"||N==="name")&&(j in n||j in Gx))return!1;if(!(ge&&!X[N]&&Nt(G,N))){if(!(_e&&Nt(q,N))){if(!K[N]||X[N]){if(!(Jm(E)&&(P.tagNameCheck instanceof RegExp&&Nt(P.tagNameCheck,E)||P.tagNameCheck instanceof Function&&P.tagNameCheck(E))&&(P.attributeNameCheck instanceof RegExp&&Nt(P.attributeNameCheck,N)||P.attributeNameCheck instanceof Function&&P.attributeNameCheck(N))||N==="is"&&P.allowCustomizedBuiltInElements&&(P.tagNameCheck instanceof RegExp&&Nt(P.tagNameCheck,j)||P.tagNameCheck instanceof Function&&P.tagNameCheck(j))))return!1}else if(!_c[N]){if(!Nt(D,Yo(j,De,""))){if(!((N==="src"||N==="xlink:href"||N==="href")&&E!=="script"&&NF(j,"data:")===0&&Lm[E])){if(!(An&&!Nt(he,Yo(j,De,"")))){if(j)return!1}}}}}}return!0},Jm=function(E){return E!=="annotation-xml"&&E.indexOf("-")>0},Qm=function(E){Mn("beforeSanitizeAttributes",E,null);const{attributes:N}=E;if(!N)return;const j={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:K};let ye=N.length;for(;ye--;){const Qe=N[ye],{name:Xe,namespaceURI:Et,value:Fr}=Qe,Go=Re(Xe);let Ct=Xe==="value"?Fr:MF(Fr);if(j.attrName=Go,j.attrValue=Ct,j.keepAttr=!0,j.forceKeepAttr=void 0,Mn("uponSanitizeAttribute",E,j),Ct=j.attrValue,j.forceKeepAttr||(Pc(Xe,E),!j.keepAttr))continue;if(!pn&&Nt(/\/>/i,Ct)){Pc(Xe,E);continue}_t&&Il([J,T,B],Zm=>{Ct=Yo(Ct,Zm," ")});const Xm=Re(E.nodeName);if(Ym(Xm,Go,Ct)){if(Dm&&(Go==="id"||Go==="name")&&(Pc(Xe,E),Ct=Ux+Ct),g&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!Et)switch(p.getAttributeType(Xm,Go)){case"TrustedHTML":{Ct=g.createHTML(Ct);break}case"TrustedScriptURL":{Ct=g.createScriptURL(Ct);break}}try{Et?E.setAttributeNS(Et,Xe,Ct):E.setAttribute(Xe,Ct),ry(e.removed)}catch{}}}Mn("afterSanitizeAttributes",E,null)},Jx=function U(E){let N=null;const j=Gm(E);for(Mn("beforeSanitizeShadowDOM",E,null);N=j.nextNode();)Mn("uponSanitizeShadowNode",N,null),!qm(N)&&(N.content instanceof o&&U(N.content),Qm(N));Mn("afterSanitizeShadowDOM",E,null)};return e.sanitize=function(U){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=null,j=null,ye=null,Qe=null;if(Nc=!U,Nc&&(U="<!-->"),typeof U!="string"&&!Km(U))if(typeof U.toString=="function"){if(U=U.toString(),typeof U!="string")throw Jo("dirty is not a string, aborting")}else throw Jo("toString is not a function");if(!e.isSupported)return U;if(wt||Ic(E),e.removed=[],typeof U=="string"&&(Wo=!1),Wo){if(U.nodeName){const Fr=Re(U.nodeName);if(!F[Fr]||Q[Fr])throw Jo("root node is forbidden and cannot be sanitized in-place")}}else if(U instanceof l)N=Hm("<!---->"),j=N.ownerDocument.importNode(U,!0),j.nodeType===1&&j.nodeName==="BODY"||j.nodeName==="HTML"?N=j:N.appendChild(j);else{if(!Ci&&!_t&&!Jn&&U.indexOf("<")===-1)return g&&Al?g.createHTML(U):U;if(N=Hm(U),!N)return Ci?null:Al?w:""}N&&_n&&Lr(N.firstChild);const Xe=Gm(Wo?U:N);for(;ye=Xe.nextNode();)qm(ye)||(ye.content instanceof o&&Jx(ye.content),Qm(ye));if(Wo)return U;if(Ci){if(kl)for(Qe=O.call(N.ownerDocument);N.firstChild;)Qe.appendChild(N.firstChild);else Qe=N;return(K.shadowroot||K.shadowrootmode)&&(Qe=I.call(r,Qe,!0)),Qe}let Et=Jn?N.outerHTML:N.innerHTML;return Jn&&F["!doctype"]&&N.ownerDocument&&N.ownerDocument.doctype&&N.ownerDocument.doctype.name&&Nt(SS,N.ownerDocument.doctype.name)&&(Et="<!DOCTYPE "+N.ownerDocument.doctype.name+`>
`+Et),_t&&Il([J,T,B],Fr=>{Et=Yo(Et,Fr," ")}),g&&Al?g.createHTML(Et):Et},e.setConfig=function(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ic(U),wt=!0},e.clearConfig=function(){Ti=null,wt=!1},e.isValidAttribute=function(U,E,N){Ti||Ic({});const j=Re(U),ye=Re(E);return Ym(j,ye,N)},e.addHook=function(U,E){typeof E=="function"&&(M[U]=M[U]||[],qo(M[U],E))},e.removeHook=function(U){if(M[U])return ry(M[U])},e.removeHooks=function(U){M[U]&&(M[U]=[])},e.removeAllHooks=function(){M={}},e}var Fu=wS();let Dl;const HF=new Uint8Array(16);function GF(){if(!Dl&&(Dl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Dl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Dl(HF)}const We=[];for(let t=0;t<256;++t)We.push((t+256).toString(16).slice(1));function KF(t,e=0){return We[t[e+0]]+We[t[e+1]]+We[t[e+2]]+We[t[e+3]]+"-"+We[t[e+4]]+We[t[e+5]]+"-"+We[t[e+6]]+We[t[e+7]]+"-"+We[t[e+8]]+We[t[e+9]]+"-"+We[t[e+10]]+We[t[e+11]]+We[t[e+12]]+We[t[e+13]]+We[t[e+14]]+We[t[e+15]]}const qF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),uy={randomUUID:qF};function tY(t,e,n){if(uy.randomUUID&&!e&&!t)return uy.randomUUID();t=t||{};const r=t.random||(t.rng||GF)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return KF(r)}function YF(t){for(var e=[],n=0;n<t.length;){var r=t[n];if(r==="*"||r==="+"||r==="?"){e.push({type:"MODIFIER",index:n,value:t[n++]});continue}if(r==="\\"){e.push({type:"ESCAPED_CHAR",index:n++,value:t[n++]});continue}if(r==="{"){e.push({type:"OPEN",index:n,value:t[n++]});continue}if(r==="}"){e.push({type:"CLOSE",index:n,value:t[n++]});continue}if(r===":"){for(var i="",o=n+1;o<t.length;){var s=t.charCodeAt(o);if(s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||s===95){i+=t[o++];continue}break}if(!i)throw new TypeError("Missing parameter name at ".concat(n));e.push({type:"NAME",index:n,value:i}),n=o;continue}if(r==="("){var l=1,a="",o=n+1;if(t[o]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(o));for(;o<t.length;){if(t[o]==="\\"){a+=t[o++]+t[o++];continue}if(t[o]===")"){if(l--,l===0){o++;break}}else if(t[o]==="("&&(l++,t[o+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(o));a+=t[o++]}if(l)throw new TypeError("Unbalanced pattern at ".concat(n));if(!a)throw new TypeError("Missing pattern at ".concat(n));e.push({type:"PATTERN",index:n,value:a}),n=o;continue}e.push({type:"CHAR",index:n,value:t[n++]})}return e.push({type:"END",index:n,value:""}),e}function ES(t,e){e===void 0&&(e={});for(var n=YF(t),r=e.prefixes,i=r===void 0?"./":r,o="[^".concat($i(e.delimiter||"/#?"),"]+?"),s=[],l=0,a=0,u="",c=function(C){if(a<n.length&&n[a].type===C)return n[a++].value},f=function(C){var O=c(C);if(O!==void 0)return O;var k=n[a],I=k.type,M=k.index;throw new TypeError("Unexpected ".concat(I," at ").concat(M,", expected ").concat(C))},d=function(){for(var C="",O;O=c("CHAR")||c("ESCAPED_CHAR");)C+=O;return C};a<n.length;){var p=c("CHAR"),h=c("NAME"),v=c("PATTERN");if(h||v){var S=p||"";i.indexOf(S)===-1&&(u+=S,S=""),u&&(s.push(u),u=""),s.push({name:h||l++,prefix:S,suffix:"",pattern:v||o,modifier:c("MODIFIER")||""});continue}var m=p||c("ESCAPED_CHAR");if(m){u+=m;continue}u&&(s.push(u),u="");var y=c("OPEN");if(y){var S=d(),g=c("NAME")||"",w=c("PATTERN")||"",x=d();f("CLOSE"),s.push({name:g||(w?l++:""),pattern:g&&!w?o:w,prefix:S,suffix:x,modifier:c("MODIFIER")||""});continue}f("END")}return s}function JF(t,e){e===void 0&&(e={});var n=Xp(e),r=e.encode,i=r===void 0?function(a){return a}:r,o=e.validate,s=o===void 0?!0:o,l=t.map(function(a){if(typeof a=="object")return new RegExp("^(?:".concat(a.pattern,")$"),n)});return function(a){for(var u="",c=0;c<t.length;c++){var f=t[c];if(typeof f=="string"){u+=f;continue}var d=a?a[f.name]:void 0,p=f.modifier==="?"||f.modifier==="*",h=f.modifier==="*"||f.modifier==="+";if(Array.isArray(d)){if(!h)throw new TypeError('Expected "'.concat(f.name,'" to not repeat, but got an array'));if(d.length===0){if(p)continue;throw new TypeError('Expected "'.concat(f.name,'" to not be empty'))}for(var v=0;v<d.length;v++){var S=i(d[v],f);if(s&&!l[c].test(S))throw new TypeError('Expected all "'.concat(f.name,'" to match "').concat(f.pattern,'", but got "').concat(S,'"'));u+=f.prefix+S+f.suffix}continue}if(typeof d=="string"||typeof d=="number"){var S=i(String(d),f);if(s&&!l[c].test(S))throw new TypeError('Expected "'.concat(f.name,'" to match "').concat(f.pattern,'", but got "').concat(S,'"'));u+=f.prefix+S+f.suffix;continue}if(!p){var m=h?"an array":"a string";throw new TypeError('Expected "'.concat(f.name,'" to be ').concat(m))}}return u}}function QF(t,e){var n=[],r=CS(t,n,e);return XF(r,n,e)}function XF(t,e,n){n===void 0&&(n={});var r=n.decode,i=r===void 0?function(o){return o}:r;return function(o){var s=t.exec(o);if(!s)return!1;for(var l=s[0],a=s.index,u=Object.create(null),c=function(d){if(s[d]===void 0)return"continue";var p=e[d-1];p.modifier==="*"||p.modifier==="+"?u[p.name]=s[d].split(p.prefix+p.suffix).map(function(h){return i(h,p)}):u[p.name]=i(s[d],p)},f=1;f<s.length;f++)c(f);return{path:l,index:a,params:u}}}function $i(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Xp(t){return t&&t.sensitive?"":"i"}function ZF(t,e){if(!e)return t;for(var n=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,i=n.exec(t.source);i;)e.push({name:i[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),i=n.exec(t.source);return t}function e3(t,e,n){var r=t.map(function(i){return CS(i,e,n).source});return new RegExp("(?:".concat(r.join("|"),")"),Xp(n))}function t3(t,e,n){return n3(ES(t,n),e,n)}function n3(t,e,n){n===void 0&&(n={});for(var r=n.strict,i=r===void 0?!1:r,o=n.start,s=o===void 0?!0:o,l=n.end,a=l===void 0?!0:l,u=n.encode,c=u===void 0?function(M){return M}:u,f=n.delimiter,d=f===void 0?"/#?":f,p=n.endsWith,h=p===void 0?"":p,v="[".concat($i(h),"]|$"),S="[".concat($i(d),"]"),m=s?"^":"",y=0,g=t;y<g.length;y++){var w=g[y];if(typeof w=="string")m+=$i(c(w));else{var x=$i(c(w.prefix)),C=$i(c(w.suffix));if(w.pattern)if(e&&e.push(w),x||C)if(w.modifier==="+"||w.modifier==="*"){var O=w.modifier==="*"?"?":"";m+="(?:".concat(x,"((?:").concat(w.pattern,")(?:").concat(C).concat(x,"(?:").concat(w.pattern,"))*)").concat(C,")").concat(O)}else m+="(?:".concat(x,"(").concat(w.pattern,")").concat(C,")").concat(w.modifier);else w.modifier==="+"||w.modifier==="*"?m+="((?:".concat(w.pattern,")").concat(w.modifier,")"):m+="(".concat(w.pattern,")").concat(w.modifier);else m+="(?:".concat(x).concat(C,")").concat(w.modifier)}}if(a)i||(m+="".concat(S,"?")),m+=n.endsWith?"(?=".concat(v,")"):"$";else{var k=t[t.length-1],I=typeof k=="string"?S.indexOf(k[k.length-1])>-1:k===void 0;i||(m+="(?:".concat(S,"(?=").concat(v,"))?")),I||(m+="(?=".concat(S,"|").concat(v,")"))}return new RegExp(m,Xp(n))}function CS(t,e,n){return t instanceof RegExp?ZF(t,e):Array.isArray(t)?e3(t,e,n):t3(t,e,n)}/*! Universal Router | MIT License | https://www.kriasoft.com/universal-router/ */function r3(t){try{return decodeURIComponent(t)}catch{return t}}function bS(t,e,n,r,i){var o,s,l=0;return{next:function(u){if(t===u)return{done:!0,value:!1};if(!o){var c=t,f=!c.children;if(c.match||(c.match=QF(c.path||"",Object.assign({end:f},n))),o=c.match(r),o){var d=o,p=d.path;return o.path=!f&&p.charAt(p.length-1)==="/"?p.substr(1):p,o.params=Object.assign({},i,o.params),{done:!1,value:{route:t,baseUrl:e,path:o.path,params:o.params}}}}if(o&&t.children)for(;l<t.children.length;){if(!s){var h=t.children[l];h.parent=t,s=bS(h,e+o.path,n,r.substr(o.path.length),o.params)}var v=s.next(u);if(!v.done)return{done:!1,value:v.value};s=null,l++}return{done:!0,value:!1}}}}function i3(t,e){if(typeof t.route.action=="function")return t.route.action(t,e)}function o3(t,e){for(var n=e;n;)if(n=n.parent,n===t)return!0;return!1}var nY=function(){function t(n,r){if(!n||typeof n!="object")throw new TypeError("Invalid routes");this.options=Object.assign({decode:r3},r),this.baseUrl=this.options.baseUrl||"",this.root=Array.isArray(n)?{path:"",children:n,parent:null}:n,this.root.parent=null}var e=t.prototype;return e.resolve=function(r){var i=this,o=Object.assign({router:this},this.options.context,typeof r=="string"?{pathname:r}:r),s=bS(this.root,this.baseUrl,this.options,o.pathname.substr(this.baseUrl.length)),l=this.options.resolveRoute||i3,a,u,c=o;function f(d,p,h){p===void 0&&(p=!a.done&&a.value.route);var v=h===null&&!a.done&&a.value.route;if(a=u||s.next(v),u=null,!d&&(a.done||!o3(p,a.value.route)))return u=a,Promise.resolve(null);if(a.done){var S=new Error("Route not found");return S.status=404,Promise.reject(S)}return c=Object.assign({},o,a.value),Promise.resolve(l(c,a.value.params)).then(function(m){return m??f(d,p,m)})}return o.next=f,Promise.resolve().then(function(){return f(!0,i.root)}).catch(function(d){if(i.options.errorHandler)return i.options.errorHandler(d,c);throw d})},t}();/*! Universal Router | MIT License | https://www.kriasoft.com/universal-router/ */function xS(t,e,n,r,i){if(e.name&&r&&t.has(r))throw new Error('Route "'+r+'" already exists');if(e.name&&r&&t.set(r,e),n)for(var o=0;o<n.length;o++){var s=n[o],l=s.name;s.parent=e,xS(t,s,s.children,r&&i?l?r+i+l:r:l,i)}}function rY(t,e){if(!t)throw new ReferenceError("Router is not defined");var n=new Map,r=new Map,i=Object.assign({encode:encodeURIComponent},e);return function(o,s){var l=n.get(o);if(!l&&(n.clear(),r.clear(),xS(n,t.root,t.root.children,t.root.name,i.uniqueRouteNameSep),l=n.get(o),!l))throw new Error('Route "'+o+'" not found');var a=r.get(l);if(!a){for(var u="",c=l;c;){var f=Array.isArray(c.path)?c.path[0]:c.path;f&&(u=f+u),c=c.parent}for(var d=ES(u,i),p=JF(d,i),h=Object.create(null),v=0;v<d.length;v++){var S=d[v];typeof S!="string"&&(h[S.name]=!0)}a={toPath:p,keys:h},r.set(l,a)}var m=t.baseUrl+a.toPath(s)||"/";if(i.stringifyQueryParams&&s){for(var y={},g=Object.keys(s),w=0;w<g.length;w++){var x=g[w];a.keys[x]||(y[x]=s[x])}var C=i.stringifyQueryParams(y);C&&(m+=C.charAt(0)==="?"?C:"?"+C)}return m}}var s3=Error,l3=EvalError,a3=RangeError,u3=ReferenceError,OS=SyntaxError,gl=TypeError,c3=URIError,f3=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,n);if(s.value!==i||s.enumerable!==!0)return!1}return!0},cy=typeof Symbol<"u"&&Symbol,d3=f3,p3=function(){return typeof cy!="function"||typeof Symbol!="function"||typeof cy("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:d3()},Wc={__proto__:null,foo:{}},h3=Object,m3=function(){return{__proto__:Wc}.foo===Wc.foo&&!(Wc instanceof h3)},g3="Function.prototype.bind called on incompatible ",y3=Object.prototype.toString,v3=Math.max,S3="[object Function]",fy=function(e,n){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var o=0;o<n.length;o+=1)r[o+e.length]=n[o];return r},w3=function(e,n){for(var r=[],i=n||0,o=0;i<e.length;i+=1,o+=1)r[o]=e[i];return r},E3=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n},C3=function(e){var n=this;if(typeof n!="function"||y3.apply(n)!==S3)throw new TypeError(g3+n);for(var r=w3(arguments,1),i,o=function(){if(this instanceof i){var c=n.apply(this,fy(r,arguments));return Object(c)===c?c:this}return n.apply(e,fy(r,arguments))},s=v3(0,n.length-r.length),l=[],a=0;a<s;a++)l[a]="$"+a;if(i=Function("binder","return function ("+E3(l,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var u=function(){};u.prototype=n.prototype,i.prototype=new u,u.prototype=null}return i},b3=C3,Zp=Function.prototype.bind||b3,x3=Function.prototype.call,O3=Object.prototype.hasOwnProperty,T3=Zp,k3=T3.call(x3,O3),ee,A3=s3,_3=l3,N3=a3,M3=u3,uo=OS,Ji=gl,I3=c3,TS=Function,Hc=function(t){try{return TS('"use strict"; return ('+t+").constructor;")()}catch{}},Xr=Object.getOwnPropertyDescriptor;if(Xr)try{Xr({},"")}catch{Xr=null}var Gc=function(){throw new Ji},P3=Xr?function(){try{return arguments.callee,Gc}catch{try{return Xr(arguments,"callee").get}catch{return Gc}}}():Gc,ki=p3(),$3=m3(),Fe=Object.getPrototypeOf||($3?function(t){return t.__proto__}:null),Di={},D3=typeof Uint8Array>"u"||!Fe?ee:Fe(Uint8Array),Zr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ee:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ee:ArrayBuffer,"%ArrayIteratorPrototype%":ki&&Fe?Fe([][Symbol.iterator]()):ee,"%AsyncFromSyncIteratorPrototype%":ee,"%AsyncFunction%":Di,"%AsyncGenerator%":Di,"%AsyncGeneratorFunction%":Di,"%AsyncIteratorPrototype%":Di,"%Atomics%":typeof Atomics>"u"?ee:Atomics,"%BigInt%":typeof BigInt>"u"?ee:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ee:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ee:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ee:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":A3,"%eval%":eval,"%EvalError%":_3,"%Float32Array%":typeof Float32Array>"u"?ee:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ee:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ee:FinalizationRegistry,"%Function%":TS,"%GeneratorFunction%":Di,"%Int8Array%":typeof Int8Array>"u"?ee:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ee:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ee:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ki&&Fe?Fe(Fe([][Symbol.iterator]())):ee,"%JSON%":typeof JSON=="object"?JSON:ee,"%Map%":typeof Map>"u"?ee:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ki||!Fe?ee:Fe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ee:Promise,"%Proxy%":typeof Proxy>"u"?ee:Proxy,"%RangeError%":N3,"%ReferenceError%":M3,"%Reflect%":typeof Reflect>"u"?ee:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ee:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ki||!Fe?ee:Fe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ee:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ki&&Fe?Fe(""[Symbol.iterator]()):ee,"%Symbol%":ki?Symbol:ee,"%SyntaxError%":uo,"%ThrowTypeError%":P3,"%TypedArray%":D3,"%TypeError%":Ji,"%Uint8Array%":typeof Uint8Array>"u"?ee:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ee:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ee:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ee:Uint32Array,"%URIError%":I3,"%WeakMap%":typeof WeakMap>"u"?ee:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ee:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ee:WeakSet};if(Fe)try{null.error}catch(t){var R3=Fe(Fe(t));Zr["%Error.prototype%"]=R3}var L3=function t(e){var n;if(e==="%AsyncFunction%")n=Hc("async function () {}");else if(e==="%GeneratorFunction%")n=Hc("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Hc("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Fe&&(n=Fe(i.prototype))}return Zr[e]=n,n},dy={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},yl=Zp,Ia=k3,F3=yl.call(Function.call,Array.prototype.concat),B3=yl.call(Function.apply,Array.prototype.splice),py=yl.call(Function.call,String.prototype.replace),Pa=yl.call(Function.call,String.prototype.slice),z3=yl.call(Function.call,RegExp.prototype.exec),j3=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,U3=/\\(\\)?/g,V3=function(e){var n=Pa(e,0,1),r=Pa(e,-1);if(n==="%"&&r!=="%")throw new uo("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new uo("invalid intrinsic syntax, expected opening `%`");var i=[];return py(e,j3,function(o,s,l,a){i[i.length]=l?py(a,U3,"$1"):s||o}),i},W3=function(e,n){var r=e,i;if(Ia(dy,r)&&(i=dy[r],r="%"+i[0]+"%"),Ia(Zr,r)){var o=Zr[r];if(o===Di&&(o=L3(r)),typeof o>"u"&&!n)throw new Ji("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:o}}throw new uo("intrinsic "+e+" does not exist!")},Bo=function(e,n){if(typeof e!="string"||e.length===0)throw new Ji("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new Ji('"allowMissing" argument must be a boolean');if(z3(/^%?[^%]*%?$/,e)===null)throw new uo("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=V3(e),i=r.length>0?r[0]:"",o=W3("%"+i+"%",n),s=o.name,l=o.value,a=!1,u=o.alias;u&&(i=u[0],B3(r,F3([0,1],u)));for(var c=1,f=!0;c<r.length;c+=1){var d=r[c],p=Pa(d,0,1),h=Pa(d,-1);if((p==='"'||p==="'"||p==="`"||h==='"'||h==="'"||h==="`")&&p!==h)throw new uo("property names with quotes must have matching quotes");if((d==="constructor"||!f)&&(a=!0),i+="."+d,s="%"+i+"%",Ia(Zr,s))l=Zr[s];else if(l!=null){if(!(d in l)){if(!n)throw new Ji("base intrinsic for "+e+" exists, but the property is not available.");return}if(Xr&&c+1>=r.length){var v=Xr(l,d);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?l=v.get:l=l[d]}else f=Ia(l,d),l=l[d];f&&!a&&(Zr[s]=l)}}return l},kS={exports:{}},Kc,hy;function eh(){if(hy)return Kc;hy=1;var t=Bo,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Kc=e,Kc}var H3=Bo,ca=H3("%Object.getOwnPropertyDescriptor%",!0);if(ca)try{ca([],"length")}catch{ca=null}var AS=ca,my=eh(),G3=OS,Ai=gl,gy=AS,K3=function(e,n,r){if(!e||typeof e!="object"&&typeof e!="function")throw new Ai("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new Ai("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ai("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ai("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ai("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ai("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,a=!!gy&&gy(e,n);if(my)my(e,n,{configurable:s===null&&a?a.configurable:!s,enumerable:i===null&&a?a.enumerable:!i,value:r,writable:o===null&&a?a.writable:!o});else if(l||!i&&!o&&!s)e[n]=r;else throw new G3("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ld=eh(),_S=function(){return!!ld};_S.hasArrayLengthDefineBug=function(){if(!ld)return null;try{return ld([],"length",{value:1}).length!==1}catch{return!0}};var q3=_S,Y3=Bo,yy=K3,J3=q3(),vy=AS,Sy=gl,Q3=Y3("%Math.floor%"),X3=function(e,n){if(typeof e!="function")throw new Sy("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||Q3(n)!==n)throw new Sy("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,o=!0;if("length"in e&&vy){var s=vy(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(o=!1)}return(i||o||!r)&&(J3?yy(e,"length",n,!0,!0):yy(e,"length",n)),e};(function(t){var e=Zp,n=Bo,r=X3,i=gl,o=n("%Function.prototype.apply%"),s=n("%Function.prototype.call%"),l=n("%Reflect.apply%",!0)||e.call(s,o),a=eh(),u=n("%Math.max%");t.exports=function(d){if(typeof d!="function")throw new i("a function is required");var p=l(e,s,arguments);return r(p,1+u(0,d.length-(arguments.length-1)),!0)};var c=function(){return l(e,o,arguments)};a?a(t.exports,"apply",{value:c}):t.exports.apply=c})(kS);var Z3=kS.exports,NS=Bo,MS=Z3,eB=MS(NS("String.prototype.indexOf")),tB=function(e,n){var r=NS(e,!!n);return typeof r=="function"&&eB(e,".prototype.")>-1?MS(r):r};const nB={},rB=Object.freeze(Object.defineProperty({__proto__:null,default:nB},Symbol.toStringTag,{value:"Module"})),iB=v0(rB);var th=typeof Map=="function"&&Map.prototype,qc=Object.getOwnPropertyDescriptor&&th?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,$a=th&&qc&&typeof qc.get=="function"?qc.get:null,wy=th&&Map.prototype.forEach,nh=typeof Set=="function"&&Set.prototype,Yc=Object.getOwnPropertyDescriptor&&nh?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Da=nh&&Yc&&typeof Yc.get=="function"?Yc.get:null,Ey=nh&&Set.prototype.forEach,oB=typeof WeakMap=="function"&&WeakMap.prototype,gs=oB?WeakMap.prototype.has:null,sB=typeof WeakSet=="function"&&WeakSet.prototype,ys=sB?WeakSet.prototype.has:null,lB=typeof WeakRef=="function"&&WeakRef.prototype,Cy=lB?WeakRef.prototype.deref:null,aB=Boolean.prototype.valueOf,uB=Object.prototype.toString,cB=Function.prototype.toString,fB=String.prototype.match,rh=String.prototype.slice,ar=String.prototype.replace,dB=String.prototype.toUpperCase,by=String.prototype.toLowerCase,IS=RegExp.prototype.test,xy=Array.prototype.concat,vn=Array.prototype.join,pB=Array.prototype.slice,Oy=Math.floor,ad=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Jc=Object.getOwnPropertySymbols,ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,co=typeof Symbol=="function"&&typeof Symbol.iterator=="object",st=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===co||!0)?Symbol.toStringTag:null,PS=Object.prototype.propertyIsEnumerable,Ty=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function ky(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||IS.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-Oy(-t):Oy(t);if(r!==t){var i=String(r),o=rh.call(e,i.length+1);return ar.call(i,n,"$&_")+"."+ar.call(ar.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ar.call(e,n,"$&_")}var cd=iB,Ay=cd.custom,_y=DS(Ay)?Ay:null,hB=function t(e,n,r,i){var o=n||{};if(Zn(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Zn(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Zn(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Zn(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Zn(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return LS(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var a=String(e);return l?ky(e,a):a}if(typeof e=="bigint"){var u=String(e)+"n";return l?ky(e,u):u}var c=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=c&&c>0&&typeof e=="object")return fd(e)?"[Array]":"[Object]";var f=IB(o,r);if(typeof i>"u")i=[];else if(RS(i,e)>=0)return"[Circular]";function d(B,G,q){if(G&&(i=pB.call(i),i.push(G)),q){var he={depth:o.depth};return Zn(o,"quoteStyle")&&(he.quoteStyle=o.quoteStyle),t(B,he,r+1,i)}return t(B,o,r+1,i)}if(typeof e=="function"&&!Ny(e)){var p=bB(e),h=Rl(e,d);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(h.length>0?" { "+vn.call(h,", ")+" }":"")}if(DS(e)){var v=co?ar.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ud.call(e);return typeof e=="object"&&!co?Qo(v):v}if(_B(e)){for(var S="<"+by.call(String(e.nodeName)),m=e.attributes||[],y=0;y<m.length;y++)S+=" "+m[y].name+"="+$S(mB(m[y].value),"double",o);return S+=">",e.childNodes&&e.childNodes.length&&(S+="..."),S+="</"+by.call(String(e.nodeName))+">",S}if(fd(e)){if(e.length===0)return"[]";var g=Rl(e,d);return f&&!MB(g)?"["+dd(g,f)+"]":"[ "+vn.call(g,", ")+" ]"}if(yB(e)){var w=Rl(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!PS.call(e,"cause")?"{ ["+String(e)+"] "+vn.call(xy.call("[cause]: "+d(e.cause),w),", ")+" }":w.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+vn.call(w,", ")+" }"}if(typeof e=="object"&&s){if(_y&&typeof e[_y]=="function"&&cd)return cd(e,{depth:c-r});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(xB(e)){var x=[];return wy&&wy.call(e,function(B,G){x.push(d(G,e,!0)+" => "+d(B,e))}),My("Map",$a.call(e),x,f)}if(kB(e)){var C=[];return Ey&&Ey.call(e,function(B){C.push(d(B,e))}),My("Set",Da.call(e),C,f)}if(OB(e))return Qc("WeakMap");if(AB(e))return Qc("WeakSet");if(TB(e))return Qc("WeakRef");if(SB(e))return Qo(d(Number(e)));if(EB(e))return Qo(d(ad.call(e)));if(wB(e))return Qo(aB.call(e));if(vB(e))return Qo(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Sn)return"{ [object globalThis] }";if(!gB(e)&&!Ny(e)){var O=Rl(e,d),k=Ty?Ty(e)===Object.prototype:e instanceof Object||e.constructor===Object,I=e instanceof Object?"":"null prototype",M=!k&&st&&Object(e)===e&&st in e?rh.call(Ir(e),8,-1):I?"Object":"",J=k||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",T=J+(M||I?"["+vn.call(xy.call([],M||[],I||[]),": ")+"] ":"");return O.length===0?T+"{}":f?T+"{"+dd(O,f)+"}":T+"{ "+vn.call(O,", ")+" }"}return String(e)};function $S(t,e,n){var r=(n.quoteStyle||e)==="double"?'"':"'";return r+t+r}function mB(t){return ar.call(String(t),/"/g,"&quot;")}function fd(t){return Ir(t)==="[object Array]"&&(!st||!(typeof t=="object"&&st in t))}function gB(t){return Ir(t)==="[object Date]"&&(!st||!(typeof t=="object"&&st in t))}function Ny(t){return Ir(t)==="[object RegExp]"&&(!st||!(typeof t=="object"&&st in t))}function yB(t){return Ir(t)==="[object Error]"&&(!st||!(typeof t=="object"&&st in t))}function vB(t){return Ir(t)==="[object String]"&&(!st||!(typeof t=="object"&&st in t))}function SB(t){return Ir(t)==="[object Number]"&&(!st||!(typeof t=="object"&&st in t))}function wB(t){return Ir(t)==="[object Boolean]"&&(!st||!(typeof t=="object"&&st in t))}function DS(t){if(co)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!ud)return!1;try{return ud.call(t),!0}catch{}return!1}function EB(t){if(!t||typeof t!="object"||!ad)return!1;try{return ad.call(t),!0}catch{}return!1}var CB=Object.prototype.hasOwnProperty||function(t){return t in this};function Zn(t,e){return CB.call(t,e)}function Ir(t){return uB.call(t)}function bB(t){if(t.name)return t.name;var e=fB.call(cB.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function RS(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function xB(t){if(!$a||!t||typeof t!="object")return!1;try{$a.call(t);try{Da.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function OB(t){if(!gs||!t||typeof t!="object")return!1;try{gs.call(t,gs);try{ys.call(t,ys)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function TB(t){if(!Cy||!t||typeof t!="object")return!1;try{return Cy.call(t),!0}catch{}return!1}function kB(t){if(!Da||!t||typeof t!="object")return!1;try{Da.call(t);try{$a.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function AB(t){if(!ys||!t||typeof t!="object")return!1;try{ys.call(t,ys);try{gs.call(t,gs)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function _B(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function LS(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return LS(rh.call(t,0,e.maxStringLength),e)+r}var i=ar.call(ar.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,NB);return $S(i,"single",e)}function NB(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+dB.call(e.toString(16))}function Qo(t){return"Object("+t+")"}function Qc(t){return t+" { ? }"}function My(t,e,n,r){var i=r?dd(n,r):vn.call(n,", ");return t+" ("+e+") {"+i+"}"}function MB(t){for(var e=0;e<t.length;e++)if(RS(t[e],`
`)>=0)return!1;return!0}function IB(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=vn.call(Array(t.indent+1)," ");else return null;return{base:n,prev:vn.call(Array(e+1),n)}}function dd(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+vn.call(t,","+n)+`
`+e.prev}function Rl(t,e){var n=fd(t),r=[];if(n){r.length=t.length;for(var i=0;i<t.length;i++)r[i]=Zn(t,i)?e(t[i],t):""}var o=typeof Jc=="function"?Jc(t):[],s;if(co){s={};for(var l=0;l<o.length;l++)s["$"+o[l]]=o[l]}for(var a in t)Zn(t,a)&&(n&&String(Number(a))===a&&a<t.length||co&&s["$"+a]instanceof Symbol||(IS.call(/[^\w$]/,a)?r.push(e(a,t)+": "+e(t[a],t)):r.push(a+": "+e(t[a],t))));if(typeof Jc=="function")for(var u=0;u<o.length;u++)PS.call(t,o[u])&&r.push("["+e(o[u])+"]: "+e(t[o[u]],t));return r}var FS=Bo,zo=tB,PB=hB,$B=gl,Ll=FS("%WeakMap%",!0),Fl=FS("%Map%",!0),DB=zo("WeakMap.prototype.get",!0),RB=zo("WeakMap.prototype.set",!0),LB=zo("WeakMap.prototype.has",!0),FB=zo("Map.prototype.get",!0),BB=zo("Map.prototype.set",!0),zB=zo("Map.prototype.has",!0),ih=function(t,e){for(var n=t,r;(r=n.next)!==null;n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},jB=function(t,e){var n=ih(t,e);return n&&n.value},UB=function(t,e,n){var r=ih(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},VB=function(t,e){return!!ih(t,e)},WB=function(){var e,n,r,i={assert:function(o){if(!i.has(o))throw new $B("Side channel does not contain "+PB(o))},get:function(o){if(Ll&&o&&(typeof o=="object"||typeof o=="function")){if(e)return DB(e,o)}else if(Fl){if(n)return FB(n,o)}else if(r)return jB(r,o)},has:function(o){if(Ll&&o&&(typeof o=="object"||typeof o=="function")){if(e)return LB(e,o)}else if(Fl){if(n)return zB(n,o)}else if(r)return VB(r,o);return!1},set:function(o,s){Ll&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new Ll),RB(e,o,s)):Fl?(n||(n=new Fl),BB(n,o,s)):(r||(r={key:{},next:null}),UB(r,o,s))}};return i},HB=String.prototype.replace,GB=/%20/g,Xc={RFC1738:"RFC1738",RFC3986:"RFC3986"},oh={default:Xc.RFC3986,formatters:{RFC1738:function(t){return HB.call(t,GB,"+")},RFC3986:function(t){return String(t)}},RFC1738:Xc.RFC1738,RFC3986:Xc.RFC3986},KB=oh,Zc=Object.prototype.hasOwnProperty,Hr=Array.isArray,hn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),qB=function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(Hr(r)){for(var i=[],o=0;o<r.length;++o)typeof r[o]<"u"&&i.push(r[o]);n.obj[n.prop]=i}}},BS=function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},YB=function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(Hr(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!Zc.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var i=e;return Hr(e)&&!Hr(n)&&(i=BS(e,r)),Hr(e)&&Hr(n)?(n.forEach(function(o,s){if(Zc.call(e,s)){var l=e[s];l&&typeof l=="object"&&o&&typeof o=="object"?e[s]=t(l,o,r):e.push(o)}else e[s]=o}),e):Object.keys(n).reduce(function(o,s){var l=n[s];return Zc.call(o,s)?o[s]=t(o[s],l,r):o[s]=l,o},i)},JB=function(e,n){return Object.keys(n).reduce(function(r,i){return r[i]=n[i],r},e)},QB=function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},XB=function(e,n,r,i,o){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var l="",a=0;a<s.length;++a){var u=s.charCodeAt(a);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||o===KB.RFC1738&&(u===40||u===41)){l+=s.charAt(a);continue}if(u<128){l=l+hn[u];continue}if(u<2048){l=l+(hn[192|u>>6]+hn[128|u&63]);continue}if(u<55296||u>=57344){l=l+(hn[224|u>>12]+hn[128|u>>6&63]+hn[128|u&63]);continue}a+=1,u=65536+((u&1023)<<10|s.charCodeAt(a)&1023),l+=hn[240|u>>18]+hn[128|u>>12&63]+hn[128|u>>6&63]+hn[128|u&63]}return l},ZB=function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],i=0;i<n.length;++i)for(var o=n[i],s=o.obj[o.prop],l=Object.keys(s),a=0;a<l.length;++a){var u=l[a],c=s[u];typeof c=="object"&&c!==null&&r.indexOf(c)===-1&&(n.push({obj:s,prop:u}),r.push(c))}return qB(n),e},ez=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},tz=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},nz=function(e,n){return[].concat(e,n)},rz=function(e,n){if(Hr(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(n(e[i]));return r}return n(e)},zS={arrayToObject:BS,assign:JB,combine:nz,compact:ZB,decode:QB,encode:XB,isBuffer:tz,isRegExp:ez,maybeMap:rz,merge:YB},jS=WB,fa=zS,vs=oh,iz=Object.prototype.hasOwnProperty,Iy={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,n){return e+"["+n+"]"},repeat:function(e){return e}},Rn=Array.isArray,oz=Array.prototype.push,US=function(t,e){oz.apply(t,Rn(e)?e:[e])},sz=Date.prototype.toISOString,Py=vs.default,tt={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:fa.encode,encodeValuesOnly:!1,format:Py,formatter:vs.formatters[Py],indices:!1,serializeDate:function(e){return sz.call(e)},skipNulls:!1,strictNullHandling:!1},lz=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},ef={},az=function t(e,n,r,i,o,s,l,a,u,c,f,d,p,h,v,S){for(var m=e,y=S,g=0,w=!1;(y=y.get(ef))!==void 0&&!w;){var x=y.get(e);if(g+=1,typeof x<"u"){if(x===g)throw new RangeError("Cyclic object value");w=!0}typeof y.get(ef)>"u"&&(g=0)}if(typeof a=="function"?m=a(n,m):m instanceof Date?m=f(m):r==="comma"&&Rn(m)&&(m=fa.maybeMap(m,function(he){return he instanceof Date?f(he):he})),m===null){if(o)return l&&!h?l(n,tt.encoder,v,"key",d):n;m=""}if(lz(m)||fa.isBuffer(m)){if(l){var C=h?n:l(n,tt.encoder,v,"key",d);return[p(C)+"="+p(l(m,tt.encoder,v,"value",d))]}return[p(n)+"="+p(String(m))]}var O=[];if(typeof m>"u")return O;var k;if(r==="comma"&&Rn(m))h&&l&&(m=fa.maybeMap(m,l)),k=[{value:m.length>0?m.join(",")||null:void 0}];else if(Rn(a))k=a;else{var I=Object.keys(m);k=u?I.sort(u):I}for(var M=i&&Rn(m)&&m.length===1?n+"[]":n,J=0;J<k.length;++J){var T=k[J],B=typeof T=="object"&&typeof T.value<"u"?T.value:m[T];if(!(s&&B===null)){var G=Rn(m)?typeof r=="function"?r(M,T):M:M+(c?"."+T:"["+T+"]");S.set(e,g);var q=jS();q.set(ef,S),US(O,t(B,G,r,i,o,s,r==="comma"&&h&&Rn(m)?null:l,a,u,c,f,d,p,h,v,q))}}return O},uz=function(e){if(!e)return tt;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||tt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=vs.default;if(typeof e.format<"u"){if(!iz.call(vs.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=vs.formatters[r],o=tt.filter;return(typeof e.filter=="function"||Rn(e.filter))&&(o=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:tt.addQueryPrefix,allowDots:typeof e.allowDots>"u"?tt.allowDots:!!e.allowDots,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:tt.charsetSentinel,delimiter:typeof e.delimiter>"u"?tt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:tt.encode,encoder:typeof e.encoder=="function"?e.encoder:tt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:tt.encodeValuesOnly,filter:o,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:tt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:tt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:tt.strictNullHandling}},cz=function(t,e){var n=t,r=uz(e),i,o;typeof r.filter=="function"?(o=r.filter,n=o("",n)):Rn(r.filter)&&(o=r.filter,i=o);var s=[];if(typeof n!="object"||n===null)return"";var l;e&&e.arrayFormat in Iy?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var a=Iy[l];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=a==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(n)),r.sort&&i.sort(r.sort);for(var c=jS(),f=0;f<i.length;++f){var d=i[f];r.skipNulls&&n[d]===null||US(s,az(n[d],d,a,u,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}var p=s.join(r.delimiter),h=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),p.length>0?h+p:""},fo=zS,pd=Object.prototype.hasOwnProperty,fz=Array.isArray,Le={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:fo.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},dz=function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},VS=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},pz="utf8=%26%2310003%3B",hz="utf8=%E2%9C%93",mz=function(e,n){var r={__proto__:null},i=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=n.parameterLimit===1/0?void 0:n.parameterLimit,s=i.split(n.delimiter,o),l=-1,a,u=n.charset;if(n.charsetSentinel)for(a=0;a<s.length;++a)s[a].indexOf("utf8=")===0&&(s[a]===hz?u="utf-8":s[a]===pz&&(u="iso-8859-1"),l=a,a=s.length);for(a=0;a<s.length;++a)if(a!==l){var c=s[a],f=c.indexOf("]="),d=f===-1?c.indexOf("="):f+1,p,h;d===-1?(p=n.decoder(c,Le.decoder,u,"key"),h=n.strictNullHandling?null:""):(p=n.decoder(c.slice(0,d),Le.decoder,u,"key"),h=fo.maybeMap(VS(c.slice(d+1),n),function(v){return n.decoder(v,Le.decoder,u,"value")})),h&&n.interpretNumericEntities&&u==="iso-8859-1"&&(h=dz(h)),c.indexOf("[]=")>-1&&(h=fz(h)?[h]:h),pd.call(r,p)?r[p]=fo.combine(r[p],h):r[p]=h}return r},gz=function(t,e,n,r){for(var i=r?e:VS(e,n),o=t.length-1;o>=0;--o){var s,l=t[o];if(l==="[]"&&n.parseArrays)s=[].concat(i);else{s=n.plainObjects?Object.create(null):{};var a=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,u=parseInt(a,10);!n.parseArrays&&a===""?s={0:i}:!isNaN(u)&&l!==a&&String(u)===a&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(s=[],s[u]=i):a!=="__proto__"&&(s[a]=i)}i=s}return i},yz=function(e,n,r,i){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,a=r.depth>0&&s.exec(o),u=a?o.slice(0,a.index):o,c=[];if(u){if(!r.plainObjects&&pd.call(Object.prototype,u)&&!r.allowPrototypes)return;c.push(u)}for(var f=0;r.depth>0&&(a=l.exec(o))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&pd.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+o.slice(a.index)+"]"),gz(c,n,r,i)}},vz=function(e){if(!e)return Le;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?Le.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Le.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Le.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Le.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Le.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Le.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Le.comma,decoder:typeof e.decoder=="function"?e.decoder:Le.decoder,delimiter:typeof e.delimiter=="string"||fo.isRegExp(e.delimiter)?e.delimiter:Le.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Le.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Le.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Le.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Le.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Le.strictNullHandling}},Sz=function(t,e){var n=vz(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?mz(t,n):t,i=n.plainObjects?Object.create(null):{},o=Object.keys(r),s=0;s<o.length;++s){var l=o[s],a=yz(l,r[l],n,typeof t=="string");i=fo.merge(i,a,n)}return n.allowSparse===!0?i:fo.compact(i)},wz=cz,Ez=Sz,Cz=oh,bz={formats:Cz,parse:Ez,stringify:wz};const iY=xe(bz);var WS={exports:{}},Bu={},HS={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vl=Symbol.for("react.element"),xz=Symbol.for("react.portal"),Oz=Symbol.for("react.fragment"),Tz=Symbol.for("react.strict_mode"),kz=Symbol.for("react.profiler"),Az=Symbol.for("react.provider"),_z=Symbol.for("react.context"),Nz=Symbol.for("react.forward_ref"),Mz=Symbol.for("react.suspense"),Iz=Symbol.for("react.memo"),Pz=Symbol.for("react.lazy"),$y=Symbol.iterator;function $z(t){return t===null||typeof t!="object"?null:(t=$y&&t[$y]||t["@@iterator"],typeof t=="function"?t:null)}var GS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KS=Object.assign,qS={};function jo(t,e,n){this.props=t,this.context=e,this.refs=qS,this.updater=n||GS}jo.prototype.isReactComponent={};jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function YS(){}YS.prototype=jo.prototype;function sh(t,e,n){this.props=t,this.context=e,this.refs=qS,this.updater=n||GS}var lh=sh.prototype=new YS;lh.constructor=sh;KS(lh,jo.prototype);lh.isPureReactComponent=!0;var Dy=Array.isArray,JS=Object.prototype.hasOwnProperty,ah={current:null},QS={key:!0,ref:!0,__self:!0,__source:!0};function XS(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)JS.call(e,r)&&!QS.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:vl,type:t,key:o,ref:s,props:i,_owner:ah.current}}function Dz(t,e){return{$$typeof:vl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uh(t){return typeof t=="object"&&t!==null&&t.$$typeof===vl}function Rz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ry=/\/+/g;function tf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Rz(""+t.key):e.toString(36)}function da(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case vl:case xz:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+tf(s,0):r,Dy(i)?(n="",t!=null&&(n=t.replace(Ry,"$&/")+"/"),da(i,e,n,"",function(u){return u})):i!=null&&(uh(i)&&(i=Dz(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Ry,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Dy(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+tf(o,l);s+=da(o,e,n,a,i)}else if(a=$z(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+tf(o,l++),s+=da(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Bl(t,e,n){if(t==null)return t;var r=[],i=0;return da(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Lz(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vt={current:null},pa={transition:null},Fz={ReactCurrentDispatcher:vt,ReactCurrentBatchConfig:pa,ReactCurrentOwner:ah};ne.Children={map:Bl,forEach:function(t,e,n){Bl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Bl(t,function(){e++}),e},toArray:function(t){return Bl(t,function(e){return e})||[]},only:function(t){if(!uh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=jo;ne.Fragment=Oz;ne.Profiler=kz;ne.PureComponent=sh;ne.StrictMode=Tz;ne.Suspense=Mz;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fz;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=KS({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=ah.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)JS.call(e,a)&&!QS.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:vl,type:t.type,key:i,ref:o,props:r,_owner:s}};ne.createContext=function(t){return t={$$typeof:_z,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Az,_context:t},t.Consumer=t};ne.createElement=XS;ne.createFactory=function(t){var e=XS.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:Nz,render:t}};ne.isValidElement=uh;ne.lazy=function(t){return{$$typeof:Pz,_payload:{_status:-1,_result:t},_init:Lz}};ne.memo=function(t,e){return{$$typeof:Iz,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=pa.transition;pa.transition={};try{t()}finally{pa.transition=e}};ne.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ne.useCallback=function(t,e){return vt.current.useCallback(t,e)};ne.useContext=function(t){return vt.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return vt.current.useDeferredValue(t)};ne.useEffect=function(t,e){return vt.current.useEffect(t,e)};ne.useId=function(){return vt.current.useId()};ne.useImperativeHandle=function(t,e,n){return vt.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return vt.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return vt.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return vt.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return vt.current.useReducer(t,e,n)};ne.useRef=function(t){return vt.current.useRef(t)};ne.useState=function(t){return vt.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return vt.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return vt.current.useTransition()};ne.version="18.2.0";HS.exports=ne;var H=HS.exports;const Ra=xe(H);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bz=H,zz=Symbol.for("react.element"),jz=Symbol.for("react.fragment"),Uz=Object.prototype.hasOwnProperty,Vz=Bz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wz={key:!0,ref:!0,__self:!0,__source:!0};function ZS(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)Uz.call(e,r)&&!Wz.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zz,type:t,key:o,ref:s,props:i,_owner:Vz.current}}Bu.Fragment=jz;Bu.jsx=ZS;Bu.jsxs=ZS;WS.exports=Bu;var oY=WS.exports,ew={exports:{}},Bt={},tw={exports:{}},nw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,F){var W=D.length;D.push(F);e:for(;0<W;){var K=W-1>>>1,ue=D[K];if(0<i(ue,F))D[K]=F,D[W]=ue,W=K;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var F=D[0],W=D.pop();if(W!==F){D[0]=W;e:for(var K=0,ue=D.length,P=ue>>>1;K<P;){var Q=2*(K+1)-1,X=D[Q],_e=Q+1,ge=D[_e];if(0>i(X,W))_e<ue&&0>i(ge,X)?(D[K]=ge,D[_e]=W,K=_e):(D[K]=X,D[Q]=W,K=Q);else if(_e<ue&&0>i(ge,W))D[K]=ge,D[_e]=W,K=_e;else break e}}return F}function i(D,F){var W=D.sortIndex-F.sortIndex;return W!==0?W:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,f=null,d=3,p=!1,h=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(D){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=D)r(u),F.sortIndex=F.expirationTime,e(a,F);else break;F=n(u)}}function w(D){if(v=!1,g(D),!h)if(n(a)!==null)h=!0,he(x);else{var F=n(u);F!==null&&De(w,F.startTime-D)}}function x(D,F){h=!1,v&&(v=!1,m(k),k=-1),p=!0;var W=d;try{for(g(F),f=n(a);f!==null&&(!(f.expirationTime>F)||D&&!J());){var K=f.callback;if(typeof K=="function"){f.callback=null,d=f.priorityLevel;var ue=K(f.expirationTime<=F);F=t.unstable_now(),typeof ue=="function"?f.callback=ue:f===n(a)&&r(a),g(F)}else r(a);f=n(a)}if(f!==null)var P=!0;else{var Q=n(u);Q!==null&&De(w,Q.startTime-F),P=!1}return P}finally{f=null,d=W,p=!1}}var C=!1,O=null,k=-1,I=5,M=-1;function J(){return!(t.unstable_now()-M<I)}function T(){if(O!==null){var D=t.unstable_now();M=D;var F=!0;try{F=O(!0,D)}finally{F?B():(C=!1,O=null)}}else C=!1}var B;if(typeof y=="function")B=function(){y(T)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,q=G.port2;G.port1.onmessage=T,B=function(){q.postMessage(null)}}else B=function(){S(T,0)};function he(D){O=D,C||(C=!0,B())}function De(D,F){k=S(function(){D(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,he(x))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(D){switch(d){case 1:case 2:case 3:var F=3;break;default:F=d}var W=d;d=F;try{return D()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=d;d=D;try{return F()}finally{d=W}},t.unstable_scheduleCallback=function(D,F,W){var K=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?K+W:K):W=K,D){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=W+ue,D={id:c++,callback:F,priorityLevel:D,startTime:W,expirationTime:ue,sortIndex:-1},W>K?(D.sortIndex=W,e(u,D),n(a)===null&&D===n(u)&&(v?(m(k),k=-1):v=!0,De(w,W-K))):(D.sortIndex=ue,e(a,D),h||p||(h=!0,he(x))),D},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(D){var F=d;return function(){var W=d;d=F;try{return D.apply(this,arguments)}finally{d=W}}}})(nw);tw.exports=nw;var Hz=tw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw=H,Ft=Hz;function _(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var iw=new Set,Ls={};function wi(t,e){po(t,e),po(t+"Capture",e)}function po(t,e){for(Ls[t]=e,t=0;t<e.length;t++)iw.add(e[t])}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hd=Object.prototype.hasOwnProperty,Gz=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ly={},Fy={};function Kz(t){return hd.call(Fy,t)?!0:hd.call(Ly,t)?!1:Gz.test(t)?Fy[t]=!0:(Ly[t]=!0,!1)}function qz(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Yz(t,e,n,r){if(e===null||typeof e>"u"||qz(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function St(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new St(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new St(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new St(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new St(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new St(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new St(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new St(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new St(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new St(t,5,!1,t.toLowerCase(),null,!1,!1)});var ch=/[\-:]([a-z])/g;function fh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ch,fh);Je[e]=new St(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ch,fh);Je[e]=new St(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ch,fh);Je[e]=new St(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new St(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new St("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new St(t,1,!1,t.toLowerCase(),null,!0,!0)});function dh(t,e,n,r){var i=Je.hasOwnProperty(e)?Je[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Yz(e,n,i,r)&&(n=null),r||i===null?Kz(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qn=rw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zl=Symbol.for("react.element"),Fi=Symbol.for("react.portal"),Bi=Symbol.for("react.fragment"),ph=Symbol.for("react.strict_mode"),md=Symbol.for("react.profiler"),ow=Symbol.for("react.provider"),sw=Symbol.for("react.context"),hh=Symbol.for("react.forward_ref"),gd=Symbol.for("react.suspense"),yd=Symbol.for("react.suspense_list"),mh=Symbol.for("react.memo"),er=Symbol.for("react.lazy"),lw=Symbol.for("react.offscreen"),By=Symbol.iterator;function Xo(t){return t===null||typeof t!="object"?null:(t=By&&t[By]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,nf;function as(t){if(nf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);nf=e&&e[1]||""}return`
`+nf+t}var rf=!1;function of(t,e){if(!t||rf)return"";rf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{rf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?as(t):""}function Jz(t){switch(t.tag){case 5:return as(t.type);case 16:return as("Lazy");case 13:return as("Suspense");case 19:return as("SuspenseList");case 0:case 2:case 15:return t=of(t.type,!1),t;case 11:return t=of(t.type.render,!1),t;case 1:return t=of(t.type,!0),t;default:return""}}function vd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bi:return"Fragment";case Fi:return"Portal";case md:return"Profiler";case ph:return"StrictMode";case gd:return"Suspense";case yd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case sw:return(t.displayName||"Context")+".Consumer";case ow:return(t._context.displayName||"Context")+".Provider";case hh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case mh:return e=t.displayName||null,e!==null?e:vd(t.type)||"Memo";case er:e=t._payload,t=t._init;try{return vd(t(e))}catch{}}return null}function Qz(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vd(e);case 8:return e===ph?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ar(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function aw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Xz(t){var e=aw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jl(t){t._valueTracker||(t._valueTracker=Xz(t))}function uw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=aw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function La(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sd(t,e){var n=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ar(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cw(t,e){e=e.checked,e!=null&&dh(t,"checked",e,!1)}function wd(t,e){cw(t,e);var n=Ar(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ed(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ed(t,e.type,Ar(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ed(t,e,n){(e!=="number"||La(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var us=Array.isArray;function Qi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ar(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(_(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Uy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(_(92));if(us(n)){if(1<n.length)throw Error(_(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ar(n)}}function fw(t,e){var n=Ar(e.value),r=Ar(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function dw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?dw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ul,pw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ul=Ul||document.createElement("div"),Ul.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ul.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ss={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zz=["Webkit","ms","Moz","O"];Object.keys(Ss).forEach(function(t){Zz.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ss[e]=Ss[t]})});function hw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ss.hasOwnProperty(t)&&Ss[t]?(""+e).trim():e+"px"}function mw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=hw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var e4=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xd(t,e){if(e){if(e4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(_(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(_(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(_(61))}if(e.style!=null&&typeof e.style!="object")throw Error(_(62))}}function Od(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Td=null;function gh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kd=null,Xi=null,Zi=null;function Wy(t){if(t=El(t)){if(typeof kd!="function")throw Error(_(280));var e=t.stateNode;e&&(e=Wu(e),kd(t.stateNode,t.type,e))}}function gw(t){Xi?Zi?Zi.push(t):Zi=[t]:Xi=t}function yw(){if(Xi){var t=Xi,e=Zi;if(Zi=Xi=null,Wy(t),e)for(t=0;t<e.length;t++)Wy(e[t])}}function vw(t,e){return t(e)}function Sw(){}var sf=!1;function ww(t,e,n){if(sf)return t(e,n);sf=!0;try{return vw(t,e,n)}finally{sf=!1,(Xi!==null||Zi!==null)&&(Sw(),yw())}}function Bs(t,e){var n=t.stateNode;if(n===null)return null;var r=Wu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(_(231,e,typeof n));return n}var Ad=!1;if(Wn)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){Ad=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{Ad=!1}function t4(t,e,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ws=!1,Fa=null,Ba=!1,_d=null,n4={onError:function(t){ws=!0,Fa=t}};function r4(t,e,n,r,i,o,s,l,a){ws=!1,Fa=null,t4.apply(n4,arguments)}function i4(t,e,n,r,i,o,s,l,a){if(r4.apply(this,arguments),ws){if(ws){var u=Fa;ws=!1,Fa=null}else throw Error(_(198));Ba||(Ba=!0,_d=u)}}function Ei(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ew(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hy(t){if(Ei(t)!==t)throw Error(_(188))}function o4(t){var e=t.alternate;if(!e){if(e=Ei(t),e===null)throw Error(_(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Hy(i),t;if(o===r)return Hy(i),e;o=o.sibling}throw Error(_(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(_(189))}}if(n.alternate!==r)throw Error(_(190))}if(n.tag!==3)throw Error(_(188));return n.stateNode.current===n?t:e}function Cw(t){return t=o4(t),t!==null?bw(t):null}function bw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bw(t);if(e!==null)return e;t=t.sibling}return null}var xw=Ft.unstable_scheduleCallback,Gy=Ft.unstable_cancelCallback,s4=Ft.unstable_shouldYield,l4=Ft.unstable_requestPaint,Ne=Ft.unstable_now,a4=Ft.unstable_getCurrentPriorityLevel,yh=Ft.unstable_ImmediatePriority,Ow=Ft.unstable_UserBlockingPriority,za=Ft.unstable_NormalPriority,u4=Ft.unstable_LowPriority,Tw=Ft.unstable_IdlePriority,zu=null,bn=null;function c4(t){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(zu,t,void 0,(t.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:p4,f4=Math.log,d4=Math.LN2;function p4(t){return t>>>=0,t===0?32:31-(f4(t)/d4|0)|0}var Vl=64,Wl=4194304;function cs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ja(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=cs(l):(o&=s,o!==0&&(r=cs(o)))}else s=n&~i,s!==0?r=cs(s):o!==0&&(r=cs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ln(e),i=1<<n,r|=t[n],e&=~i;return r}function h4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-ln(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=h4(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function Nd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kw(){var t=Vl;return Vl<<=1,!(Vl&4194240)&&(Vl=64),t}function lf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ln(e),t[e]=n}function g4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ln(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function vh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ln(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var fe=0;function Aw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _w,Sh,Nw,Mw,Iw,Md=!1,Hl=[],hr=null,mr=null,gr=null,zs=new Map,js=new Map,ir=[],y4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ky(t,e){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":zs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":js.delete(e.pointerId)}}function es(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=El(e),e!==null&&Sh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function v4(t,e,n,r,i){switch(e){case"focusin":return hr=es(hr,t,e,n,r,i),!0;case"dragenter":return mr=es(mr,t,e,n,r,i),!0;case"mouseover":return gr=es(gr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return zs.set(o,es(zs.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,js.set(o,es(js.get(o)||null,t,e,n,r,i)),!0}return!1}function Pw(t){var e=Kr(t.target);if(e!==null){var n=Ei(e);if(n!==null){if(e=n.tag,e===13){if(e=Ew(n),e!==null){t.blockedOn=e,Iw(t.priority,function(){Nw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ha(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Id(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Td=r,n.target.dispatchEvent(r),Td=null}else return e=El(n),e!==null&&Sh(e),t.blockedOn=n,!1;e.shift()}return!0}function qy(t,e,n){ha(t)&&n.delete(e)}function S4(){Md=!1,hr!==null&&ha(hr)&&(hr=null),mr!==null&&ha(mr)&&(mr=null),gr!==null&&ha(gr)&&(gr=null),zs.forEach(qy),js.forEach(qy)}function ts(t,e){t.blockedOn===e&&(t.blockedOn=null,Md||(Md=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,S4)))}function Us(t){function e(i){return ts(i,t)}if(0<Hl.length){ts(Hl[0],t);for(var n=1;n<Hl.length;n++){var r=Hl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(hr!==null&&ts(hr,t),mr!==null&&ts(mr,t),gr!==null&&ts(gr,t),zs.forEach(e),js.forEach(e),n=0;n<ir.length;n++)r=ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ir.length&&(n=ir[0],n.blockedOn===null);)Pw(n),n.blockedOn===null&&ir.shift()}var eo=qn.ReactCurrentBatchConfig,Ua=!0;function w4(t,e,n,r){var i=fe,o=eo.transition;eo.transition=null;try{fe=1,wh(t,e,n,r)}finally{fe=i,eo.transition=o}}function E4(t,e,n,r){var i=fe,o=eo.transition;eo.transition=null;try{fe=4,wh(t,e,n,r)}finally{fe=i,eo.transition=o}}function wh(t,e,n,r){if(Ua){var i=Id(t,e,n,r);if(i===null)yf(t,e,r,Va,n),Ky(t,r);else if(v4(i,t,e,n,r))r.stopPropagation();else if(Ky(t,r),e&4&&-1<y4.indexOf(t)){for(;i!==null;){var o=El(i);if(o!==null&&_w(o),o=Id(t,e,n,r),o===null&&yf(t,e,r,Va,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else yf(t,e,r,null,n)}}var Va=null;function Id(t,e,n,r){if(Va=null,t=gh(r),t=Kr(t),t!==null)if(e=Ei(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ew(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Va=t,null}function $w(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a4()){case yh:return 1;case Ow:return 4;case za:case u4:return 16;case Tw:return 536870912;default:return 16}default:return 16}}var ur=null,Eh=null,ma=null;function Dw(){if(ma)return ma;var t,e=Eh,n=e.length,r,i="value"in ur?ur.value:ur.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ma=i.slice(t,1<r?1-r:void 0)}function ga(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gl(){return!0}function Yy(){return!1}function zt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Gl:Yy,this.isPropagationStopped=Yy,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Gl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Gl)},persist:function(){},isPersistent:Gl}),e}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ch=zt(Uo),wl=ke({},Uo,{view:0,detail:0}),C4=zt(wl),af,uf,ns,ju=ke({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ns&&(ns&&t.type==="mousemove"?(af=t.screenX-ns.screenX,uf=t.screenY-ns.screenY):uf=af=0,ns=t),af)},movementY:function(t){return"movementY"in t?t.movementY:uf}}),Jy=zt(ju),b4=ke({},ju,{dataTransfer:0}),x4=zt(b4),O4=ke({},wl,{relatedTarget:0}),cf=zt(O4),T4=ke({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),k4=zt(T4),A4=ke({},Uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_4=zt(A4),N4=ke({},Uo,{data:0}),Qy=zt(N4),M4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=P4[t])?!!e[t]:!1}function bh(){return $4}var D4=ke({},wl,{key:function(t){if(t.key){var e=M4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ga(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?I4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bh,charCode:function(t){return t.type==="keypress"?ga(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ga(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),R4=zt(D4),L4=ke({},ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xy=zt(L4),F4=ke({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bh}),B4=zt(F4),z4=ke({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),j4=zt(z4),U4=ke({},ju,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),V4=zt(U4),W4=[9,13,27,32],xh=Wn&&"CompositionEvent"in window,Es=null;Wn&&"documentMode"in document&&(Es=document.documentMode);var H4=Wn&&"TextEvent"in window&&!Es,Rw=Wn&&(!xh||Es&&8<Es&&11>=Es),Zy=" ",ev=!1;function Lw(t,e){switch(t){case"keyup":return W4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zi=!1;function G4(t,e){switch(t){case"compositionend":return Fw(e);case"keypress":return e.which!==32?null:(ev=!0,Zy);case"textInput":return t=e.data,t===Zy&&ev?null:t;default:return null}}function K4(t,e){if(zi)return t==="compositionend"||!xh&&Lw(t,e)?(t=Dw(),ma=Eh=ur=null,zi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rw&&e.locale!=="ko"?null:e.data;default:return null}}var q4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!q4[t.type]:e==="textarea"}function Bw(t,e,n,r){gw(r),e=Wa(e,"onChange"),0<e.length&&(n=new Ch("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Cs=null,Vs=null;function Y4(t){Jw(t,0)}function Uu(t){var e=Vi(t);if(uw(e))return t}function J4(t,e){if(t==="change")return e}var zw=!1;if(Wn){var ff;if(Wn){var df="oninput"in document;if(!df){var nv=document.createElement("div");nv.setAttribute("oninput","return;"),df=typeof nv.oninput=="function"}ff=df}else ff=!1;zw=ff&&(!document.documentMode||9<document.documentMode)}function rv(){Cs&&(Cs.detachEvent("onpropertychange",jw),Vs=Cs=null)}function jw(t){if(t.propertyName==="value"&&Uu(Vs)){var e=[];Bw(e,Vs,t,gh(t)),ww(Y4,e)}}function Q4(t,e,n){t==="focusin"?(rv(),Cs=e,Vs=n,Cs.attachEvent("onpropertychange",jw)):t==="focusout"&&rv()}function X4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(Vs)}function Z4(t,e){if(t==="click")return Uu(e)}function e6(t,e){if(t==="input"||t==="change")return Uu(e)}function t6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cn=typeof Object.is=="function"?Object.is:t6;function Ws(t,e){if(cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!hd.call(e,i)||!cn(t[i],e[i]))return!1}return!0}function iv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ov(t,e){var n=iv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=iv(n)}}function Uw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Uw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Vw(){for(var t=window,e=La();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=La(t.document)}return e}function Oh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function n6(t){var e=Vw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Uw(n.ownerDocument.documentElement,n)){if(r!==null&&Oh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=ov(n,o);var s=ov(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var r6=Wn&&"documentMode"in document&&11>=document.documentMode,ji=null,Pd=null,bs=null,$d=!1;function sv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$d||ji==null||ji!==La(r)||(r=ji,"selectionStart"in r&&Oh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bs&&Ws(bs,r)||(bs=r,r=Wa(Pd,"onSelect"),0<r.length&&(e=new Ch("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ji)))}function Kl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ui={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionend:Kl("Transition","TransitionEnd")},pf={},Ww={};Wn&&(Ww=document.createElement("div").style,"AnimationEvent"in window||(delete Ui.animationend.animation,delete Ui.animationiteration.animation,delete Ui.animationstart.animation),"TransitionEvent"in window||delete Ui.transitionend.transition);function Vu(t){if(pf[t])return pf[t];if(!Ui[t])return t;var e=Ui[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ww)return pf[t]=e[n];return t}var Hw=Vu("animationend"),Gw=Vu("animationiteration"),Kw=Vu("animationstart"),qw=Vu("transitionend"),Yw=new Map,lv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(t,e){Yw.set(t,e),wi(e,[t])}for(var hf=0;hf<lv.length;hf++){var mf=lv[hf],i6=mf.toLowerCase(),o6=mf[0].toUpperCase()+mf.slice(1);Pr(i6,"on"+o6)}Pr(Hw,"onAnimationEnd");Pr(Gw,"onAnimationIteration");Pr(Kw,"onAnimationStart");Pr("dblclick","onDoubleClick");Pr("focusin","onFocus");Pr("focusout","onBlur");Pr(qw,"onTransitionEnd");po("onMouseEnter",["mouseout","mouseover"]);po("onMouseLeave",["mouseout","mouseover"]);po("onPointerEnter",["pointerout","pointerover"]);po("onPointerLeave",["pointerout","pointerover"]);wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s6=new Set("cancel close invalid load scroll toggle".split(" ").concat(fs));function av(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,i4(r,e,void 0,t),t.currentTarget=null}function Jw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;av(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;av(i,l,u),o=a}}}if(Ba)throw t=_d,Ba=!1,_d=null,t}function we(t,e){var n=e[Bd];n===void 0&&(n=e[Bd]=new Set);var r=t+"__bubble";n.has(r)||(Qw(e,t,2,!1),n.add(r))}function gf(t,e,n){var r=0;e&&(r|=4),Qw(n,t,r,e)}var ql="_reactListening"+Math.random().toString(36).slice(2);function Hs(t){if(!t[ql]){t[ql]=!0,iw.forEach(function(n){n!=="selectionchange"&&(s6.has(n)||gf(n,!1,t),gf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ql]||(e[ql]=!0,gf("selectionchange",!1,e))}}function Qw(t,e,n,r){switch($w(e)){case 1:var i=w4;break;case 4:i=E4;break;default:i=wh}n=i.bind(null,e,n,t),i=void 0,!Ad||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function yf(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Kr(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}ww(function(){var u=o,c=gh(n),f=[];e:{var d=Yw.get(t);if(d!==void 0){var p=Ch,h=t;switch(t){case"keypress":if(ga(n)===0)break e;case"keydown":case"keyup":p=R4;break;case"focusin":h="focus",p=cf;break;case"focusout":h="blur",p=cf;break;case"beforeblur":case"afterblur":p=cf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Jy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=x4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=B4;break;case Hw:case Gw:case Kw:p=k4;break;case qw:p=j4;break;case"scroll":p=C4;break;case"wheel":p=V4;break;case"copy":case"cut":case"paste":p=_4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Xy}var v=(e&4)!==0,S=!v&&t==="scroll",m=v?d!==null?d+"Capture":null:d;v=[];for(var y=u,g;y!==null;){g=y;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,m!==null&&(w=Bs(y,m),w!=null&&v.push(Gs(y,w,g)))),S)break;y=y.return}0<v.length&&(d=new p(d,h,null,n,c),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==Td&&(h=n.relatedTarget||n.fromElement)&&(Kr(h)||h[Hn]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=u,h=h?Kr(h):null,h!==null&&(S=Ei(h),h!==S||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(v=Jy,w="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=Xy,w="onPointerLeave",m="onPointerEnter",y="pointer"),S=p==null?d:Vi(p),g=h==null?d:Vi(h),d=new v(w,y+"leave",p,n,c),d.target=S,d.relatedTarget=g,w=null,Kr(c)===u&&(v=new v(m,y+"enter",h,n,c),v.target=g,v.relatedTarget=S,w=v),S=w,p&&h)t:{for(v=p,m=h,y=0,g=v;g;g=_i(g))y++;for(g=0,w=m;w;w=_i(w))g++;for(;0<y-g;)v=_i(v),y--;for(;0<g-y;)m=_i(m),g--;for(;y--;){if(v===m||m!==null&&v===m.alternate)break t;v=_i(v),m=_i(m)}v=null}else v=null;p!==null&&uv(f,d,p,v,!1),h!==null&&S!==null&&uv(f,S,h,v,!0)}}e:{if(d=u?Vi(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var x=J4;else if(tv(d))if(zw)x=e6;else{x=X4;var C=Q4}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=Z4);if(x&&(x=x(t,u))){Bw(f,x,n,c);break e}C&&C(t,d,u),t==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&Ed(d,"number",d.value)}switch(C=u?Vi(u):window,t){case"focusin":(tv(C)||C.contentEditable==="true")&&(ji=C,Pd=u,bs=null);break;case"focusout":bs=Pd=ji=null;break;case"mousedown":$d=!0;break;case"contextmenu":case"mouseup":case"dragend":$d=!1,sv(f,n,c);break;case"selectionchange":if(r6)break;case"keydown":case"keyup":sv(f,n,c)}var O;if(xh)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zi?Lw(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(Rw&&n.locale!=="ko"&&(zi||k!=="onCompositionStart"?k==="onCompositionEnd"&&zi&&(O=Dw()):(ur=c,Eh="value"in ur?ur.value:ur.textContent,zi=!0)),C=Wa(u,k),0<C.length&&(k=new Qy(k,t,null,n,c),f.push({event:k,listeners:C}),O?k.data=O:(O=Fw(n),O!==null&&(k.data=O)))),(O=H4?G4(t,n):K4(t,n))&&(u=Wa(u,"onBeforeInput"),0<u.length&&(c=new Qy("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=O))}Jw(f,e)})}function Gs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wa(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Bs(t,n),o!=null&&r.unshift(Gs(t,o,i)),o=Bs(t,e),o!=null&&r.push(Gs(t,o,i))),t=t.return}return r}function _i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function uv(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Bs(n,o),a!=null&&s.unshift(Gs(n,a,l))):i||(a=Bs(n,o),a!=null&&s.push(Gs(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var l6=/\r\n?/g,a6=/\u0000|\uFFFD/g;function cv(t){return(typeof t=="string"?t:""+t).replace(l6,`
`).replace(a6,"")}function Yl(t,e,n){if(e=cv(e),cv(t)!==e&&n)throw Error(_(425))}function Ha(){}var Dd=null,Rd=null;function Ld(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Fd=typeof setTimeout=="function"?setTimeout:void 0,u6=typeof clearTimeout=="function"?clearTimeout:void 0,fv=typeof Promise=="function"?Promise:void 0,c6=typeof queueMicrotask=="function"?queueMicrotask:typeof fv<"u"?function(t){return fv.resolve(null).then(t).catch(f6)}:Fd;function f6(t){setTimeout(function(){throw t})}function vf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Us(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Us(e)}function yr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),wn="__reactFiber$"+Vo,Ks="__reactProps$"+Vo,Hn="__reactContainer$"+Vo,Bd="__reactEvents$"+Vo,d6="__reactListeners$"+Vo,p6="__reactHandles$"+Vo;function Kr(t){var e=t[wn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hn]||n[wn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=dv(t);t!==null;){if(n=t[wn])return n;t=dv(t)}return e}t=n,n=t.parentNode}return null}function El(t){return t=t[wn]||t[Hn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(_(33))}function Wu(t){return t[Ks]||null}var zd=[],Wi=-1;function $r(t){return{current:t}}function Ce(t){0>Wi||(t.current=zd[Wi],zd[Wi]=null,Wi--)}function Se(t,e){Wi++,zd[Wi]=t.current,t.current=e}var _r={},lt=$r(_r),Ot=$r(!1),ai=_r;function ho(t,e){var n=t.type.contextTypes;if(!n)return _r;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tt(t){return t=t.childContextTypes,t!=null}function Ga(){Ce(Ot),Ce(lt)}function pv(t,e,n){if(lt.current!==_r)throw Error(_(168));Se(lt,e),Se(Ot,n)}function Xw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(_(108,Qz(t)||"Unknown",i));return ke({},n,r)}function Ka(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_r,ai=lt.current,Se(lt,t),Se(Ot,Ot.current),!0}function hv(t,e,n){var r=t.stateNode;if(!r)throw Error(_(169));n?(t=Xw(t,e,ai),r.__reactInternalMemoizedMergedChildContext=t,Ce(Ot),Ce(lt),Se(lt,t)):Ce(Ot),Se(Ot,n)}var Ln=null,Hu=!1,Sf=!1;function Zw(t){Ln===null?Ln=[t]:Ln.push(t)}function h6(t){Hu=!0,Zw(t)}function Dr(){if(!Sf&&Ln!==null){Sf=!0;var t=0,e=fe;try{var n=Ln;for(fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ln=null,Hu=!1}catch(i){throw Ln!==null&&(Ln=Ln.slice(t+1)),xw(yh,Dr),i}finally{fe=e,Sf=!1}}return null}var Hi=[],Gi=0,qa=null,Ya=0,Vt=[],Wt=0,ui=null,Bn=1,zn="";function Ur(t,e){Hi[Gi++]=Ya,Hi[Gi++]=qa,qa=t,Ya=e}function eE(t,e,n){Vt[Wt++]=Bn,Vt[Wt++]=zn,Vt[Wt++]=ui,ui=t;var r=Bn;t=zn;var i=32-ln(r)-1;r&=~(1<<i),n+=1;var o=32-ln(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Bn=1<<32-ln(e)+i|n<<i|r,zn=o+t}else Bn=1<<o|n<<i|r,zn=t}function Th(t){t.return!==null&&(Ur(t,1),eE(t,1,0))}function kh(t){for(;t===qa;)qa=Hi[--Gi],Hi[Gi]=null,Ya=Hi[--Gi],Hi[Gi]=null;for(;t===ui;)ui=Vt[--Wt],Vt[Wt]=null,zn=Vt[--Wt],Vt[Wt]=null,Bn=Vt[--Wt],Vt[Wt]=null}var $t=null,Pt=null,be=!1,nn=null;function tE(t,e){var n=Ht(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function mv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$t=t,Pt=yr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$t=t,Pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ui!==null?{id:Bn,overflow:zn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ht(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$t=t,Pt=null,!0):!1;default:return!1}}function jd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ud(t){if(be){var e=Pt;if(e){var n=e;if(!mv(t,e)){if(jd(t))throw Error(_(418));e=yr(n.nextSibling);var r=$t;e&&mv(t,e)?tE(r,n):(t.flags=t.flags&-4097|2,be=!1,$t=t)}}else{if(jd(t))throw Error(_(418));t.flags=t.flags&-4097|2,be=!1,$t=t}}}function gv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$t=t}function Jl(t){if(t!==$t)return!1;if(!be)return gv(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ld(t.type,t.memoizedProps)),e&&(e=Pt)){if(jd(t))throw nE(),Error(_(418));for(;e;)tE(t,e),e=yr(e.nextSibling)}if(gv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(_(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pt=yr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pt=null}}else Pt=$t?yr(t.stateNode.nextSibling):null;return!0}function nE(){for(var t=Pt;t;)t=yr(t.nextSibling)}function mo(){Pt=$t=null,be=!1}function Ah(t){nn===null?nn=[t]:nn.push(t)}var m6=qn.ReactCurrentBatchConfig;function en(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ja=$r(null),Qa=null,Ki=null,_h=null;function Nh(){_h=Ki=Qa=null}function Mh(t){var e=Ja.current;Ce(Ja),t._currentValue=e}function Vd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function to(t,e){Qa=t,_h=Ki=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(xt=!0),t.firstContext=null)}function qt(t){var e=t._currentValue;if(_h!==t)if(t={context:t,memoizedValue:e,next:null},Ki===null){if(Qa===null)throw Error(_(308));Ki=t,Qa.dependencies={lanes:0,firstContext:t}}else Ki=Ki.next=t;return e}var qr=null;function Ih(t){qr===null?qr=[t]:qr.push(t)}function rE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ih(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gn(t,r)}function Gn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var tr=!1;function Ph(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Un(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gn(t,n)}return i=r.interleaved,i===null?(e.next=e,Ih(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gn(t,n)}function ya(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vh(t,n)}}function yv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xa(t,e,n,r){var i=t.updateQueue;tr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var f=i.baseState;s=0,c=u=a=null,l=o;do{var d=l.lane,p=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=t,v=l;switch(d=e,p=n,v.tag){case 1:if(h=v.payload,typeof h=="function"){f=h.call(p,f,d);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,d=typeof h=="function"?h.call(p,f,d):h,d==null)break e;f=ke({},f,d);break e;case 2:tr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else p={eventTime:p,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,a=f):c=c.next=p,s|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(a=f),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);fi|=s,t.lanes=s,t.memoizedState=f}}function vv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(_(191,i));i.call(r)}}}var oE=new rw.Component().refs;function Wd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gu={isMounted:function(t){return(t=t._reactInternals)?Ei(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dt(),i=wr(t),o=Un(r,i);o.payload=e,n!=null&&(o.callback=n),e=vr(t,o,i),e!==null&&(an(e,t,i,r),ya(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dt(),i=wr(t),o=Un(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=vr(t,o,i),e!==null&&(an(e,t,i,r),ya(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dt(),r=wr(t),i=Un(n,r);i.tag=2,e!=null&&(i.callback=e),e=vr(t,i,r),e!==null&&(an(e,t,r,n),ya(e,t,r))}};function Sv(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ws(n,r)||!Ws(i,o):!0}function sE(t,e,n){var r=!1,i=_r,o=e.contextType;return typeof o=="object"&&o!==null?o=qt(o):(i=Tt(e)?ai:lt.current,r=e.contextTypes,o=(r=r!=null)?ho(t,i):_r),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function wv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gu.enqueueReplaceState(e,e.state,null)}function Hd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=oE,Ph(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=qt(o):(o=Tt(e)?ai:lt.current,i.context=ho(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Wd(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gu.enqueueReplaceState(i,i.state,null),Xa(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function rs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_(309));var r=n.stateNode}if(!r)throw Error(_(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;l===oE&&(l=i.refs={}),s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(_(284));if(!n._owner)throw Error(_(290,t))}return t}function Ql(t,e){throw t=Object.prototype.toString.call(e),Error(_(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ev(t){var e=t._init;return e(t._payload)}function lE(t){function e(m,y){if(t){var g=m.deletions;g===null?(m.deletions=[y],m.flags|=16):g.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Er(m,y),m.index=0,m.sibling=null,m}function o(m,y,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<y?(m.flags|=2,y):g):(m.flags|=2,y)):(m.flags|=1048576,y)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,y,g,w){return y===null||y.tag!==6?(y=Tf(g,m.mode,w),y.return=m,y):(y=i(y,g),y.return=m,y)}function a(m,y,g,w){var x=g.type;return x===Bi?c(m,y,g.props.children,w,g.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===er&&Ev(x)===y.type)?(w=i(y,g.props),w.ref=rs(m,y,g),w.return=m,w):(w=ba(g.type,g.key,g.props,null,m.mode,w),w.ref=rs(m,y,g),w.return=m,w)}function u(m,y,g,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==g.containerInfo||y.stateNode.implementation!==g.implementation?(y=kf(g,m.mode,w),y.return=m,y):(y=i(y,g.children||[]),y.return=m,y)}function c(m,y,g,w,x){return y===null||y.tag!==7?(y=ti(g,m.mode,w,x),y.return=m,y):(y=i(y,g),y.return=m,y)}function f(m,y,g){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Tf(""+y,m.mode,g),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zl:return g=ba(y.type,y.key,y.props,null,m.mode,g),g.ref=rs(m,null,y),g.return=m,g;case Fi:return y=kf(y,m.mode,g),y.return=m,y;case er:var w=y._init;return f(m,w(y._payload),g)}if(us(y)||Xo(y))return y=ti(y,m.mode,g,null),y.return=m,y;Ql(m,y)}return null}function d(m,y,g,w){var x=y!==null?y.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:l(m,y,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case zl:return g.key===x?a(m,y,g,w):null;case Fi:return g.key===x?u(m,y,g,w):null;case er:return x=g._init,d(m,y,x(g._payload),w)}if(us(g)||Xo(g))return x!==null?null:c(m,y,g,w,null);Ql(m,g)}return null}function p(m,y,g,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(g)||null,l(y,m,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zl:return m=m.get(w.key===null?g:w.key)||null,a(y,m,w,x);case Fi:return m=m.get(w.key===null?g:w.key)||null,u(y,m,w,x);case er:var C=w._init;return p(m,y,g,C(w._payload),x)}if(us(w)||Xo(w))return m=m.get(g)||null,c(y,m,w,x,null);Ql(y,w)}return null}function h(m,y,g,w){for(var x=null,C=null,O=y,k=y=0,I=null;O!==null&&k<g.length;k++){O.index>k?(I=O,O=null):I=O.sibling;var M=d(m,O,g[k],w);if(M===null){O===null&&(O=I);break}t&&O&&M.alternate===null&&e(m,O),y=o(M,y,k),C===null?x=M:C.sibling=M,C=M,O=I}if(k===g.length)return n(m,O),be&&Ur(m,k),x;if(O===null){for(;k<g.length;k++)O=f(m,g[k],w),O!==null&&(y=o(O,y,k),C===null?x=O:C.sibling=O,C=O);return be&&Ur(m,k),x}for(O=r(m,O);k<g.length;k++)I=p(O,m,k,g[k],w),I!==null&&(t&&I.alternate!==null&&O.delete(I.key===null?k:I.key),y=o(I,y,k),C===null?x=I:C.sibling=I,C=I);return t&&O.forEach(function(J){return e(m,J)}),be&&Ur(m,k),x}function v(m,y,g,w){var x=Xo(g);if(typeof x!="function")throw Error(_(150));if(g=x.call(g),g==null)throw Error(_(151));for(var C=x=null,O=y,k=y=0,I=null,M=g.next();O!==null&&!M.done;k++,M=g.next()){O.index>k?(I=O,O=null):I=O.sibling;var J=d(m,O,M.value,w);if(J===null){O===null&&(O=I);break}t&&O&&J.alternate===null&&e(m,O),y=o(J,y,k),C===null?x=J:C.sibling=J,C=J,O=I}if(M.done)return n(m,O),be&&Ur(m,k),x;if(O===null){for(;!M.done;k++,M=g.next())M=f(m,M.value,w),M!==null&&(y=o(M,y,k),C===null?x=M:C.sibling=M,C=M);return be&&Ur(m,k),x}for(O=r(m,O);!M.done;k++,M=g.next())M=p(O,m,k,M.value,w),M!==null&&(t&&M.alternate!==null&&O.delete(M.key===null?k:M.key),y=o(M,y,k),C===null?x=M:C.sibling=M,C=M);return t&&O.forEach(function(T){return e(m,T)}),be&&Ur(m,k),x}function S(m,y,g,w){if(typeof g=="object"&&g!==null&&g.type===Bi&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case zl:e:{for(var x=g.key,C=y;C!==null;){if(C.key===x){if(x=g.type,x===Bi){if(C.tag===7){n(m,C.sibling),y=i(C,g.props.children),y.return=m,m=y;break e}}else if(C.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===er&&Ev(x)===C.type){n(m,C.sibling),y=i(C,g.props),y.ref=rs(m,C,g),y.return=m,m=y;break e}n(m,C);break}else e(m,C);C=C.sibling}g.type===Bi?(y=ti(g.props.children,m.mode,w,g.key),y.return=m,m=y):(w=ba(g.type,g.key,g.props,null,m.mode,w),w.ref=rs(m,y,g),w.return=m,m=w)}return s(m);case Fi:e:{for(C=g.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===g.containerInfo&&y.stateNode.implementation===g.implementation){n(m,y.sibling),y=i(y,g.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=kf(g,m.mode,w),y.return=m,m=y}return s(m);case er:return C=g._init,S(m,y,C(g._payload),w)}if(us(g))return h(m,y,g,w);if(Xo(g))return v(m,y,g,w);Ql(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,g),y.return=m,m=y):(n(m,y),y=Tf(g,m.mode,w),y.return=m,m=y),s(m)):n(m,y)}return S}var go=lE(!0),aE=lE(!1),Cl={},xn=$r(Cl),qs=$r(Cl),Ys=$r(Cl);function Yr(t){if(t===Cl)throw Error(_(174));return t}function $h(t,e){switch(Se(Ys,e),Se(qs,t),Se(xn,Cl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bd(e,t)}Ce(xn),Se(xn,e)}function yo(){Ce(xn),Ce(qs),Ce(Ys)}function uE(t){Yr(Ys.current);var e=Yr(xn.current),n=bd(e,t.type);e!==n&&(Se(qs,t),Se(xn,n))}function Dh(t){qs.current===t&&(Ce(xn),Ce(qs))}var Oe=$r(0);function Za(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wf=[];function Rh(){for(var t=0;t<wf.length;t++)wf[t]._workInProgressVersionPrimary=null;wf.length=0}var va=qn.ReactCurrentDispatcher,Ef=qn.ReactCurrentBatchConfig,ci=0,Te=null,Pe=null,Be=null,eu=!1,xs=!1,Js=0,g6=0;function Ze(){throw Error(_(321))}function Lh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!cn(t[n],e[n]))return!1;return!0}function Fh(t,e,n,r,i,o){if(ci=o,Te=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,va.current=t===null||t.memoizedState===null?w6:E6,t=n(r,i),xs){o=0;do{if(xs=!1,Js=0,25<=o)throw Error(_(301));o+=1,Be=Pe=null,e.updateQueue=null,va.current=C6,t=n(r,i)}while(xs)}if(va.current=tu,e=Pe!==null&&Pe.next!==null,ci=0,Be=Pe=Te=null,eu=!1,e)throw Error(_(300));return t}function Bh(){var t=Js!==0;return Js=0,t}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Te.memoizedState=Be=t:Be=Be.next=t,Be}function Yt(){if(Pe===null){var t=Te.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=Be===null?Te.memoizedState:Be.next;if(e!==null)Be=e,Pe=t;else{if(t===null)throw Error(_(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Be===null?Te.memoizedState=Be=t:Be=Be.next=t}return Be}function Qs(t,e){return typeof e=="function"?e(t):e}function Cf(t){var e=Yt(),n=e.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=t;var r=Pe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((ci&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,s=r):a=a.next=f,Te.lanes|=c,fi|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,cn(r,e.memoizedState)||(xt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Te.lanes|=o,fi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bf(t){var e=Yt(),n=e.queue;if(n===null)throw Error(_(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);cn(o,e.memoizedState)||(xt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function cE(){}function fE(t,e){var n=Te,r=Yt(),i=e(),o=!cn(r.memoizedState,i);if(o&&(r.memoizedState=i,xt=!0),r=r.queue,zh(hE.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Be!==null&&Be.memoizedState.tag&1){if(n.flags|=2048,Xs(9,pE.bind(null,n,r,i,e),void 0,null),je===null)throw Error(_(349));ci&30||dE(n,e,i)}return i}function dE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function pE(t,e,n,r){e.value=n,e.getSnapshot=r,mE(e)&&gE(t)}function hE(t,e,n){return n(function(){mE(e)&&gE(t)})}function mE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!cn(t,n)}catch{return!0}}function gE(t){var e=Gn(t,1);e!==null&&an(e,t,1,-1)}function Cv(t){var e=gn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:t},e.queue=t,t=t.dispatch=S6.bind(null,Te,t),[e.memoizedState,t]}function Xs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Te.updateQueue,e===null?(e={lastEffect:null,stores:null},Te.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yE(){return Yt().memoizedState}function Sa(t,e,n,r){var i=gn();Te.flags|=t,i.memoizedState=Xs(1|e,n,void 0,r===void 0?null:r)}function Ku(t,e,n,r){var i=Yt();r=r===void 0?null:r;var o=void 0;if(Pe!==null){var s=Pe.memoizedState;if(o=s.destroy,r!==null&&Lh(r,s.deps)){i.memoizedState=Xs(e,n,o,r);return}}Te.flags|=t,i.memoizedState=Xs(1|e,n,o,r)}function bv(t,e){return Sa(8390656,8,t,e)}function zh(t,e){return Ku(2048,8,t,e)}function vE(t,e){return Ku(4,2,t,e)}function SE(t,e){return Ku(4,4,t,e)}function wE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function EE(t,e,n){return n=n!=null?n.concat([t]):null,Ku(4,4,wE.bind(null,e,t),n)}function jh(){}function CE(t,e){var n=Yt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bE(t,e){var n=Yt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function xE(t,e,n){return ci&21?(cn(n,e)||(n=kw(),Te.lanes|=n,fi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,xt=!0),t.memoizedState=n)}function y6(t,e){var n=fe;fe=n!==0&&4>n?n:4,t(!0);var r=Ef.transition;Ef.transition={};try{t(!1),e()}finally{fe=n,Ef.transition=r}}function OE(){return Yt().memoizedState}function v6(t,e,n){var r=wr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TE(t))kE(e,n);else if(n=rE(t,e,n,r),n!==null){var i=dt();an(n,t,r,i),AE(n,e,r)}}function S6(t,e,n){var r=wr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TE(t))kE(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,cn(l,s)){var a=e.interleaved;a===null?(i.next=i,Ih(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=rE(t,e,i,r),n!==null&&(i=dt(),an(n,t,r,i),AE(n,e,r))}}function TE(t){var e=t.alternate;return t===Te||e!==null&&e===Te}function kE(t,e){xs=eu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function AE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vh(t,n)}}var tu={readContext:qt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},w6={readContext:qt,useCallback:function(t,e){return gn().memoizedState=[t,e===void 0?null:e],t},useContext:qt,useEffect:bv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sa(4194308,4,wE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sa(4,2,t,e)},useMemo:function(t,e){var n=gn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=gn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=v6.bind(null,Te,t),[r.memoizedState,t]},useRef:function(t){var e=gn();return t={current:t},e.memoizedState=t},useState:Cv,useDebugValue:jh,useDeferredValue:function(t){return gn().memoizedState=t},useTransition:function(){var t=Cv(!1),e=t[0];return t=y6.bind(null,t[1]),gn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Te,i=gn();if(be){if(n===void 0)throw Error(_(407));n=n()}else{if(n=e(),je===null)throw Error(_(349));ci&30||dE(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,bv(hE.bind(null,r,o,t),[t]),r.flags|=2048,Xs(9,pE.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=gn(),e=je.identifierPrefix;if(be){var n=zn,r=Bn;n=(r&~(1<<32-ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Js++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=g6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},E6={readContext:qt,useCallback:CE,useContext:qt,useEffect:zh,useImperativeHandle:EE,useInsertionEffect:vE,useLayoutEffect:SE,useMemo:bE,useReducer:Cf,useRef:yE,useState:function(){return Cf(Qs)},useDebugValue:jh,useDeferredValue:function(t){var e=Yt();return xE(e,Pe.memoizedState,t)},useTransition:function(){var t=Cf(Qs)[0],e=Yt().memoizedState;return[t,e]},useMutableSource:cE,useSyncExternalStore:fE,useId:OE,unstable_isNewReconciler:!1},C6={readContext:qt,useCallback:CE,useContext:qt,useEffect:zh,useImperativeHandle:EE,useInsertionEffect:vE,useLayoutEffect:SE,useMemo:bE,useReducer:bf,useRef:yE,useState:function(){return bf(Qs)},useDebugValue:jh,useDeferredValue:function(t){var e=Yt();return Pe===null?e.memoizedState=t:xE(e,Pe.memoizedState,t)},useTransition:function(){var t=bf(Qs)[0],e=Yt().memoizedState;return[t,e]},useMutableSource:cE,useSyncExternalStore:fE,useId:OE,unstable_isNewReconciler:!1};function vo(t,e){try{var n="",r=e;do n+=Jz(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function xf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var b6=typeof WeakMap=="function"?WeakMap:Map;function _E(t,e,n){n=Un(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ru||(ru=!0,np=r),Gd(t,e)},n}function NE(t,e,n){n=Un(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gd(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Gd(t,e),typeof r!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function xv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new b6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=L6.bind(null,t,e,n),e.then(t,t))}function Ov(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Un(-1,1),e.tag=2,vr(n,e,1))),n.lanes|=1),t)}var x6=qn.ReactCurrentOwner,xt=!1;function ut(t,e,n,r){e.child=t===null?aE(e,null,n,r):go(e,t.child,n,r)}function kv(t,e,n,r,i){n=n.render;var o=e.ref;return to(e,i),r=Fh(t,e,n,r,o,i),n=Bh(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kn(t,e,i)):(be&&n&&Th(e),e.flags|=1,ut(t,e,r,i),e.child)}function Av(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Yh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,ME(t,e,o,r,i)):(t=ba(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ws,n(s,r)&&t.ref===e.ref)return Kn(t,e,i)}return e.flags|=1,t=Er(o,r),t.ref=e.ref,t.return=e,e.child=t}function ME(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ws(o,r)&&t.ref===e.ref)if(xt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(xt=!0);else return e.lanes=t.lanes,Kn(t,e,i)}return Kd(t,e,n,r,i)}function IE(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Yi,Mt),Mt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Se(Yi,Mt),Mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Se(Yi,Mt),Mt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Se(Yi,Mt),Mt|=r;return ut(t,e,i,n),e.child}function PE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Kd(t,e,n,r,i){var o=Tt(n)?ai:lt.current;return o=ho(e,o),to(e,i),n=Fh(t,e,n,r,o,i),r=Bh(),t!==null&&!xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Kn(t,e,i)):(be&&r&&Th(e),e.flags|=1,ut(t,e,n,i),e.child)}function _v(t,e,n,r,i){if(Tt(n)){var o=!0;Ka(e)}else o=!1;if(to(e,i),e.stateNode===null)wa(t,e),sE(e,n,r),Hd(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=qt(u):(u=Tt(n)?ai:lt.current,u=ho(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&wv(e,s,r,u),tr=!1;var d=e.memoizedState;s.state=d,Xa(e,r,s,i),a=e.memoizedState,l!==r||d!==a||Ot.current||tr?(typeof c=="function"&&(Wd(e,n,c,r),a=e.memoizedState),(l=tr||Sv(e,n,l,r,d,a,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,iE(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:en(e.type,l),s.props=u,f=e.pendingProps,d=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=qt(a):(a=Tt(n)?ai:lt.current,a=ho(e,a));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==f||d!==a)&&wv(e,s,r,a),tr=!1,d=e.memoizedState,s.state=d,Xa(e,r,s,i);var h=e.memoizedState;l!==f||d!==h||Ot.current||tr?(typeof p=="function"&&(Wd(e,n,p,r),h=e.memoizedState),(u=tr||Sv(e,n,u,r,d,h,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,h,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,h,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),s.props=r,s.state=h,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return qd(t,e,n,r,o,i)}function qd(t,e,n,r,i,o){PE(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&hv(e,n,!1),Kn(t,e,o);r=e.stateNode,x6.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=go(e,t.child,null,o),e.child=go(e,null,l,o)):ut(t,e,l,o),e.memoizedState=r.state,i&&hv(e,n,!0),e.child}function $E(t){var e=t.stateNode;e.pendingContext?pv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pv(t,e.context,!1),$h(t,e.containerInfo)}function Nv(t,e,n,r,i){return mo(),Ah(i),e.flags|=256,ut(t,e,n,r),e.child}var Yd={dehydrated:null,treeContext:null,retryLane:0};function Jd(t){return{baseLanes:t,cachePool:null,transitions:null}}function DE(t,e,n){var r=e.pendingProps,i=Oe.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Se(Oe,i&1),t===null)return Ud(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ju(s,r,0,null),t=ti(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Jd(n),e.memoizedState=Yd,t):Uh(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return O6(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Er(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Er(l,o):(o=ti(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Jd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Yd,r}return o=t.child,t=o.sibling,r=Er(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Uh(t,e){return e=Ju({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xl(t,e,n,r){return r!==null&&Ah(r),go(e,t.child,null,n),t=Uh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function O6(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=xf(Error(_(422))),Xl(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ju({mode:"visible",children:r.children},i,0,null),o=ti(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&go(e,t.child,null,s),e.child.memoizedState=Jd(s),e.memoizedState=Yd,o);if(!(e.mode&1))return Xl(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(_(419)),r=xf(o,r,void 0),Xl(t,e,s,r)}if(l=(s&t.childLanes)!==0,xt||l){if(r=je,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Gn(t,i),an(r,t,i,-1))}return qh(),r=xf(Error(_(421))),Xl(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=F6.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Pt=yr(i.nextSibling),$t=e,be=!0,nn=null,t!==null&&(Vt[Wt++]=Bn,Vt[Wt++]=zn,Vt[Wt++]=ui,Bn=t.id,zn=t.overflow,ui=e),e=Uh(e,r.children),e.flags|=4096,e)}function Mv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vd(t.return,e,n)}function Of(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function RE(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(ut(t,e,r.children,n),r=Oe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mv(t,n,e);else if(t.tag===19)Mv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Se(Oe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Za(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Of(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Za(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Of(e,!0,n,null,o);break;case"together":Of(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(_(153));if(e.child!==null){for(t=e.child,n=Er(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Er(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function T6(t,e,n){switch(e.tag){case 3:$E(e),mo();break;case 5:uE(e);break;case 1:Tt(e.type)&&Ka(e);break;case 4:$h(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Se(Ja,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Se(Oe,Oe.current&1),e.flags|=128,null):n&e.child.childLanes?DE(t,e,n):(Se(Oe,Oe.current&1),t=Kn(t,e,n),t!==null?t.sibling:null);Se(Oe,Oe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(Oe,Oe.current),r)break;return null;case 22:case 23:return e.lanes=0,IE(t,e,n)}return Kn(t,e,n)}var LE,Qd,FE,BE;LE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qd=function(){};FE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Yr(xn.current);var o=null;switch(n){case"input":i=Sd(t,i),r=Sd(t,r),o=[];break;case"select":i=ke({},i,{value:void 0}),r=ke({},r,{value:void 0}),o=[];break;case"textarea":i=Cd(t,i),r=Cd(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ha)}xd(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ls.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ls.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&we("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};BE=function(t,e,n,r){n!==r&&(e.flags|=4)};function is(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function et(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function k6(t,e,n){var r=e.pendingProps;switch(kh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(e),null;case 1:return Tt(e.type)&&Ga(),et(e),null;case 3:return r=e.stateNode,yo(),Ce(Ot),Ce(lt),Rh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Jl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nn!==null&&(op(nn),nn=null))),Qd(t,e),et(e),null;case 5:Dh(e);var i=Yr(Ys.current);if(n=e.type,t!==null&&e.stateNode!=null)FE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(_(166));return et(e),null}if(t=Yr(xn.current),Jl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[wn]=e,r[Ks]=o,t=(e.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<fs.length;i++)we(fs[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":zy(r,o),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},we("invalid",r);break;case"textarea":Uy(r,o),we("invalid",r)}xd(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Yl(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Yl(r.textContent,l,t),i=["children",""+l]):Ls.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&we("scroll",r)}switch(n){case"input":jl(r),jy(r,o,!0);break;case"textarea":jl(r),Vy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ha)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=dw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[wn]=e,t[Ks]=r,LE(t,e,!1,!1),e.stateNode=t;e:{switch(s=Od(n,r),n){case"dialog":we("cancel",t),we("close",t),i=r;break;case"iframe":case"object":case"embed":we("load",t),i=r;break;case"video":case"audio":for(i=0;i<fs.length;i++)we(fs[i],t);i=r;break;case"source":we("error",t),i=r;break;case"img":case"image":case"link":we("error",t),we("load",t),i=r;break;case"details":we("toggle",t),i=r;break;case"input":zy(t,r),i=Sd(t,r),we("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ke({},r,{value:void 0}),we("invalid",t);break;case"textarea":Uy(t,r),i=Cd(t,r),we("invalid",t);break;default:i=r}xd(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?mw(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&pw(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Fs(t,a):typeof a=="number"&&Fs(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ls.hasOwnProperty(o)?a!=null&&o==="onScroll"&&we("scroll",t):a!=null&&dh(t,o,a,s))}switch(n){case"input":jl(t),jy(t,r,!1);break;case"textarea":jl(t),Vy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ar(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Qi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Qi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ha)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return et(e),null;case 6:if(t&&e.stateNode!=null)BE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(_(166));if(n=Yr(Ys.current),Yr(xn.current),Jl(e)){if(r=e.stateNode,n=e.memoizedProps,r[wn]=e,(o=r.nodeValue!==n)&&(t=$t,t!==null))switch(t.tag){case 3:Yl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yl(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wn]=e,e.stateNode=r}return et(e),null;case 13:if(Ce(Oe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&Pt!==null&&e.mode&1&&!(e.flags&128))nE(),mo(),e.flags|=98560,o=!1;else if(o=Jl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(_(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(_(317));o[wn]=e}else mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;et(e),o=!1}else nn!==null&&(op(nn),nn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Oe.current&1?$e===0&&($e=3):qh())),e.updateQueue!==null&&(e.flags|=4),et(e),null);case 4:return yo(),Qd(t,e),t===null&&Hs(e.stateNode.containerInfo),et(e),null;case 10:return Mh(e.type._context),et(e),null;case 17:return Tt(e.type)&&Ga(),et(e),null;case 19:if(Ce(Oe),o=e.memoizedState,o===null)return et(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)is(o,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Za(t),s!==null){for(e.flags|=128,is(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(Oe,Oe.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ne()>So&&(e.flags|=128,r=!0,is(o,!1),e.lanes=4194304)}else{if(!r)if(t=Za(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),is(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!be)return et(e),null}else 2*Ne()-o.renderingStartTime>So&&n!==1073741824&&(e.flags|=128,r=!0,is(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ne(),e.sibling=null,n=Oe.current,Se(Oe,r?n&1|2:n&1),e):(et(e),null);case 22:case 23:return Kh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mt&1073741824&&(et(e),e.subtreeFlags&6&&(e.flags|=8192)):et(e),null;case 24:return null;case 25:return null}throw Error(_(156,e.tag))}function A6(t,e){switch(kh(e),e.tag){case 1:return Tt(e.type)&&Ga(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yo(),Ce(Ot),Ce(lt),Rh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dh(e),null;case 13:if(Ce(Oe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(_(340));mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ce(Oe),null;case 4:return yo(),null;case 10:return Mh(e.type._context),null;case 22:case 23:return Kh(),null;case 24:return null;default:return null}}var Zl=!1,rt=!1,_6=typeof WeakSet=="function"?WeakSet:Set,L=null;function qi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(t,e,r)}else n.current=null}function Xd(t,e,n){try{n()}catch(r){Ae(t,e,r)}}var Iv=!1;function N6(t,e){if(Dd=Ua,t=Vw(),Oh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(l=s+i),f!==o||r!==0&&f.nodeType!==3||(a=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++u===i&&(l=s),d===o&&++c===r&&(a=s),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rd={focusedElem:t,selectionRange:n},Ua=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,S=h.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?v:en(e.type,v),S);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_(163))}}catch(w){Ae(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return h=Iv,Iv=!1,h}function Os(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Xd(e,n,o)}i=i.next}while(i!==r)}}function qu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zE(t){var e=t.alternate;e!==null&&(t.alternate=null,zE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wn],delete e[Ks],delete e[Bd],delete e[d6],delete e[p6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jE(t){return t.tag===5||t.tag===3||t.tag===4}function Pv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ep(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ha));else if(r!==4&&(t=t.child,t!==null))for(ep(t,e,n),t=t.sibling;t!==null;)ep(t,e,n),t=t.sibling}function tp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tp(t,e,n),t=t.sibling;t!==null;)tp(t,e,n),t=t.sibling}var Ge=null,tn=!1;function Qn(t,e,n){for(n=n.child;n!==null;)UE(t,e,n),n=n.sibling}function UE(t,e,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(zu,n)}catch{}switch(n.tag){case 5:rt||qi(n,e);case 6:var r=Ge,i=tn;Ge=null,Qn(t,e,n),Ge=r,tn=i,Ge!==null&&(tn?(t=Ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(tn?(t=Ge,n=n.stateNode,t.nodeType===8?vf(t.parentNode,n):t.nodeType===1&&vf(t,n),Us(t)):vf(Ge,n.stateNode));break;case 4:r=Ge,i=tn,Ge=n.stateNode.containerInfo,tn=!0,Qn(t,e,n),Ge=r,tn=i;break;case 0:case 11:case 14:case 15:if(!rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Xd(n,e,s),i=i.next}while(i!==r)}Qn(t,e,n);break;case 1:if(!rt&&(qi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ae(n,e,l)}Qn(t,e,n);break;case 21:Qn(t,e,n);break;case 22:n.mode&1?(rt=(r=rt)||n.memoizedState!==null,Qn(t,e,n),rt=r):Qn(t,e,n);break;default:Qn(t,e,n)}}function $v(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _6),e.forEach(function(r){var i=B6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ge=l.stateNode,tn=!1;break e;case 3:Ge=l.stateNode.containerInfo,tn=!0;break e;case 4:Ge=l.stateNode.containerInfo,tn=!0;break e}l=l.return}if(Ge===null)throw Error(_(160));UE(o,s,i),Ge=null,tn=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Ae(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VE(e,t),e=e.sibling}function VE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xt(e,t),mn(t),r&4){try{Os(3,t,t.return),qu(3,t)}catch(v){Ae(t,t.return,v)}try{Os(5,t,t.return)}catch(v){Ae(t,t.return,v)}}break;case 1:Xt(e,t),mn(t),r&512&&n!==null&&qi(n,n.return);break;case 5:if(Xt(e,t),mn(t),r&512&&n!==null&&qi(n,n.return),t.flags&32){var i=t.stateNode;try{Fs(i,"")}catch(v){Ae(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&cw(i,o),Od(l,s);var u=Od(l,o);for(s=0;s<a.length;s+=2){var c=a[s],f=a[s+1];c==="style"?mw(i,f):c==="dangerouslySetInnerHTML"?pw(i,f):c==="children"?Fs(i,f):dh(i,c,f,u)}switch(l){case"input":wd(i,o);break;case"textarea":fw(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Qi(i,!!o.multiple,p,!1):d!==!!o.multiple&&(o.defaultValue!=null?Qi(i,!!o.multiple,o.defaultValue,!0):Qi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ks]=o}catch(v){Ae(t,t.return,v)}}break;case 6:if(Xt(e,t),mn(t),r&4){if(t.stateNode===null)throw Error(_(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Ae(t,t.return,v)}}break;case 3:if(Xt(e,t),mn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Us(e.containerInfo)}catch(v){Ae(t,t.return,v)}break;case 4:Xt(e,t),mn(t);break;case 13:Xt(e,t),mn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Hh=Ne())),r&4&&$v(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(rt=(u=rt)||c,Xt(e,t),rt=u):Xt(e,t),mn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(L=t,c=t.child;c!==null;){for(f=L=c;L!==null;){switch(d=L,p=d.child,d.tag){case 0:case 11:case 14:case 15:Os(4,d,d.return);break;case 1:qi(d,d.return);var h=d.stateNode;if(typeof h.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(v){Ae(r,n,v)}}break;case 5:qi(d,d.return);break;case 22:if(d.memoizedState!==null){Rv(f);continue}}p!==null?(p.return=d,L=p):Rv(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=hw("display",s))}catch(v){Ae(t,t.return,v)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ae(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xt(e,t),mn(t),r&4&&$v(t);break;case 21:break;default:Xt(e,t),mn(t)}}function mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jE(n)){var r=n;break e}n=n.return}throw Error(_(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fs(i,""),r.flags&=-33);var o=Pv(t);tp(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Pv(t);ep(t,l,s);break;default:throw Error(_(161))}}catch(a){Ae(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M6(t,e,n){L=t,WE(t)}function WE(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Zl;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||rt;l=Zl;var u=rt;if(Zl=s,(rt=a)&&!u)for(L=i;L!==null;)s=L,a=s.child,s.tag===22&&s.memoizedState!==null?Lv(i):a!==null?(a.return=s,L=a):Lv(i);for(;o!==null;)L=o,WE(o),o=o.sibling;L=i,Zl=l,rt=u}Dv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,L=o):Dv(t)}}function Dv(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rt||qu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:en(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&vv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vv(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Us(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_(163))}rt||e.flags&512&&Zd(e)}catch(d){Ae(e,e.return,d)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function Rv(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function Lv(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qu(4,e)}catch(a){Ae(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Ae(e,i,a)}}var o=e.return;try{Zd(e)}catch(a){Ae(e,o,a)}break;case 5:var s=e.return;try{Zd(e)}catch(a){Ae(e,s,a)}}}catch(a){Ae(e,e.return,a)}if(e===t){L=null;break}var l=e.sibling;if(l!==null){l.return=e.return,L=l;break}L=e.return}}var I6=Math.ceil,nu=qn.ReactCurrentDispatcher,Vh=qn.ReactCurrentOwner,Gt=qn.ReactCurrentBatchConfig,oe=0,je=null,Me=null,Ye=0,Mt=0,Yi=$r(0),$e=0,Zs=null,fi=0,Yu=0,Wh=0,Ts=null,bt=null,Hh=0,So=1/0,$n=null,ru=!1,np=null,Sr=null,ea=!1,cr=null,iu=0,ks=0,rp=null,Ea=-1,Ca=0;function dt(){return oe&6?Ne():Ea!==-1?Ea:Ea=Ne()}function wr(t){return t.mode&1?oe&2&&Ye!==0?Ye&-Ye:m6.transition!==null?(Ca===0&&(Ca=kw()),Ca):(t=fe,t!==0||(t=window.event,t=t===void 0?16:$w(t.type)),t):1}function an(t,e,n,r){if(50<ks)throw ks=0,rp=null,Error(_(185));Sl(t,n,r),(!(oe&2)||t!==je)&&(t===je&&(!(oe&2)&&(Yu|=n),$e===4&&or(t,Ye)),kt(t,r),n===1&&oe===0&&!(e.mode&1)&&(So=Ne()+500,Hu&&Dr()))}function kt(t,e){var n=t.callbackNode;m4(t,e);var r=ja(t,t===je?Ye:0);if(r===0)n!==null&&Gy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Gy(n),e===1)t.tag===0?h6(Fv.bind(null,t)):Zw(Fv.bind(null,t)),c6(function(){!(oe&6)&&Dr()}),n=null;else{switch(Aw(r)){case 1:n=yh;break;case 4:n=Ow;break;case 16:n=za;break;case 536870912:n=Tw;break;default:n=za}n=XE(n,HE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function HE(t,e){if(Ea=-1,Ca=0,oe&6)throw Error(_(327));var n=t.callbackNode;if(no()&&t.callbackNode!==n)return null;var r=ja(t,t===je?Ye:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ou(t,r);else{e=r;var i=oe;oe|=2;var o=KE();(je!==t||Ye!==e)&&($n=null,So=Ne()+500,ei(t,e));do try{D6();break}catch(l){GE(t,l)}while(!0);Nh(),nu.current=o,oe=i,Me!==null?e=0:(je=null,Ye=0,e=$e)}if(e!==0){if(e===2&&(i=Nd(t),i!==0&&(r=i,e=ip(t,i))),e===1)throw n=Zs,ei(t,0),or(t,r),kt(t,Ne()),n;if(e===6)or(t,r);else{if(i=t.current.alternate,!(r&30)&&!P6(i)&&(e=ou(t,r),e===2&&(o=Nd(t),o!==0&&(r=o,e=ip(t,o))),e===1))throw n=Zs,ei(t,0),or(t,r),kt(t,Ne()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(_(345));case 2:Vr(t,bt,$n);break;case 3:if(or(t,r),(r&130023424)===r&&(e=Hh+500-Ne(),10<e)){if(ja(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){dt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Fd(Vr.bind(null,t,bt,$n),e);break}Vr(t,bt,$n);break;case 4:if(or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-ln(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*I6(r/1960))-r,10<r){t.timeoutHandle=Fd(Vr.bind(null,t,bt,$n),r);break}Vr(t,bt,$n);break;case 5:Vr(t,bt,$n);break;default:throw Error(_(329))}}}return kt(t,Ne()),t.callbackNode===n?HE.bind(null,t):null}function ip(t,e){var n=Ts;return t.current.memoizedState.isDehydrated&&(ei(t,e).flags|=256),t=ou(t,e),t!==2&&(e=bt,bt=n,e!==null&&op(e)),t}function op(t){bt===null?bt=t:bt.push.apply(bt,t)}function P6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!cn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function or(t,e){for(e&=~Wh,e&=~Yu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ln(e),r=1<<n;t[n]=-1,e&=~r}}function Fv(t){if(oe&6)throw Error(_(327));no();var e=ja(t,0);if(!(e&1))return kt(t,Ne()),null;var n=ou(t,e);if(t.tag!==0&&n===2){var r=Nd(t);r!==0&&(e=r,n=ip(t,r))}if(n===1)throw n=Zs,ei(t,0),or(t,e),kt(t,Ne()),n;if(n===6)throw Error(_(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vr(t,bt,$n),kt(t,Ne()),null}function Gh(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(So=Ne()+500,Hu&&Dr())}}function di(t){cr!==null&&cr.tag===0&&!(oe&6)&&no();var e=oe;oe|=1;var n=Gt.transition,r=fe;try{if(Gt.transition=null,fe=1,t)return t()}finally{fe=r,Gt.transition=n,oe=e,!(oe&6)&&Dr()}}function Kh(){Mt=Yi.current,Ce(Yi)}function ei(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,u6(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(kh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ga();break;case 3:yo(),Ce(Ot),Ce(lt),Rh();break;case 5:Dh(r);break;case 4:yo();break;case 13:Ce(Oe);break;case 19:Ce(Oe);break;case 10:Mh(r.type._context);break;case 22:case 23:Kh()}n=n.return}if(je=t,Me=t=Er(t.current,null),Ye=Mt=e,$e=0,Zs=null,Wh=Yu=fi=0,bt=Ts=null,qr!==null){for(e=0;e<qr.length;e++)if(n=qr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}qr=null}return t}function GE(t,e){do{var n=Me;try{if(Nh(),va.current=tu,eu){for(var r=Te.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}eu=!1}if(ci=0,Be=Pe=Te=null,xs=!1,Js=0,Vh.current=null,n===null||n.return===null){$e=1,Zs=e,Me=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=Ye,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Ov(s);if(p!==null){p.flags&=-257,Tv(p,s,l,o,e),p.mode&1&&xv(o,u,e),e=p,a=u;var h=e.updateQueue;if(h===null){var v=new Set;v.add(a),e.updateQueue=v}else h.add(a);break e}else{if(!(e&1)){xv(o,u,e),qh();break e}a=Error(_(426))}}else if(be&&l.mode&1){var S=Ov(s);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Tv(S,s,l,o,e),Ah(vo(a,l));break e}}o=a=vo(a,l),$e!==4&&($e=2),Ts===null?Ts=[o]:Ts.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=_E(o,a,e);yv(o,m);break e;case 1:l=a;var y=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Sr===null||!Sr.has(g)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=NE(o,l,e);yv(o,w);break e}}o=o.return}while(o!==null)}YE(n)}catch(x){e=x,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function KE(){var t=nu.current;return nu.current=tu,t===null?tu:t}function qh(){($e===0||$e===3||$e===2)&&($e=4),je===null||!(fi&268435455)&&!(Yu&268435455)||or(je,Ye)}function ou(t,e){var n=oe;oe|=2;var r=KE();(je!==t||Ye!==e)&&($n=null,ei(t,e));do try{$6();break}catch(i){GE(t,i)}while(!0);if(Nh(),oe=n,nu.current=r,Me!==null)throw Error(_(261));return je=null,Ye=0,$e}function $6(){for(;Me!==null;)qE(Me)}function D6(){for(;Me!==null&&!s4();)qE(Me)}function qE(t){var e=QE(t.alternate,t,Mt);t.memoizedProps=t.pendingProps,e===null?YE(t):Me=e,Vh.current=null}function YE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=A6(n,e),n!==null){n.flags&=32767,Me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$e=6,Me=null;return}}else if(n=k6(n,e,Mt),n!==null){Me=n;return}if(e=e.sibling,e!==null){Me=e;return}Me=e=t}while(e!==null);$e===0&&($e=5)}function Vr(t,e,n){var r=fe,i=Gt.transition;try{Gt.transition=null,fe=1,R6(t,e,n,r)}finally{Gt.transition=i,fe=r}return null}function R6(t,e,n,r){do no();while(cr!==null);if(oe&6)throw Error(_(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(_(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(g4(t,o),t===je&&(Me=je=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ea||(ea=!0,XE(za,function(){return no(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Gt.transition,Gt.transition=null;var s=fe;fe=1;var l=oe;oe|=4,Vh.current=null,N6(t,n),VE(n,t),n6(Rd),Ua=!!Dd,Rd=Dd=null,t.current=n,M6(n),l4(),oe=l,fe=s,Gt.transition=o}else t.current=n;if(ea&&(ea=!1,cr=t,iu=i),o=t.pendingLanes,o===0&&(Sr=null),c4(n.stateNode),kt(t,Ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ru)throw ru=!1,t=np,np=null,t;return iu&1&&t.tag!==0&&no(),o=t.pendingLanes,o&1?t===rp?ks++:(ks=0,rp=t):ks=0,Dr(),null}function no(){if(cr!==null){var t=Aw(iu),e=Gt.transition,n=fe;try{if(Gt.transition=null,fe=16>t?16:t,cr===null)var r=!1;else{if(t=cr,cr=null,iu=0,oe&6)throw Error(_(331));var i=oe;for(oe|=4,L=t.current;L!==null;){var o=L,s=o.child;if(L.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:Os(8,c,o)}var f=c.child;if(f!==null)f.return=c,L=f;else for(;L!==null;){c=L;var d=c.sibling,p=c.return;if(zE(c),c===u){L=null;break}if(d!==null){d.return=p,L=d;break}L=p}}}var h=o.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}L=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,L=s;else e:for(;L!==null;){if(o=L,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Os(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,L=m;break e}L=o.return}}var y=t.current;for(L=y;L!==null;){s=L;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,L=g;else e:for(s=y;L!==null;){if(l=L,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:qu(9,l)}}catch(x){Ae(l,l.return,x)}if(l===s){L=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,L=w;break e}L=l.return}}if(oe=i,Dr(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(zu,t)}catch{}r=!0}return r}finally{fe=n,Gt.transition=e}}return!1}function Bv(t,e,n){e=vo(n,e),e=_E(t,e,1),t=vr(t,e,1),e=dt(),t!==null&&(Sl(t,1,e),kt(t,e))}function Ae(t,e,n){if(t.tag===3)Bv(t,t,n);else for(;e!==null;){if(e.tag===3){Bv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sr===null||!Sr.has(r))){t=vo(n,t),t=NE(e,t,1),e=vr(e,t,1),t=dt(),e!==null&&(Sl(e,1,t),kt(e,t));break}}e=e.return}}function L6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dt(),t.pingedLanes|=t.suspendedLanes&n,je===t&&(Ye&n)===n&&($e===4||$e===3&&(Ye&130023424)===Ye&&500>Ne()-Hh?ei(t,0):Wh|=n),kt(t,e)}function JE(t,e){e===0&&(t.mode&1?(e=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):e=1);var n=dt();t=Gn(t,e),t!==null&&(Sl(t,e,n),kt(t,n))}function F6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),JE(t,n)}function B6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(_(314))}r!==null&&r.delete(e),JE(t,n)}var QE;QE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ot.current)xt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return xt=!1,T6(t,e,n);xt=!!(t.flags&131072)}else xt=!1,be&&e.flags&1048576&&eE(e,Ya,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wa(t,e),t=e.pendingProps;var i=ho(e,lt.current);to(e,n),i=Fh(null,e,r,t,i,n);var o=Bh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tt(r)?(o=!0,Ka(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ph(e),i.updater=Gu,e.stateNode=i,i._reactInternals=e,Hd(e,r,t,n),e=qd(null,e,r,!0,o,n)):(e.tag=0,be&&o&&Th(e),ut(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wa(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=j6(r),t=en(r,t),i){case 0:e=Kd(null,e,r,t,n);break e;case 1:e=_v(null,e,r,t,n);break e;case 11:e=kv(null,e,r,t,n);break e;case 14:e=Av(null,e,r,en(r.type,t),n);break e}throw Error(_(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:en(r,i),Kd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:en(r,i),_v(t,e,r,i,n);case 3:e:{if($E(e),t===null)throw Error(_(387));r=e.pendingProps,o=e.memoizedState,i=o.element,iE(t,e),Xa(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=vo(Error(_(423)),e),e=Nv(t,e,r,n,i);break e}else if(r!==i){i=vo(Error(_(424)),e),e=Nv(t,e,r,n,i);break e}else for(Pt=yr(e.stateNode.containerInfo.firstChild),$t=e,be=!0,nn=null,n=aE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mo(),r===i){e=Kn(t,e,n);break e}ut(t,e,r,n)}e=e.child}return e;case 5:return uE(e),t===null&&Ud(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Ld(r,i)?s=null:o!==null&&Ld(r,o)&&(e.flags|=32),PE(t,e),ut(t,e,s,n),e.child;case 6:return t===null&&Ud(e),null;case 13:return DE(t,e,n);case 4:return $h(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=go(e,null,r,n):ut(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:en(r,i),kv(t,e,r,i,n);case 7:return ut(t,e,e.pendingProps,n),e.child;case 8:return ut(t,e,e.pendingProps.children,n),e.child;case 12:return ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Se(Ja,r._currentValue),r._currentValue=s,o!==null)if(cn(o.value,s)){if(o.children===i.children&&!Ot.current){e=Kn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=Un(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Vd(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(_(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Vd(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}ut(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,to(e,n),i=qt(i),r=r(i),e.flags|=1,ut(t,e,r,n),e.child;case 14:return r=e.type,i=en(r,e.pendingProps),i=en(r.type,i),Av(t,e,r,i,n);case 15:return ME(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:en(r,i),wa(t,e),e.tag=1,Tt(r)?(t=!0,Ka(e)):t=!1,to(e,n),sE(e,r,i),Hd(e,r,i,n),qd(null,e,r,!0,t,n);case 19:return RE(t,e,n);case 22:return IE(t,e,n)}throw Error(_(156,e.tag))};function XE(t,e){return xw(t,e)}function z6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(t,e,n,r){return new z6(t,e,n,r)}function Yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function j6(t){if(typeof t=="function")return Yh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hh)return 11;if(t===mh)return 14}return 2}function Er(t,e){var n=t.alternate;return n===null?(n=Ht(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ba(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Yh(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Bi:return ti(n.children,i,o,e);case ph:s=8,i|=8;break;case md:return t=Ht(12,n,e,i|2),t.elementType=md,t.lanes=o,t;case gd:return t=Ht(13,n,e,i),t.elementType=gd,t.lanes=o,t;case yd:return t=Ht(19,n,e,i),t.elementType=yd,t.lanes=o,t;case lw:return Ju(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ow:s=10;break e;case sw:s=9;break e;case hh:s=11;break e;case mh:s=14;break e;case er:s=16,r=null;break e}throw Error(_(130,t==null?t:typeof t,""))}return e=Ht(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ti(t,e,n,r){return t=Ht(7,t,r,e),t.lanes=n,t}function Ju(t,e,n,r){return t=Ht(22,t,r,e),t.elementType=lw,t.lanes=n,t.stateNode={isHidden:!1},t}function Tf(t,e,n){return t=Ht(6,t,null,e),t.lanes=n,t}function kf(t,e,n){return e=Ht(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function U6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lf(0),this.expirationTimes=lf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jh(t,e,n,r,i,o,s,l,a){return t=new U6(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ht(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ph(o),t}function V6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZE(t){if(!t)return _r;t=t._reactInternals;e:{if(Ei(t)!==t||t.tag!==1)throw Error(_(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(_(171))}if(t.tag===1){var n=t.type;if(Tt(n))return Xw(t,n,e)}return e}function eC(t,e,n,r,i,o,s,l,a){return t=Jh(n,r,!0,t,i,o,s,l,a),t.context=ZE(null),n=t.current,r=dt(),i=wr(n),o=Un(r,i),o.callback=e??null,vr(n,o,i),t.current.lanes=i,Sl(t,i,r),kt(t,r),t}function Qu(t,e,n,r){var i=e.current,o=dt(),s=wr(i);return n=ZE(n),e.context===null?e.context=n:e.pendingContext=n,e=Un(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vr(i,e,s),t!==null&&(an(t,i,s,o),ya(t,i,s)),s}function su(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qh(t,e){zv(t,e),(t=t.alternate)&&zv(t,e)}function W6(){return null}var tC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xh(t){this._internalRoot=t}Xu.prototype.render=Xh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(_(409));Qu(t,e,null,null)};Xu.prototype.unmount=Xh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;di(function(){Qu(null,t,null,null)}),e[Hn]=null}};function Xu(t){this._internalRoot=t}Xu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ir.length&&e!==0&&e<ir[n].priority;n++);ir.splice(n,0,t),n===0&&Pw(t)}};function Zh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jv(){}function H6(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=su(s);o.call(u)}}var s=eC(e,r,t,0,null,!1,!1,"",jv);return t._reactRootContainer=s,t[Hn]=s.current,Hs(t.nodeType===8?t.parentNode:t),di(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=su(a);l.call(u)}}var a=Jh(t,0,!1,null,null,!1,!1,"",jv);return t._reactRootContainer=a,t[Hn]=a.current,Hs(t.nodeType===8?t.parentNode:t),di(function(){Qu(e,a,n,r)}),a}function ec(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=su(s);l.call(a)}}Qu(e,s,t,i)}else s=H6(n,e,t,i,r);return su(s)}_w=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cs(e.pendingLanes);n!==0&&(vh(e,n|1),kt(e,Ne()),!(oe&6)&&(So=Ne()+500,Dr()))}break;case 13:di(function(){var r=Gn(t,1);if(r!==null){var i=dt();an(r,t,1,i)}}),Qh(t,1)}};Sh=function(t){if(t.tag===13){var e=Gn(t,134217728);if(e!==null){var n=dt();an(e,t,134217728,n)}Qh(t,134217728)}};Nw=function(t){if(t.tag===13){var e=wr(t),n=Gn(t,e);if(n!==null){var r=dt();an(n,t,e,r)}Qh(t,e)}};Mw=function(){return fe};Iw=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}};kd=function(t,e,n){switch(e){case"input":if(wd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Wu(r);if(!i)throw Error(_(90));uw(r),wd(r,i)}}}break;case"textarea":fw(t,n);break;case"select":e=n.value,e!=null&&Qi(t,!!n.multiple,e,!1)}};vw=Gh;Sw=di;var G6={usingClientEntryPoint:!1,Events:[El,Vi,Wu,gw,yw,Gh]},ss={findFiberByHostInstance:Kr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},K6={bundleType:ss.bundleType,version:ss.version,rendererPackageName:ss.rendererPackageName,rendererConfig:ss.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Cw(t),t===null?null:t.stateNode},findFiberByHostInstance:ss.findFiberByHostInstance||W6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{zu=ta.inject(K6),bn=ta}catch{}}Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G6;Bt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zh(e))throw Error(_(200));return V6(t,e,null,n)};Bt.createRoot=function(t,e){if(!Zh(t))throw Error(_(299));var n=!1,r="",i=tC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Jh(t,1,!1,null,null,n,!1,r,i),t[Hn]=e.current,Hs(t.nodeType===8?t.parentNode:t),new Xh(e)};Bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(_(188)):(t=Object.keys(t).join(","),Error(_(268,t)));return t=Cw(e),t=t===null?null:t.stateNode,t};Bt.flushSync=function(t){return di(t)};Bt.hydrate=function(t,e,n){if(!Zu(e))throw Error(_(200));return ec(null,t,e,!0,n)};Bt.hydrateRoot=function(t,e,n){if(!Zh(t))throw Error(_(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=tC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=eC(e,null,t,1,n??null,i,!1,o,s),t[Hn]=e.current,Hs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xu(e)};Bt.render=function(t,e,n){if(!Zu(e))throw Error(_(200));return ec(null,t,e,!1,n)};Bt.unmountComponentAtNode=function(t){if(!Zu(t))throw Error(_(40));return t._reactRootContainer?(di(function(){ec(null,null,t,!1,function(){t._reactRootContainer=null,t[Hn]=null})}),!0):!1};Bt.unstable_batchedUpdates=Gh;Bt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zu(n))throw Error(_(200));if(t==null||t._reactInternals===void 0)throw Error(_(38));return ec(t,e,n,!1,r)};Bt.version="18.2.0-next-9e3b772b8-20220608";function nC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nC)}catch(t){console.error(t)}}nC(),ew.exports=Bt;var rC=ew.exports,q6,Uv=rC;q6=Uv.createRoot,Uv.hydrateRoot;var iC={exports:{}},oC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo=H;function Y6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var J6=typeof Object.is=="function"?Object.is:Y6,Q6=wo.useState,X6=wo.useEffect,Z6=wo.useLayoutEffect,ej=wo.useDebugValue;function tj(t,e){var n=e(),r=Q6({inst:{value:n,getSnapshot:e}}),i=r[0].inst,o=r[1];return Z6(function(){i.value=n,i.getSnapshot=e,Af(i)&&o({inst:i})},[t,n,e]),X6(function(){return Af(i)&&o({inst:i}),t(function(){Af(i)&&o({inst:i})})},[t]),ej(n),n}function Af(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!J6(t,n)}catch{return!0}}function nj(t,e){return e()}var rj=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?nj:tj;oC.useSyncExternalStore=wo.useSyncExternalStore!==void 0?wo.useSyncExternalStore:rj;iC.exports=oC;var sC=iC.exports,lC={exports:{}},aC={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc=H,ij=sC;function oj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sj=typeof Object.is=="function"?Object.is:oj,lj=ij.useSyncExternalStore,aj=tc.useRef,uj=tc.useEffect,cj=tc.useMemo,fj=tc.useDebugValue;aC.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=aj(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=cj(function(){function a(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var h=s.value;if(i(h,p))return f=h}return f=p}if(h=f,sj(c,p))return h;var v=r(p);return i!==void 0&&i(h,v)?h:(c=p,f=v)}var u=!1,c,f,d=n===void 0?null:n;return[function(){return a(e())},d===null?void 0:function(){return a(d())}]},[e,n,r,i]);var l=lj(t,o[0],o[1]);return uj(function(){s.hasValue=!0,s.value=l},[l]),fj(l),l};lC.exports=aC;var dj=lC.exports;function pj(t){t()}let uC=pj;const hj=t=>uC=t,mj=()=>uC,Vv=Symbol.for("react-redux-context"),Wv=typeof globalThis<"u"?globalThis:{};function gj(){var t;if(!H.createContext)return{};const e=(t=Wv[Vv])!=null?t:Wv[Vv]=new Map;let n=e.get(H.createContext);return n||(n=H.createContext(null),e.set(H.createContext,n)),n}const el=gj();function cC(t=el){return function(){return H.useContext(t)}}const yj=cC(),fC=()=>{throw new Error("uSES not initialized!")};let dC=fC;const vj=t=>{dC=t},Sj=(t,e)=>t===e;function wj(t=el){const e=t===el?yj:cC(t);return function(r,i={}){const{equalityFn:o=Sj,stabilityCheck:s=void 0,noopCheck:l=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:u,getServerState:c,stabilityCheck:f,noopCheck:d}=e();H.useRef(!0);const p=H.useCallback({[r.name](v){return r(v)}}[r.name],[r,f,s]),h=dC(u.addNestedSub,a.getState,c||a.getState,p,o);return H.useDebugValue(h),h}}const sY=wj();function ro(){return ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ro.apply(this,arguments)}function pC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var hC={exports:{}},de={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ve=typeof Symbol=="function"&&Symbol.for,em=Ve?Symbol.for("react.element"):60103,tm=Ve?Symbol.for("react.portal"):60106,nc=Ve?Symbol.for("react.fragment"):60107,rc=Ve?Symbol.for("react.strict_mode"):60108,ic=Ve?Symbol.for("react.profiler"):60114,oc=Ve?Symbol.for("react.provider"):60109,sc=Ve?Symbol.for("react.context"):60110,nm=Ve?Symbol.for("react.async_mode"):60111,lc=Ve?Symbol.for("react.concurrent_mode"):60111,ac=Ve?Symbol.for("react.forward_ref"):60112,uc=Ve?Symbol.for("react.suspense"):60113,Ej=Ve?Symbol.for("react.suspense_list"):60120,cc=Ve?Symbol.for("react.memo"):60115,fc=Ve?Symbol.for("react.lazy"):60116,Cj=Ve?Symbol.for("react.block"):60121,bj=Ve?Symbol.for("react.fundamental"):60117,xj=Ve?Symbol.for("react.responder"):60118,Oj=Ve?Symbol.for("react.scope"):60119;function jt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case em:switch(t=t.type,t){case nm:case lc:case nc:case ic:case rc:case uc:return t;default:switch(t=t&&t.$$typeof,t){case sc:case ac:case fc:case cc:case oc:return t;default:return e}}case tm:return e}}}function mC(t){return jt(t)===lc}de.AsyncMode=nm;de.ConcurrentMode=lc;de.ContextConsumer=sc;de.ContextProvider=oc;de.Element=em;de.ForwardRef=ac;de.Fragment=nc;de.Lazy=fc;de.Memo=cc;de.Portal=tm;de.Profiler=ic;de.StrictMode=rc;de.Suspense=uc;de.isAsyncMode=function(t){return mC(t)||jt(t)===nm};de.isConcurrentMode=mC;de.isContextConsumer=function(t){return jt(t)===sc};de.isContextProvider=function(t){return jt(t)===oc};de.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===em};de.isForwardRef=function(t){return jt(t)===ac};de.isFragment=function(t){return jt(t)===nc};de.isLazy=function(t){return jt(t)===fc};de.isMemo=function(t){return jt(t)===cc};de.isPortal=function(t){return jt(t)===tm};de.isProfiler=function(t){return jt(t)===ic};de.isStrictMode=function(t){return jt(t)===rc};de.isSuspense=function(t){return jt(t)===uc};de.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===nc||t===lc||t===ic||t===rc||t===uc||t===Ej||typeof t=="object"&&t!==null&&(t.$$typeof===fc||t.$$typeof===cc||t.$$typeof===oc||t.$$typeof===sc||t.$$typeof===ac||t.$$typeof===bj||t.$$typeof===xj||t.$$typeof===Oj||t.$$typeof===Cj)};de.typeOf=jt;hC.exports=de;var Tj=hC.exports,rm=Tj,kj={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Aj={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},_j={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},gC={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},im={};im[rm.ForwardRef]=_j;im[rm.Memo]=gC;function Hv(t){return rm.isMemo(t)?gC:im[t.$$typeof]||kj}var Nj=Object.defineProperty,Mj=Object.getOwnPropertyNames,Gv=Object.getOwnPropertySymbols,Ij=Object.getOwnPropertyDescriptor,Pj=Object.getPrototypeOf,Kv=Object.prototype;function yC(t,e,n){if(typeof e!="string"){if(Kv){var r=Pj(e);r&&r!==Kv&&yC(t,r,n)}var i=Mj(e);Gv&&(i=i.concat(Gv(e)));for(var o=Hv(t),s=Hv(e),l=0;l<i.length;++l){var a=i[l];if(!Aj[a]&&!(n&&n[a])&&!(s&&s[a])&&!(o&&o[a])){var u=Ij(e,a);try{Nj(t,a,u)}catch{}}}}return t}var $j=yC;const qv=xe($j);var vC={exports:{}},pe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om=Symbol.for("react.element"),sm=Symbol.for("react.portal"),dc=Symbol.for("react.fragment"),pc=Symbol.for("react.strict_mode"),hc=Symbol.for("react.profiler"),mc=Symbol.for("react.provider"),gc=Symbol.for("react.context"),Dj=Symbol.for("react.server_context"),yc=Symbol.for("react.forward_ref"),vc=Symbol.for("react.suspense"),Sc=Symbol.for("react.suspense_list"),wc=Symbol.for("react.memo"),Ec=Symbol.for("react.lazy"),Rj=Symbol.for("react.offscreen"),SC;SC=Symbol.for("react.module.reference");function Qt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case om:switch(t=t.type,t){case dc:case hc:case pc:case vc:case Sc:return t;default:switch(t=t&&t.$$typeof,t){case Dj:case gc:case yc:case Ec:case wc:case mc:return t;default:return e}}case sm:return e}}}pe.ContextConsumer=gc;pe.ContextProvider=mc;pe.Element=om;pe.ForwardRef=yc;pe.Fragment=dc;pe.Lazy=Ec;pe.Memo=wc;pe.Portal=sm;pe.Profiler=hc;pe.StrictMode=pc;pe.Suspense=vc;pe.SuspenseList=Sc;pe.isAsyncMode=function(){return!1};pe.isConcurrentMode=function(){return!1};pe.isContextConsumer=function(t){return Qt(t)===gc};pe.isContextProvider=function(t){return Qt(t)===mc};pe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===om};pe.isForwardRef=function(t){return Qt(t)===yc};pe.isFragment=function(t){return Qt(t)===dc};pe.isLazy=function(t){return Qt(t)===Ec};pe.isMemo=function(t){return Qt(t)===wc};pe.isPortal=function(t){return Qt(t)===sm};pe.isProfiler=function(t){return Qt(t)===hc};pe.isStrictMode=function(t){return Qt(t)===pc};pe.isSuspense=function(t){return Qt(t)===vc};pe.isSuspenseList=function(t){return Qt(t)===Sc};pe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===dc||t===hc||t===pc||t===vc||t===Sc||t===Rj||typeof t=="object"&&t!==null&&(t.$$typeof===Ec||t.$$typeof===wc||t.$$typeof===mc||t.$$typeof===gc||t.$$typeof===yc||t.$$typeof===SC||t.getModuleId!==void 0)};pe.typeOf=Qt;vC.exports=pe;var Lj=vC.exports;const Fj=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Bj(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let l=!1,a,u,c,f,d;function p(y,g){return a=y,u=g,c=t(a,u),f=e(r,u),d=n(c,f,u),l=!0,d}function h(){return c=t(a,u),e.dependsOnOwnProps&&(f=e(r,u)),d=n(c,f,u),d}function v(){return t.dependsOnOwnProps&&(c=t(a,u)),e.dependsOnOwnProps&&(f=e(r,u)),d=n(c,f,u),d}function S(){const y=t(a,u),g=!s(y,c);return c=y,g&&(d=n(c,f,u)),d}function m(y,g){const w=!o(g,u),x=!i(y,a,g,u);return a=y,u=g,w&&x?h():w?v():x?S():d}return function(g,w){return l?m(g,w):p(g,w)}}function zj(t,e){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i}=e,o=pC(e,Fj);const s=n(t,o),l=r(t,o),a=i(t,o);return Bj(s,l,a,t,o)}function jj(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...o)=>e(i(...o)))}return n}function sp(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function Yv(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function wC(t,e){return function(r,{displayName:i}){const o=function(l,a){return o.dependsOnOwnProps?o.mapToProps(l,a):o.mapToProps(l,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(l,a){o.mapToProps=t,o.dependsOnOwnProps=Yv(t);let u=o(l,a);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=Yv(u),u=o(l,a)),u},o}}function lm(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function Uj(t){return t&&typeof t=="object"?sp(e=>jj(t,e)):t?typeof t=="function"?wC(t):lm(t,"mapDispatchToProps"):sp(e=>({dispatch:e}))}function Vj(t){return t?typeof t=="function"?wC(t):lm(t,"mapStateToProps"):sp(()=>({}))}function Wj(t,e,n){return ro({},n,t,e)}function Hj(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(a,u,c){const f=t(a,u,c);return o?i(f,s)||(s=f):(o=!0,s=f),s}}}function Gj(t){return t?typeof t=="function"?Hj(t):lm(t,"mergeProps"):()=>Wj}function Kj(){const t=mj();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:e=o,function(){!i||e===null||(i=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}const Jv={notify(){},get:()=>[]};function EC(t,e){let n,r=Jv,i=0,o=!1;function s(v){c();const S=r.subscribe(v);let m=!1;return()=>{m||(m=!0,S(),f())}}function l(){r.notify()}function a(){h.onStateChange&&h.onStateChange()}function u(){return o}function c(){i++,n||(n=e?e.addNestedSub(a):t.subscribe(a),r=Kj())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Jv)}function d(){o||(o=!0,c())}function p(){o&&(o=!1,f())}const h={addNestedSub:s,notifyNestedSubs:l,handleChangeWrapper:a,isSubscribed:u,trySubscribe:d,tryUnsubscribe:p,getListeners:()=>r};return h}const qj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lu=qj?H.useLayoutEffect:H.useEffect;function Qv(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function _f(t,e){if(Qv(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!Qv(t[n[i]],e[n[i]]))return!1;return!0}const Yj=["reactReduxForwardedRef"];let CC=fC;const Jj=t=>{CC=t},Qj=[null,null];function Xj(t,e,n){lu(()=>t(...e),n)}function Zj(t,e,n,r,i,o){t.current=r,n.current=!1,i.current&&(i.current=null,o())}function eU(t,e,n,r,i,o,s,l,a,u,c){if(!t)return()=>{};let f=!1,d=null;const p=()=>{if(f||!l.current)return;const v=e.getState();let S,m;try{S=r(v,i.current)}catch(y){m=y,d=y}m||(d=null),S===o.current?s.current||u():(o.current=S,a.current=S,s.current=!0,c())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}function tU(t,e){return t===e}function lY(t,e,n,{pure:r,areStatesEqual:i=tU,areOwnPropsEqual:o=_f,areStatePropsEqual:s=_f,areMergedPropsEqual:l=_f,forwardRef:a=!1,context:u=el}={}){const c=u,f=Vj(t),d=Uj(e),p=Gj(n),h=!!t;return S=>{const m=S.displayName||S.name||"Component",y=`Connect(${m})`,g={shouldHandleStateChanges:h,displayName:y,wrappedComponentName:m,WrappedComponent:S,initMapStateToProps:f,initMapDispatchToProps:d,initMergeProps:p,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:l};function w(O){const[k,I,M]=H.useMemo(()=>{const{reactReduxForwardedRef:wt}=O,_n=pC(O,Yj);return[O.context,wt,_n]},[O]),J=H.useMemo(()=>k&&k.Consumer&&Lj.isContextConsumer(H.createElement(k.Consumer,null))?k:c,[k,c]),T=H.useContext(J),B=!!O.store&&!!O.store.getState&&!!O.store.dispatch,G=!!T&&!!T.store,q=B?O.store:T.store,he=G?T.getServerState:q.getState,De=H.useMemo(()=>zj(q.dispatch,g),[q]),[D,F]=H.useMemo(()=>{if(!h)return Qj;const wt=EC(q,B?void 0:T.subscription),_n=wt.notifyNestedSubs.bind(wt);return[wt,_n]},[q,B,T]),W=H.useMemo(()=>B?T:ro({},T,{subscription:D}),[B,T,D]),K=H.useRef(),ue=H.useRef(M),P=H.useRef(),Q=H.useRef(!1);H.useRef(!1);const X=H.useRef(!1),_e=H.useRef();lu(()=>(X.current=!0,()=>{X.current=!1}),[]);const ge=H.useMemo(()=>()=>P.current&&M===ue.current?P.current:De(q.getState(),M),[q,M]),An=H.useMemo(()=>_n=>D?eU(h,q,D,De,ue,K,Q,X,P,F,_n):()=>{},[D]);Xj(Zj,[ue,K,Q,M,P,F]);let pn;try{pn=CC(An,ge,he?()=>De(he(),M):ge)}catch(wt){throw _e.current&&(wt.message+=`
The error may be correlated with this previous error:
${_e.current.stack}

`),wt}lu(()=>{_e.current=void 0,P.current=void 0,K.current=pn});const _t=H.useMemo(()=>H.createElement(S,ro({},pn,{ref:I})),[I,S,pn]);return H.useMemo(()=>h?H.createElement(J.Provider,{value:W},_t):_t,[J,_t,W])}const C=H.memo(w);if(C.WrappedComponent=S,C.displayName=w.displayName=y,a){const k=H.forwardRef(function(M,J){return H.createElement(C,ro({},M,{reactReduxForwardedRef:J}))});return k.displayName=y,k.WrappedComponent=S,qv(k,S)}return qv(C,S)}}function aY({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",noopCheck:o="once"}){const s=H.useMemo(()=>{const u=EC(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,noopCheck:o}},[t,r,i,o]),l=H.useMemo(()=>t.getState(),[t]);lu(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),l!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,l]);const a=e||el;return H.createElement(a.Provider,{value:s},n)}vj(dj.useSyncExternalStoreWithSelector);Jj(sC.useSyncExternalStore);hj(rC.unstable_batchedUpdates);var bC={exports:{}},nU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rU=nU,iU=rU;function xC(){}function OC(){}OC.resetWarningCache=xC;var oU=function(){function t(r,i,o,s,l,a){if(a!==iU){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:OC,resetWarningCache:xC};return n.PropTypes=n,n};bC.exports=oU();var sU=bC.exports;const uY=xe(sU);function TC(t){return Fu.sanitize(t,{ALLOWED_TAGS:["#text"],KEEP_CONTENT:!0})}function bl(t,e){return t.reduce((n,r)=>n?r(n):null,e)}var lU=gi,aU=yt,uU=kn,cU="[object String]";function fU(t){return typeof t=="string"||!aU(t)&&uU(t)&&lU(t)==cU}var dU=fU;const Eo=xe(dU),kC=t=>{if(!Array.isArray(t))throw new TypeError("customFilters should be given as an array");if(t.some(e=>typeof e!="function"))throw new TypeError("The given filter is not a function");return!0};var pU=uS;function hU(t,e,n,r){return pU(t,function(i,o,s){e(r,n(i),o,s)}),r}var mU=hU,gU=mU;function yU(t,e){return function(n,r){return gU(n,t,e(r),{})}}var vU=yU,SU=E0,wU=vU,EU=fl,CU=Object.prototype,bU=CU.toString,xU=wU(function(t,e,n){e!=null&&typeof e.toString!="function"&&(e=bU.call(e)),t[e]=n},SU(EU)),OU=xU;const AC=xe(OU);function TU(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var _C=TU;const io=xe(_C);function kU(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var AU=kU,_U=ml,NU=AU;function MU(t,e){return e.length<2?t:_U(t,NU(e,0,-1))}var IU=MU,PU=Do,$U=_C,DU=IU,RU=Ro;function LU(t,e){return e=PU(e,t),t=DU(t,e),t==null||delete t[RU($U(e))]}var FU=LU,BU=L0;function zU(t){return BU(t)?void 0:t}var jU=zU,UU=Si,VU=Qp,WU=FU,HU=Do,GU=$o,KU=jU,qU=Z0,YU=dS,JU=1,QU=2,XU=4,ZU=qU(function(t,e){var n={};if(t==null)return n;var r=!1;e=UU(e,function(o){return o=HU(o,t),r||(r=o.length>1),o}),GU(t,YU(t),n),r&&(n=VU(n,JU|QU|XU,KU));for(var i=e.length;i--;)WU(n,e[i]);return n}),e5=ZU;const lp=xe(e5),A={AFlat:"Ab",A:"A",ASharp:"A#",BFlat:"Bb",B:"B",C:"C",CSharp:"C#",DFlat:"Db",D:"D",DSharp:"D#",EFlat:"Eb",E:"E",F:"F",FSharp:"F#",GFlat:"Gb",G:"G",GSharp:"G#"},ap={Ab:A.AFlat,A:A.A,"A#":A.ASharp,Bb:A.BFlat,B:A.B,"B#":A.C,Cb:A.B,C:A.C,"C#":A.CSharp,Db:A.DFlat,D:A.D,"D#":A.DSharp,Eb:A.EFlat,E:A.E,"E#":A.F,Fb:A.E,F:A.F,"F#":A.FSharp,Gb:A.GFlat,G:A.G,"G#":A.GSharp},Xv={Lab:A.AFlat,La:A.A,"La#":A.ASharp,Sib:A.BFlat,Si:A.B,"Si#":A.C,Dob:A.B,Do:A.C,"Do#":A.CSharp,Reb:A.DFlat,Rb:A.DFlat,Re:A.D,R:A.D,"Re#":A.DSharp,"R#":A.DSharp,Mib:A.EFlat,Mi:A.E,"Mi#":A.F,Fab:A.E,Fa:A.F,"Fa#":A.FSharp,Solb:A.GFlat,Sol:A.G,"Sol#":A.GSharp},Zv={...lp(ap,["Bb","B","B#"]),As:A.AFlat,Ais:A.ASharp,Hb:A.BFlat,Hes:A.BFlat,H:A.B,His:A.C,"H#":A.C,Ces:A.B,Cis:A.CSharp,Des:A.DFlat,Dis:A.DSharp,Es:A.EFlat,Eis:A.F,Fes:A.E,Fis:A.FSharp,Ges:A.GFlat,Gis:A.GSharp};function am(t){let e;return Object.keys(t).reduce((n,r)=>(r.match(/.[b|#]$/)&&(e=r.replace("#","").replace("b",""),n[e]=t[r]),n),{})}const NC={...ap,...am(ap)},MC={...Xv,...am(Xv)},IC={...Zv,...am(Zv)},up={...NC,...MC,...IC};Object.keys(up).sort((t,e)=>e.length-t.length);const t5=Object.keys(NC).sort((t,e)=>e.length-t.length),n5=Object.keys(MC).sort((t,e)=>e.length-t.length),r5=Object.keys(IC).sort((t,e)=>e.length-t.length),i5=[{name:"english",notes:t5},{name:"german",notes:r5},{name:"latin",notes:n5}],tl=[A.A,A.ASharp,A.B,A.C,A.CSharp,A.D,A.DSharp,A.E,A.F,A.FSharp,A.G,A.GSharp],o5=[A.A,A.BFlat,A.B,A.C,A.DFlat,A.D,A.EFlat,A.E,A.F,A.GFlat,A.G,A.AFlat],PC={[A.CSharp]:A.DFlat,[A.DSharp]:A.EFlat,[A.FSharp]:A.GFlat,[A.GSharp]:A.AFlat,[A.ASharp]:A.BFlat},nl=AC(PC),s5=[...Object.values(A),...Object.values(A).map(t=>t+"m")];class l5 extends Error{constructor(){super("The given symbol is not a valid string"),this.name="InvalidInput"}}class a5 extends Error{constructor(){super("An unexpected error happened. Maybe a custom filter returned null instead of throwing an exception?"),this.name="UnexpectedError"}}class um extends Error{constructor(e,n,r){super(e),this.name=r,this.chord=n}}class $C extends um{constructor(e){const n=`"${e.input.symbol}" does not seems to be a chord`;super(n,e,"NoSymbolFound")}}class u5 extends um{constructor(e,n){const r=`The chord descriptor "${e.input.descriptor}" contains unknown or duplicated modifiers: "${n}"`;super(r,e,"InvalidModifier")}}class c5 extends um{constructor(e,n){const r=`"${e.input.symbol}" describes a chord with an invalid intervals combo: `+n.join(" and ");super(r,e,"InvalidIntervals")}}function xl(t,e){const n=Lp(e)?e:[e];return Rs(t,n)}function ae(t,e){return fm(t,e,"oneOf")}function cm(t,e){return fm(t,e,"all")}function Cr(t,e){return fm(t,e,"none")}function fm(t,e,n){return(Lp(e)?e:[e])[n==="oneOf"?"some":"every"](o=>n==="none"?!t.includes(o):t.includes(o))}const f5=[["2","3"],["2","9"],["3","b3"],["4","11"],["5","b5"],["5","#5"],["b6","#5"],["b6","6"],["b6","13"],["6","13"],["b7","bb7"],["7","b7"],["9","b9"],["9","#9"],["11","#11"],["13","b13"]];function d5(t){const e=t.normalized.intervals,n=f5.find(r=>cm(e,r));if(n)throw new c5(t,n);return t}function DC(t){const{rootNote:e,bassNote:n,descriptor:r,chordChanges:i}=t.formatted;let o=e;return r&&(o+=r),i&&i.length&&(o+="("+i.join(",")+")"),n&&(o+="/"+n),t.formatted.symbol=o,t}const R={ma:"major",ma6:"major6",ma7:"major7",dom7:"dominant7",mi:"minor",mi6:"minor6",mi7:"minor7",miMa7:"minorMajor7",aug:"augmented",dim:"diminished",dim7:"diminished7",power:"power",bass:"bass"},RC=[R.mi,R.mi6,R.mi7,R.miMa7,R.dim,R.dim7],p5={[R.ma]:()=>"",[R.ma6]:t=>t.normalized.intervals.includes("9")?"69":"6",[R.ma7]:t=>"ma"+na(t),[R.dom7]:t=>t.normalized.intents.alt?"7alt":na(t),[R.mi]:()=>"mi",[R.mi6]:t=>t.normalized.intervals.includes("9")?"mi69":"mi6",[R.mi7]:t=>"mi"+na(t),[R.miMa7]:t=>"miMa"+na(t),[R.aug]:()=>"+",[R.dim]:()=>"dim",[R.dim7]:()=>"dim7",[R.power]:()=>"5",[R.bass]:()=>" bass"},au={add:"add",add7:"Ma7",omit:"omit",sus:"sus"};function LC(t){return t.formatted={rootNote:t.normalized.rootNote,bassNote:t.normalized.bassNote,descriptor:h5(t),chordChanges:m5(t)},t}function h5(t){let e=p5[t.normalized.quality](t);return t.normalized.isSuspended&&(e+=au.sus),e}function na(t){const e=t.normalized.extensions;let n=e[e.length-1];return n==="11"&&t.normalized.intents.major&&(n=Cr(t.normalized.alterations,["b9","#9"])?"9":"7"),n||"7"}function m5(t){const e=v5(t.normalized.omits);if(g5(t))return e;const n=y5(t.normalized.quality,t.normalized.adds);return[...t.normalized.alterations,...n,...e]}function g5(t){return t.normalized.intents.alt&&t.normalized.quality===R.dom7}function y5(t,e){return e.filter(n=>!([R.ma6,R.mi6].includes(t)&&n==="9")).map((n,r)=>{let i="";return r===0&&(i+=au.add,["b","#"].includes(n[0])&&(i+=" ")),i+=n==="7"?au.add7:n,i})}function v5(t){return t.map((e,n)=>{let r="";return n===0&&(r+=au.omit),r+=e==="b3"?"3":e,r})}const Ni={flat:"",sharp:""},S5={major:{0:"I",2:"II",3:`${Ni.flat}III`,4:"III",5:"IV",7:"V",8:`${Ni.flat}VI`,9:"VI",10:`${Ni.flat}VII`,11:"VII"},minor:{0:"I",2:"II",3:"III",4:`${Ni.sharp}III`,5:"IV",7:"V",8:"VI",9:`${Ni.sharp}VI`,10:"VII",11:`${Ni.sharp}VII`}},te={sup2:"",sup4:"",sup5:"",sup6:"",sup7:"",sub3:"",sub4:"",sub5:"",flat:"",sharp:""},ra={major:["I","ii","iii","IV","V","vi","vii"],dom7:["I",`ii${te.sup7}`,`iii${te.sup7}`,"IV",`V${te.sup7}`,`vi${te.sup7}`,"vii"],minor:["i","ii","III","iv","v","VI","VII"],minor7:[`i${te.sup7}`,"ii","III",`iv${te.sup7}`,`v${te.sup7}`,"VI","VII"]},ia={borrowedFromMinor:["i","ii",`${te.flat}III`,"iv","v",`${te.flat}VI`,`${te.flat}VII`],borrowedFromMinor7:[`i${te.sup7}`,"ii",`${te.flat}III`,`iv${te.sup7}`,`v${te.sup7}`,`${te.flat}VI`,`${te.flat}VII`],borrowedFromMajor:["I","ii",`${te.sharp}iii`,"IV","V",`${te.sharp}vi`,`${te.sharp}vii`],borrowedFromDom7:["I",`ii${te.sup7}`,`${te.sharp}iii${te.sup7}`,"IV",`V${te.sup7}`,`${te.sharp}vi${te.sup7}`,`${te.sharp}vii`]};function w5(t="",e){let n,r,i;t||(t=e.normalized.rootNote);const o=t.indexOf("m")>-1?"minor":"major",s=RC.includes(e.normalized.quality)?"minor":"major";n=E5(t,o,e,s);const l=T5(e),a=b5[e.normalized.quality](e,l);return r=`${n}${a}`,x5(o,r)?i="diatonic":O5(o,r)?i="borrowed":(i="unknown",n="?",r=`${n}${a}`),r+=l,e.numeral={symbol:r,degree:n,descriptor:a,inversion:l,type:i,thirdQuality:s},e}function E5(t,e,n,r){const i=t.replace("m",""),o=C5(i,n.normalized.rootNote),s=S5[e][o]||"?";return r==="minor"?s.toLowerCase():s}function C5(t,e){const n=tl.indexOf(nl[t]||t);return(tl.indexOf(nl[e]||e)-n+12)%12}const b5={[R.ma]:()=>"",[R.ma6]:()=>"",[R.ma7]:()=>"",[R.dom7]:(t,e)=>e===""?`${te.sup7}`:"",[R.mi]:()=>"",[R.mi6]:()=>"",[R.mi7]:(t,e)=>t.normalized.intervals.includes("b5")?"":e===""?`${te.sup7}`:"",[R.miMa7]:()=>"m",[R.aug]:()=>"+",[R.dim]:()=>"",[R.dim7]:(t,e)=>e===""?`${te.sup7}`:"",[R.power]:()=>"",[R.bass]:()=>""};function x5(t,e){return t==="major"?ra.major.includes(e)||ra.dom7.includes(e):ra.minor.includes(e)||ra.minor7.includes(e)}function O5(t,e){return t==="major"?ia.borrowedFromMinor.includes(e)||ia.borrowedFromMinor7.includes(e):ia.borrowedFromMajor.includes(e)||ia.borrowedFromDom7.includes(e)}function T5(t){let e="";return t.normalized.bassNote&&(k5(t)?e=e1(t)?`${te.sup6}${te.sub5}`:`${te.sup6}`:A5(t)?e=e1(t)?`${te.sup4}${te.sub3}`:`${te.sup6}${te.sub4}`:_5(t)&&(e="")),e}function e1(t){return[R.ma7,R.mi7,R.miMa7,R.dom7,R.dim7].includes(t.normalized.quality)}function k5(t){return br(t,"b3")||br(t,"3")}function A5(t){return br(t,"b5")||br(t,"5")||br(t,"#5")}function _5(t){return br(t,"bb7")||br(t,"b7")||br(t,"7")}function br(t,e){const n=t.normalized.intervals.indexOf(e);if(n===-1)return!1;const r=nl[t.normalized.bassNote]||t.normalized.bassNote,i=nl[t.normalized.notes[n]]||t.normalized.notes[n];return r===i}function N5(t){const e=[M5,I5,P5,$5];return t.input.descriptor&&(t.input.parsableDescriptor=bl(e,t.input.descriptor)),t}function M5(t){return t.replace(/[A-LN-Za-z]+/g,e=>e.toLowerCase()).replace("oMit","omit").replace("diM","dim").replace("augMented","augmented")}function I5(t){return t.replace(/ /g,"")}function P5(t){return t.replace(/(7?dim)(alt|add)/g,"$1 $2").replace(/([m|M])(alt|add)/g,"$1 $2").replace(/i(no[35])/g,"i $1").replace(/([b#]9)6/g,"$1 6").replace(/(9\/?6)/g," $1").replaceAll("+5","#5").replaceAll("-5","b5")}function $5(t){let e,n,r;return t.replace(/\((.*?)\)/g,(i,o)=>(e=[],n="",o.split(",").forEach(s=>{r=!0,s.startsWith("add")?n="add":s.startsWith("omit")?n="omit":s.startsWith("no")?n="no":r=!1,r?e.push(s):e.push(n+s)})," "+e.join(" ")+" "))}function D5(t={},e){return{input:{symbol:e},normalized:{},formatted:{},parserConfiguration:ie(t)}}const R5={C:"flat",D:"sharp",E:"sharp",F:"flat",G:"sharp",A:"sharp",B:"sharp",Cm:"flat",Dm:"flat",Em:"sharp",Fm:"flat",Gm:"flat",Am:"flat",Bm:"sharp"};function L5(t){return t.indexOf("#")>-1?"sharp":t.indexOf("b")>-1?"flat":R5[t]}function dm(t){const e=t.normalized.rootNote,n=t.normalized.semitones,r=t.normalized.quality;let i=e;RC.includes(r)&&(i+="m");const o=L5(i)==="sharp"?tl:o5,s=o.indexOf(e),l=[...o.slice(s),...o.slice(0,s),...o.slice(s),...o.slice(0,s)];return t.normalized.notes=n.map(a=>l[a]),t}function F5(t){return t.normalized.rootNote=up[t.input.rootNote],t.input.bassNote&&(t.normalized.bassNote=up[t.input.bassNote]),t}var B5=Qp,z5=4;function j5(t){return B5(t,z5)}var U5=j5;const pm=xe(U5);var V5=Lu,W5=vi,H5=Lo;function G5(t){return function(e,n,r){var i=Object(e);if(!W5(e)){var o=V5(n);e=H5(e),n=function(l){return o(i[l],l,i)}}var s=t(e,n,r);return s>-1?i[o?e[s]:s]:void 0}}var K5=G5;function q5(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var FC=q5,Y5=/\s/;function J5(t){for(var e=t.length;e--&&Y5.test(t.charAt(e)););return e}var Q5=J5,X5=Q5,Z5=/^\s+/;function e8(t){return t&&t.slice(0,X5(t)+1).replace(Z5,"")}var t8=e8,n8=t8,t1=Jt,r8=hl,n1=NaN,i8=/^[-+]0x[0-9a-f]+$/i,o8=/^0b[01]+$/i,s8=/^0o[0-7]+$/i,l8=parseInt;function a8(t){if(typeof t=="number")return t;if(r8(t))return n1;if(t1(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=t1(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=n8(t);var n=o8.test(t);return n||s8.test(t)?l8(t.slice(2),n?2:8):i8.test(t)?n1:+t}var u8=a8,c8=u8,r1=1/0,f8=17976931348623157e292;function d8(t){if(!t)return t===0?t:0;if(t=c8(t),t===r1||t===-r1){var e=t<0?-1:1;return e*f8}return t===t?t:0}var p8=d8,h8=p8;function m8(t){var e=h8(t),n=e%1;return e===e?n?e-n:e:0}var g8=m8,y8=FC,v8=Lu,S8=g8,w8=Math.max;function E8(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:S8(n);return i<0&&(i=w8(r+i,0)),y8(t,v8(e),i)}var BC=E8;const zC=xe(BC);var C8=K5,b8=BC,x8=C8(b8),O8=x8;const T8=xe(O8);function k8(t){return t!==t}var A8=k8;function _8(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var N8=_8,M8=FC,I8=A8,P8=N8;function $8(t,e,n){return e===e?P8(t,e,n):M8(t,I8,n)}var D8=$8,R8=D8;function L8(t,e){var n=t==null?0:t.length;return!!n&&R8(t,e,0)>-1}var hm=L8;function F8(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var mm=F8;function B8(){}var z8=B8,Nf=iS,j8=z8,U8=qp,V8=1/0,W8=Nf&&1/U8(new Nf([,-0]))[1]==V8?function(t){return new Nf(t)}:j8,H8=W8,G8=$u,K8=hm,q8=mm,Y8=Du,J8=H8,Q8=qp,X8=200;function Z8(t,e,n){var r=-1,i=K8,o=t.length,s=!0,l=[],a=l;if(n)s=!1,i=q8;else if(o>=X8){var u=e?null:J8(t);if(u)return Q8(u);s=!1,i=Y8,a=new G8}else a=e?[]:l;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,s&&f===f){for(var d=a.length;d--;)if(a[d]===f)continue e;e&&a.push(f),l.push(c)}else i(a,f,n)||(a!==l&&a.push(f),l.push(c))}return l}var eV=Z8,tV=eV;function nV(t){return t&&t.length?tV(t):[]}var rV=nV;const jC=xe(rV);var iV=$u,oV=hm,sV=mm,lV=Si,aV=Po,uV=Du,cV=200;function fV(t,e,n,r){var i=-1,o=oV,s=!0,l=t.length,a=[],u=e.length;if(!l)return a;n&&(e=lV(e,aV(n))),r?(o=sV,s=!1):e.length>=cV&&(o=uV,s=!1,e=new iV(e));e:for(;++i<l;){var c=t[i],f=n==null?c:n(c);if(c=r||c!==0?c:0,s&&f===f){for(var d=u;d--;)if(e[d]===f)continue e;a.push(c)}else o(e,f,r)||a.push(c)}return a}var UC=fV,dV=UC,pV=Ao,hV=Mu,mV=pV(function(t,e){return hV(t)?dV(t,e):[]}),gV=mV;const VC=xe(gV);function WC(t){let e=pm(t.normalized.intervals),n={quality:"",isSuspended:!1,extensions:[],alterations:[],adds:[],omits:[]};if(yV(e))n.quality=R.power;else if(vV(e))n.quality=R.bass;else{const r=wV(e,t.normalized.intents.major),i=SV(e,t.normalized.intents.major),{qualityIntervals:o,quality:s}=EV(e,t,i,r),l=TV(e,s),a=["1",...o,...l],{adds:u,alterations:c}=IV(e,a,s);n={...n,quality:s,isSuspended:i,extensions:l,alterations:c,adds:u,omits:r}}return{...t,normalized:{...t.normalized,...n}}}function yV(t){return xl(t,["1","5"])}function vV(t){return xl(t,["1"])}function SV(t,e){return t.includes("4")||t.includes("11")&&e&&!t.includes("3")}function wV(t,e){const n=[];return(Cr(t,["b3","3","4","11"])||!e&&Cr(t,["b3","4"]))&&n.push(e?"3":"b3"),Cr(t,["b5","5","#5","b13"])&&n.push("5"),n}function EV(t,e,n,r){const i=CV(t,e,n,r),o=[{qualityIntervals:["b3"],quality:R.mi},{qualityIntervals:["b3","6"],quality:R.mi6},{qualityIntervals:["b3","7"],quality:R.miMa7},{qualityIntervals:["b3","b7"],quality:R.mi7},{qualityIntervals:["3"],quality:R.ma},{qualityIntervals:["3","6"],quality:R.ma6},{qualityIntervals:["3","7"],quality:R.ma7},{qualityIntervals:["3","b7"],quality:R.dom7},{qualityIntervals:["3","#5"],quality:R.aug},{qualityIntervals:["b3","b5"],quality:R.dim},{qualityIntervals:["b3","b5","bb7"],quality:R.dim7}].sort((s,l)=>l.qualityIntervals.length-s.qualityIntervals.length);return T8(o,s=>cm(i,s.qualityIntervals))}function CV(t,e,n,r){const i=[bV.bind(null,r),xV.bind(null,n,e.normalized.intents.major),OV.bind(null,e.normalized.intents.alt),jC];return bl(i,pm(t))}function bV(t,e){const n=pm(e);return t.includes("3")?n.push("3"):t.includes("b3")&&n.push("b3"),n}function xV(t,e,n){if(t){const r=VC(n,"4");return r.push(e?"3":"b3"),r}return n}function OV(t,e){if(t){const n=VC(e,"b5","#5");return n.push("5"),n}return e}function TV(t,e){const n=[];return kV(e)&&(AV(t,e)?n.push("9","11","13"):_V(t,e)?n.push("9","13"):NV(t)?n.push("9","11"):MV(t)&&n.push("9")),n}function kV(t){return[R.ma7,R.dom7,R.mi7,R.miMa7].includes(t)}function HC(t){return[R.mi7,R.miMa7].includes(t)}function AV(t,e){return HC(e)&&ae(t,"13")&&ae(t,["11","#11"])&&ae(t,["b9","9","#9"])}function _V(t,e){return!HC(e)&&ae(t,"13")&&ae(t,["b9","9","#9"])}function NV(t){return ae(t,"11")&&ae(t,["b9","9","#9"])}function MV(t){return t.includes("9")}function IV(t,e,n){const r=[],i=[];return t.filter(o=>o!=="5"&&o!=="4").forEach(o=>{e.includes(o)||(PV(n,o)?i.push(o):r.push(o))}),$V(t)&&r.push("3"),{adds:i1(r),alterations:i1(i)}}function PV(t,e){return{[R.ma]:["b5","#5","#11","b13"],[R.ma6]:["b5","#5","#11","b13"],[R.ma7]:["b5","#5","#11","b13"],[R.dom7]:["b5","#5","b9","#9","#11","b13"],[R.mi]:["b5","#5","#11","b13"],[R.mi6]:["b5","#5","#11","b13"],[R.mi7]:["b5","#5","#11","b13"],[R.miMa7]:["b5","#5","#11","b13"],[R.aug]:[],[R.dim]:[],[R.dim7]:[]}[t].includes(e)}function $V(t){return cm(t,["3","4"])}function i1(t){return t.sort((e,n)=>{const r=Number.parseInt(e.replace(/[b#]/,"")),i=Number.parseInt(n.replace(/[b#]/,""));return r-i})}function DV(t,e){const{symbol:n}=e.input,r=t.join("|"),i=new RegExp("^("+r+")(.*?)(/("+r+"))?$"),o=n.match(i);if(o&&o[1])return e.input.rootNote=o[1],o[2]&&(e.input.descriptor=o[2]),o[4]&&(e.input.bassNote=o[4]),e;throw new $C(e)}const b={ma:"ma",mi:"mi",dim:"dim",halfDim:"halfDim",aug:"aug",seventh:"seventh",sus:"sus",sus2:"sus2",ninth:"ninth",eleventh:"eleventh",thirteenth:"thirteenth",fifthFlat:"b5",fifthSharp:"#5",ninthFlat:"b9",ninthSharp:"#9",eleventhSharp:"#11",thirteenthFlat:"b13",add3:"add3",add4:"add4",addb6:"addb6",add6:"add6",add69:"add69",add7:"add7",add9:"add9",add11:"add11",add13:"add13",bass:"bass",omit3:"omit3",omit5:"omit5",power:"power",alt:"alt"},gm={"^":[b.ma,b.add7],:[b.ma,b.add7],M:b.ma,Ma:b.ma,Maj:b.ma,Major:b.ma,ma:b.ma,maj:b.ma,major:b.ma},RV=KC(gm,b.add7,t=>t+"7"),LV=KC(gm,b.add7,t=>"add"+t+"7"),GC={...gm,...RV,"-":b.mi,m:b.mi,Mi:b.mi,Min:b.mi,Minor:b.mi,mi:b.mi,min:b.mi,minor:b.mi,"":b.dim,o:b.dim,0:b.dim,dim:b.dim,"dim.":b.dim,diminished:b.dim,:b.halfDim,:b.halfDim,h:b.halfDim,"+":b.aug,aug:b.aug,augmented:b.aug,7:b.seventh,4:b.sus,sus:b.sus,sus4:b.sus,suspended:b.sus,suspended4:b.sus,sus2:b.sus2,suspended2:b.sus2,9:b.ninth,11:b.eleventh,13:b.thirteenth,b3:b.mi,b5:b.fifthFlat,"5":b.fifthFlat,"#5":b.fifthSharp,"5":b.fifthSharp,b9:b.ninthFlat,"9":b.ninthFlat,addb9:b.ninthFlat,"add9":b.ninthFlat,"#9":b.ninthSharp,"9":b.ninthSharp,"add#9":b.ninthSharp,"add9":b.ninthSharp,"#11":b.eleventhSharp,"11":b.eleventhSharp,"add#11":b.eleventhSharp,b13:b.thirteenthFlat,"13":b.thirteenthFlat,addb13:b.thirteenthFlat,"add13":b.thirteenthFlat,...LV,2:b.add9,add2:b.add9,add3:b.add3,add4:b.add4,addb6:b.addb6,b6:b.addb6,6:b.add6,add6:b.add6,"6/9":b.add69,69:b.add69,96:b.add69,"9/6":b.add69,add9:b.add9,add11:b.add11,add13:b.add13,bass:b.bass,omit3:b.omit3,no3:b.omit3,omit5:b.omit5,no5:b.omit5,5:b.power,alt:b.alt,"alt.":b.alt,altered:b.alt};function KC(t,e,n){return Object.keys(t).map(n).reduce((r,i)=>(r[i]=e,r),{})}const FV=Object.keys(GC).sort((t,e)=>e.length-t.length),uu={1:0,2:2,b3:3,3:4,4:5,b5:6,5:7,"#5":8,b6:8,6:9,bb7:9,b7:10,7:11,b9:13,9:14,"#9":15,11:17,"#11":18,b13:20,13:21};function BV(t,e){let n=[];return e.input.parsableDescriptor&&(n=zV(e)),e.input.modifiers=n,e.normalized.intervals=jV(n,t),e.normalized.semitones=QV(e.normalized.intervals),e.normalized.intents=XV(n),e}function zV(t){const{parsableDescriptor:e}=t.input,n=[],r=new RegExp(FV.map(JV).join("|"),"g"),i=e.match(r);let o=e,s;if(i&&i.forEach(l=>{s=GC[l],Array.isArray(s)||(s=[s]),s.forEach(a=>{n.includes(a)||(n.push(a),o=o.replace(l,""))})}),n.length===0)throw new $C(t);if(o.trim().length>0)throw new u5(t,o);return n}function jV(t,e){return t.includes(b.power)?["1","5"]:t.includes(b.bass)?["1"]:jC(["1",...UV(t),...VV(t),...WV(t,e),...HV(t),...GV(t),...KV(t,e),...qV(t,e),...YV(t,e)]).sort((n,r)=>uu[n]-uu[r])}function UV(t){const e=[];return t.includes(b.omit3)?[]:(ae(t,[b.sus,b.sus2])||(ym(t)?t.includes(b.eleventh)||e.push("3"):e.push("b3")),t.includes(b.add3)&&e.push("3"),e)}function VV(t){const e=[];return ae(t,[b.sus,b.add4])&&e.push("4"),e}function WV(t,e){const n=[];return t.includes(b.omit5)?[]:((ae(t,[b.dim,b.halfDim,b.fifthFlat])||Co(t,e,"b5"))&&n.push("b5"),(ae(t,[b.aug,b.fifthSharp])||Co(t,e,"#5"))&&n.push("#5"),!n.length&&!t.includes(b.thirteenthFlat)&&n.push("5"),n)}function HV(t){const e=[];return ae(t,[b.addb6])&&e.push("b6"),ae(t,[b.add6,b.add69])&&!qC(t)&&!ae(t,[b.halfDim])&&e.push("6"),e}function GV(t){const e=[];return ae(t,[b.alt])&&e.push("b7"),ae(t,[b.seventh,b.halfDim])?t.includes(b.dim)?e.push("bb7"):t.includes(b.halfDim)?e.push("b7"):e.push(o1(t)):ae(t,[b.ninth,b.eleventh,b.thirteenth])&&e.push(o1(t)),t.includes(b.add7)&&e.push("7"),e}function o1(t){return t.includes(b.ma)?"7":"b7"}function KV(t,e){const n=[];return ae(t,[b.add69,b.ninth,b.eleventh,b.thirteenth])&&Cr(t,[b.ninthFlat,b.ninthSharp])&&n.push("9"),ae(t,[b.sus2,b.add9])&&n.push("9"),(ae(t,[b.ninthFlat])||Co(t,e,"b9"))&&n.push("b9"),(ae(t,[b.ninthSharp])||Co(t,e,"#9"))&&n.push("#9"),n}function qV(t,e){const n=[];return(ae(t,[b.thirteenth])&&!ym(t)||ae(t,[b.eleventh,b.add11]))&&n.push("11"),(ae(t,[b.eleventhSharp])||Co(t,e,"#11"))&&n.push("#11"),n}function YV(t,e){const n=[];return(ae(t,[b.add13,b.thirteenth])||ae(t,[b.add6,b.add69])&&qC(t)||ae(t,[b.add6,b.add69])&&ae(t,[b.halfDim]))&&n.push("13"),(ae(t,[b.thirteenthFlat])||Co(t,e,"b13"))&&n.push("b13"),n}function Co(t,e,n){return t.includes(b.alt)&&e.includes(n)}function ym(t){return Cr(t,[b.mi,b.dim,b.dim7,b.halfDim])}function qC(t){return ae(t,[b.seventh,b.ninth,b.eleventh,b.thirteenth])}function JV(t){return t.replace(/[.\-*+?^${}()|[\]\\]/g,"\\$&")}function QV(t){return t.map(e=>uu[e]).sort((e,n)=>e-n)}function XV(t){return{major:ym(t),eleventh:t.includes(b.eleventh),alt:t.includes(b.alt)}}function Cc(t={}){const e=["b5","#5","b9","#9","#11","b13"],n=["english","german","latin"],{notationSystems:r=ie(n),altIntervals:i=ie(e),customFilters:o=[],key:s=""}=t;return ZV(i,e),e9(r,n),kC(o),t9(s),l;function l(a){const u=[];if(!n9(a)){const h=new l5;u.push(cp(h))}const c=ie(i5).filter(h=>r.includes(h.name));let f,d,p;if(!u.length)for(;c.length&&!f;){p=c.shift(),d=[D5.bind(null,t),DV.bind(null,p.notes),N5,BV.bind(null,i),d5,F5,WC,LC,DC,dm,w5.bind(null,s),...o];try{f=bl(d,a),f?f.input.notationSystem=p.name:u.push(r9(p.name))}catch(h){u.push(cp(h,p.name))}}return f||{error:u}}}function ZV(t,e){YC("altIntervals",t,e,!0)}function e9(t,e){YC("notationSystems",t,e)}function YC(t,e,n,r){if(!Array.isArray(e))throw new TypeError(`'${t}' should be an array`);if(!r&&e.length===0)throw new TypeError(`'${t}' cannot be empty`);e.forEach(i=>{if(!n.includes(i))throw new TypeError(`'${i}' is not a valid value for ${t}`)})}function t9(t){if(t!==""&&(!Eo(t)||!s5.includes(t)))throw new TypeError(`'${t}' is not a valid value for key`)}function n9(t){return typeof t=="string"&&t.length>0}function r9(t){const e=new a5;return cp(e,t)}function cp(t,e){return{type:t.name,chord:t.chord,message:t.message,notationSystem:e}}const In={sus2:"sus2",add2:"2",omit:"no",ma:"M",mi:"m",dim:"",aug7:"7+",eleventh:"11"};function i9(t){let e,n=t.formatted.chordChanges;return o9(t)?(e=In.sus2,n=[]):s9(t)?(e=In.add2,n=[]):l9(t)?(e=In.aug7,n=[]):(e=t.formatted.descriptor.replace("mi",In.mi).replace(/[m|M]a/,In.ma).replace("dim",In.dim),a9(t)&&(e=e.replace(/7sus|9sus/,In.eleventh))),n=n.map(r=>r.replace(/[m|M]a/,In.ma).replace("omit",In.omit)),{...t,formatted:{...t.formatted,descriptor:e,chordChanges:n}}}function o9(t){return xl(t.normalized.intervals,["1","5","9"])}function s9(t){return xl(t.normalized.intervals,["1","3","5","9"])}function l9(t){return xl(t.normalized.intervals,["1","3","#5","b7"])}function a9(t){return t.normalized.intents.eleventh}var u9=UC,c9=Kp,f9=Ao,s1=Mu,d9=f9(function(t,e){return s1(t)?u9(t,c9(e,1,s1,!0)):[]}),p9=d9;const h9=xe(p9);function m9(t="none",e){if(t==="none")return e;const n={max:["4","b5","#5","6","bb7","b7","7","b9","9","#9","11","#11","b13","13"],core:["4","b9","9","#9","11","#11","b13","13"]},r=h9(e.normalized.intervals,n[t]);return Cr(r,["b3","3"])&&r.push(e.normalized.intents.major?"3":"b3"),Cr(r,["b5","5","#5"])&&r.push("5"),e.normalized.intervals=r,e.normalized.semitones=r.map(o=>uu[o]),e.normalized.intents.eleventh=!1,e.normalized.intents.alt=!1,t==="max"&&delete e.normalized.bassNote,bl([WC,LC,dm],e)}function g9(t,e,n){const{rootNote:r,bassNote:i}=n.normalized,o=a1(r);if(n.normalized.rootNote=l1(o,t,e),n.formatted.rootNote=n.normalized.rootNote,i){const s=a1(i);n.normalized.bassNote=l1(s,t,e),n.formatted.bassNote=n.normalized.bassNote}return dm(n)}function l1(t,e,n){const i=tl.indexOf(t)+e,o=Math.floor(i/12),s=i-o*12,l=tl[s];return n==="flat"&&PC[l]||l}function a1(t){return nl[t]||t}const fp={german:{Ab:"As",A:"A","A#":"Ais",Bb:"Hes",B:"H",C:"C","C#":"Cis",Db:"Des",D:"D","D#":"Dis",Eb:"Es",E:"E",F:"F","F#":"Fis",Gb:"Ges",G:"G","G#":"Gis"},latin:{Ab:"Lab",A:"La","A#":"La#",Bb:"Sib",B:"Si",C:"Do","C#":"Do#",Db:"Reb",D:"Re","D#":"Re#",Eb:"Mib",E:"Mi",F:"Fa","F#":"Fa#",Gb:"Solb",G:"Sol","G#":"Sol#"}},y9=Object.keys(fp);function v9(t="english",e){const n=t==="auto"?e.input.notationSystem:t;return n==="english"?e:y9.includes(n)?(e.formatted.rootNote=fp[n][e.formatted.rootNote],e.formatted.bassNote&&(e.formatted.bassNote=fp[n][e.formatted.bassNote]),e):null}function JC(t){return t&&t.formatted&&t.formatted.symbol?t.formatted.symbol:null}function S9(t){delete t.parserConfiguration.notationSystems;const e=ie(t),n=JC(t),i=Cc(t.parserConfiguration)(n);return e.input=i.input,e}function QC({accidental:t="original",customFilters:e=[],notationSystem:n="english",printer:r="text",simplify:i="none",transposeValue:o=0,useShortNamings:s=!1}={}){kC(e);const l=[];return["max","core"].includes(i)&&l.push(m9.bind(null,i)),(t!=="original"||o!==0)&&l.push(g9.bind(null,o,t)),s&&l.push(i9),l.push(v9.bind(null,n),DC,...e),a;function a(u){if(!w9(u))return null;const c=bl(l,ie(u));return r==="raw"?S9(c):JC(c)}}const w9=t=>t&&typeof t=="object"&&!t.error&&t.input,XC=/([^\s]+)/g,dp=/\[([^\]]*)]/g,ZC=t=>{const e=t.trim().match(XC);return e?e.every(tb):!1},eb=t=>{const e=t.trim().match(dp);return e?e.map(n=>n.replace(/[[\]]/g,"")).every(tb):!1};function tb(t){return!Cc()(t).error}const nb=(t,e)=>{for(;t.length&&e(t[0]);)t.shift();for(;t.length&&e(t[t.length-1]);)t.pop();return t},E9={adlib:"a","ad-lib":"a","ad.lib.":"a",bridge:"b",chorus:"c",intro:"i",introduction:"i",outro:"o",prechorus:"p","pre-chorus":"p","pre chorus":"p",solo:"s",interlude:"u",verse:"v"},rb=t=>{let e="#";const n="(.*?)",r="([\\s]+[0-9]{1,2})?",i="([\\s]+[x][0-9]{1,2})?",o=new RegExp(`^${n}${r}${i}$`),[,s,,l]=t.trim().match(o),a=s.trim().toLowerCase();return e+=E9[a]||s.trim(),l&&(e+=" "+l.trim()),e},ct={EMPTY:"empty",DIRECTIVE:"directive",COMMENT:"comment",LYRICS:"lyrics",CHORDS_LYRICS:"chordsLyrics",SECTION_START:"sectionStart",SECTION_CLOSE:"sectionClose",SECTION_REPEAT:"sectionRepeat"},C9=["chorus","verse","bridge","comment","comment_italic","comment_bold","c","ci","cb"],b9=["start_of_chorus","start_of_verse","start_of_bridge","start_of_part","soc","sov","sob","sop"],x9=["end_of_chorus","end_of_verse","end_of_bridge","end_of_part","eoc","eov","eob","sop"],O9={chorus:"c",verse:"v",bridge:"b",start_of_chorus:"c",start_of_verse:"v",start_of_bridge:"b",start_of_part:"v",soc:"c",sov:"v",sob:"b",sop:"v",c:"c",ci:"c",cb:"c",comment:"c",comment_italic:"c",comment_bold:"c"},T9=t=>{const e=[],n=t.map(i=>k9(i)).filter(i=>P9(i)),r=$9(n);return r.forEach((i,o)=>{e.push(i.label),i.allLines.forEach(s=>{e.push(s)}),o<r.length-1&&e.push("")}),e.join(`
`)},k9=t=>{const e={content:t};if(A9(t))e.type=ct.COMMENT;else if(_9(t))e.type=ct.EMPTY;else if(N9(t)){const[n,r]=M9(t);e.key=n,e.value=r,b9.includes(n)?e.type=ct.SECTION_START:x9.includes(n)?e.type=ct.SECTION_CLOSE:C9.includes(n)?e.type=ct.SECTION_REPEAT:e.type=ct.DIRECTIVE}else if(eb(t)){e.type=ct.CHORDS_LYRICS;const[n,r]=I9(t);e.chords=n,e.lyrics=r}else e.type=ct.LYRICS;return e},A9=t=>{const e=/^#.*$/;return t.trim().match(e)!==null},_9=t=>t.trim()==="",ib=/^{([^:]+):?(.*)?}$/,N9=t=>t.trim().match(ib)!==null,M9=t=>{const e=t.trim().match(ib),n=e[1].trim(),r=e[2]?e[2].trim():void 0;return[n,r]},I9=t=>{const n=t.trim().match(dp).map(i=>i.replace("[","").replace("]","")).join(" "),r=t.replace(dp,"_");return[n,r]},P9=t=>![ct.COMMENT,ct.DIRECTIVE].includes(t.type),$9=t=>{let e=[],n;const r=()=>{n&&(e.push(n),n=void 0)},i=o=>{n={label:o?D9(o):"#v",allLines:[]}};return t.forEach(o=>{o.type===ct.SECTION_START?(r(),i(o)):o.type===ct.SECTION_CLOSE?r():o.type===ct.SECTION_REPEAT?(r(),i(o),r()):o.type===ct.EMPTY?n&&n.allLines.push(o.content):(n||i(),o.type===ct.CHORDS_LYRICS?(n.allLines.push(o.chords),n.allLines.push(o.lyrics)):n.allLines.push(o.content))}),r(),e.map(o=>(o.allLines=nb(o.allLines,s=>s===""),o))},D9=t=>{let e;return t.value?e=rb(t.value):e="#"+O9[t.key],e},R9=t=>{let n=0;return t.replace(/\t/g,(i,o)=>{let s=4-(o+n)%4;return n+=s-1," ".repeat(s)}).length},ni=(t,e,n)=>(n>t.length&&(t+=" ".repeat(n-t.length)),t.slice(0,n)+e+t.slice(n)),L9=t=>{const e=[];let n=[];return t.forEach(r=>{ZC(r)?(e.push(z9(r)),n=j9(r)):(F9(r)?e.push(B9(r)):n.length&&r.trim()!==""?e.push(W9(r,n)):e.push(r),n=[])}),e.join(`
`)},ob=/^\[([^\]]+)]$/,F9=t=>{const e=t.trim().match(ob);return e!==null&&e[1].trim()!==""},B9=t=>{const e=t.trim().match(ob)[1];return rb(e)};function z9(t){return t.match(XC).join(" ")}function j9(t){const e=[];let n=0;const r=t.match(/([\s])+/g)||[],i=t.match(/([^\s])+/g);return U9(t)||r.unshift(""),V9(t)&&r.pop(),r.forEach((o,s)=>{const l=R9(" ".repeat(n)+o);e.push(l),n=l+i[s].length}),e}const U9=t=>sb(t.charAt(0)),V9=t=>sb(t.charAt(t.length-1)),sb=t=>t.match(/[\s]/),W9=(t,e)=>{const n="_";let r=t,i=0;return e.forEach(o=>{const s=Math.min(o+i,r.length+1);r=ni(r,n,s),i+=n.length}),r.replace(/[\s]+/g," ").trim()},Wr={AUTO:"auto",CP:"chordPro",COL:"chordsOverLyrics"},cY=(t,{inputFormat:e=Wr.AUTO}={})=>{H9(e);const n=G9(t);let r=e;e===Wr.AUTO&&(r=K9(n)?Wr.CP:Wr.COL);let i;switch(r){case Wr.CP:i=T9;break;case Wr.COL:i=L9;break}return i(n)},H9=t=>{if(!Object.values(Wr).includes(t))throw new Error("unknown input format: "+t)},G9=t=>TC(t).replace(/\r\n/g,`
`).replace(/\n\r/g,`
`).replace(/\r/g,`
`).replace(/\[\/?ch]/g,"").replace(/\[\/?tab]/g,"").split(`
`),K9=t=>{const e=t.filter(eb),n=t.filter(ZC);return e.length>n.length};function q9(t){return Fu.sanitize(t)}function lb(t){return Fu.sanitize(t,{ALLOWED_TAGS:["#text"],KEEP_CONTENT:!0})}const V={CHORD:"chord",EMPTY_LINE:"emptyLine",KEY_DECLARATION:"keyDeclaration",LYRIC:"lyric",SECTION_LABEL:"sectionLabel",TIME_SIGNATURE:"timeSignature"};var Y9=J0,ab=/[\\^$.*+?()[\]{}|]/g,J9=RegExp(ab.source);function Q9(t){return t=Y9(t),t&&J9.test(t)?t.replace(ab,"\\$&"):t}var X9=Q9;const Nr=xe(X9);function Yn(t){return t.replace(/\t+/g," ").replace(/  +/g," ").trim()}const Z9=["2/2","3/2","4/2","2/4","3/4","4/4","5/4","6/4","7/4","9/4","10/4","3/8","4/8","5/8","6/8","7/8","9/8","12/8"];function rl(t){return Z9.includes(t)}function cu(t){if(!rl(t))throw new TypeError("Expected time signature string, received: "+t);const e=t.split("/"),n=Number.parseInt(e[0],10),r=Number.parseInt(e[1],10);let i=n;return r===2?i=n*2:r===8&&(i=n/3),{string:t,count:n,value:r,beatCount:i}}const ce={barRepeat:"%",chordBeatCount:".",chordLineRepeat:"%",chordPositionMarker:"_",lyricLine:":",keyDeclarationPrefix:"key ",noChord:"NC",sectionLabel:"#",subBeatOpener:"[",subBeatCloser:"]"},ub=cu("4/4");function eW(t){return!Cc()(t).error}const tW=new RegExp(Nr(ce.chordBeatCount)+"*$","g"),nW=new RegExp("^"+Nr(ce.barRepeat)+"+$");function rW(t=""){return Yn(cb(t)).split(" ").every((e,n,r)=>{const i=fb(e);return eW(i)||e.match(nW)&&n>0||i===ce.noChord||rl(e)&&r.length>1})}const cb=t=>t.replaceAll("add ","add"),fb=t=>oW(iW(t)),iW=t=>t.replace(tW,""),oW=t=>{let e=t;return t.startsWith(ce.subBeatOpener)&&(e=e.substring(ce.subBeatOpener.length)),t.endsWith(ce.subBeatCloser)&&(e=e.substring(0,e.length-ce.subBeatCloser.length)),e};function sW(t){const e=Yn(t);return e===ce.chordLineRepeat||e===ce.chordLineRepeat.repeat(2)}function u1(t){return Yn(t)===""}const db=new RegExp("^"+Nr(ce.sectionLabel)+"([a-zA-Z]+)([1-9])?( x[1-9][0-9]?)?$");function fu(t){return Yn(t).match(db)!==null}function lW(t,e={}){return Cc({key:e.string})(t)}var aW=dn,uW=aW.isFinite;function cW(t){return typeof t=="number"&&uW(t)}var fW=cW;const oo=xe(fW);class dW extends Error{constructor({string:e,duration:n,currentBeatCount:r,beatCount:i}={}){if(!e||!Eo(e))throw new TypeError("InvalidBeatCountException cannot be created without chord string, received: "+e);if(!n||!oo(n))throw new TypeError("InvalidBeatCountException cannot be created without chord duration, received: "+n);if(!r||!oo(r))throw new TypeError("InvalidBeatCountException cannot be created without currentBeatCount, received: "+r);if(!i||!oo(i))throw new TypeError("InvalidBeatCountException cannot be created without beatCount, received: "+i);super(),this.name="InvalidBeatCountException",this.string=e,this.duration=n,this.currentBeatCount=r,this.beatCount=i}}class pW extends Error{constructor({string:e}={}){if(!e||!Eo(e))throw new TypeError("InvalidChordRepetitionException cannot be created without chord string, received: "+e);super(),this.name="InvalidChordRepetitionException",this.string=e}}class As extends Error{constructor({chordLine:e,symbol:n,position:r}={}){if(!e||!Eo(e))throw new TypeError("InvalidSubBeatGroupException cannot be created without a chordLine, received: "+e);if(!n||!Eo(n))throw new TypeError("InvalidSubBeatGroupException cannot be created without symbol, received: "+n);if(!oo(r))throw new TypeError("InvalidSubBeatGroupException cannot be created without symbol position, received: "+r);super(),this.name="InvalidSubBeatGroupException",this.chordLine=e,this.symbol=n,this.position=r}}class hW extends Error{constructor({string:e}={}){if(!e||!Eo(e))throw new TypeError("InvalidBarRepeatException cannot be created without chord string, received: "+e);super(),this.name="InvalidBarRepeatException",this.string=e}}const mW=new RegExp(Nr(ce.chordBeatCount),"g"),gW=new RegExp("^"+Nr(ce.barRepeat)+"+$");function yW(t,{timeSignature:e=ub,originalKey:n={}}={}){let{beatCount:r}=e;const i=[],o={allChords:[]},s={};let l=ie(o),a={},u,c=0,f,d=!1,p=0,h=!1;MW(t);const v=Yn(cb(t)).split(" ");return v.forEach((C,O)=>{C.match(gW)?S(C):rl(C)?m(C):(y(C),xW(c,r)?x():OW(a,c,r,v.length===O+1))}),NW(i,s),{allBars:i,originalKey:n};function S(C){if(c===0&&f&&Rs(e,f.timeSignature)){const O=ie(f);O.isRepeated=!0;for(let k=0;k<C.length;k++)i.push(ie(O))}else throw new hW({string:t})}function m(C){e=cu(C),r=e.beatCount,h=!0}function y(C){C.startsWith(ce.subBeatOpener)&&(d=!0),d&&(vW(t,C),g()),u=fb(C),a={string:C,duration:EW(C,r,d),model:wW(u)?ce.noChord:lW(u,n),beat:c+1,isInSubBeatGroup:d},c+=a.duration,CW(l,a),l.allChords.push(a),C.endsWith(ce.subBeatCloser)&&(w(C),d=!1,p++,c+=1)}function g(){s[p]?s[p]++:s[p]=1}function w(C){if(s[p]===1||s[p]>4)throw new As({chordLine:t,symbol:C,position:0})}function x(){l.timeSignature=e,l.lineHadTimeSignatureChange=h,l.hasUnevenChordsDurations=_W(l);const C=ie(l);l.isRepeated=Rs(l,f),i.push(ie(l)),f=C,l=ie(o),c=0}}function vW(t,e){if(SW(e))throw new As({chordLine:t,symbol:e,position:0})}function SW(t){return t.indexOf(ce.chordBeatCount)>-1}function wW(t){return t===ce.noChord}function EW(t,e,n){return n?0:(t.match(mW)||[]).length||e}function CW(t,e){if(t.allChords.length>0){const n=t.allChords[t.allChords.length-1];if(Rs(n.model,e.model)&&!bW(n,e))throw new pW({string:e.string})}}function bW(t,e){return e.string.startsWith(ce.subBeatOpener)||t.string.endsWith(ce.subBeatCloser)&&!e.model.isInSubBeatGroup}function xW(t,e){return t===e}function OW(t,e,n,r){if(TW(e,n,r))throw new dW({string:t.string,duration:t.duration,currentBeatCount:e,beatCount:n})}function TW(t,e,n){return kW(t,e)||AW(t,e,n)}function kW(t,e){return t>e}function AW(t,e,n){return n&&t<e}function _W(t){let e=t.allChords[0].duration;return t.allChords.some(n=>n.duration!==e)}function NW(t,e){let n=-1,r=0,i="";t.forEach((o,s)=>{o.allChords.forEach(l=>{if(l.isInSubBeatGroup){const a=s+l.beat;a!==i&&(n++,r=0);const u=(1/e[n]).toPrecision(2);l.duration=Number.parseFloat(u),l.isFirstOfSubBeat=r===0,l.isLastOfSubBeat=r===e[n]-1,i=a,r++}})})}function MW(t){const e={};let n=!1,r;const i=new RegExp(Nr(ce.subBeatOpener)+"|"+Nr(ce.subBeatCloser),"g");for(;r=i.exec(t);){const o=r[0];if(e.chordLine=t,e.symbol=o,e.position=i.lastIndex-1,r[0]===ce.subBeatOpener){if(n)throw new As(e);n=!0}else{if(!n)throw new As(e);n=!1}}if(n)throw new As(e)}const sr="A,A#,B,C,C#,D,D#,E,F,F#,G,G#".split(","),IW="Ab,Bb,Db,Eb,Gb".split(","),c1=[...sr,...IW],PW=[...c1,...c1.map(t=>t+"m")],du={Ab:"G#",Bb:"A#",Db:"C#",Eb:"D#",Gb:"F#"},$W=AC(du);function DW(t){return PW.includes(t)}function vm(t){return["G","Em","D","Bm","A","F#m","E","C#m","B","G#m","F#","D#m","C#","A#m","G#","D#","A#"].includes(t)?"sharp":"flat"}function f1(t,e,n){const r={"G#":"Ab","D#":"Eb","A#":"Bb",Dbm:"C#m",Gbm:"F#m"};let i;if(e===0&&n==="auto")i=t.string;else{const s=n==="auto"?e<0?"flat":"sharp":n;i=RW(t.string,e,s)}const o=n==="auto"&&r[i]?r[i]:i;return{string:o,accidental:vm(o)}}function RW(t,e,n){const r=t.endsWith("m"),i=t.replace("m",""),o=du[i]||i;let l=sr.indexOf(o)+e;l<0?l+=sr.length:l>=sr.length&&(l-=sr.length);const a=sr[l],u=n==="flat"&&$W[a]||a;return r?u+"m":u}function LW(t){const e=FW(t);return e?{string:e,accidental:vm(e)}:void 0}function FW(t){const e=BW(t);if(e.length===0)return;if(e.length===1)return e[0].keyString;const n=e.find(i=>i.isLast===!0);if(n)return n.keyString;const r=e.find(i=>i.isFirst===!0);return r?r.keyString:e[0].keyString}function BW(t){let e=0,n=[];const r=[];return ie(t).map(i=>(i.keyString=zW(i),i)).forEach(i=>{const o=zC(r,s=>s.keyString===i.keyString);o===-1?r.push(i):(r[o].duration+=i.duration,i.isLast&&(r[o].isLast=!0))}),r.map(i=>(i.isLast&&(i.duration*=1.25),i.isFirst&&(i.duration*=1.25),i)).forEach(i=>{i.duration>e?(n=[i],e=i.duration):i.duration===e&&n.push(i)}),n}function zW(t){const e=ie(t.model),n=["major","major6","major7","dominant7","augmented","power","bass"];let r=e.formatted.rootNote;return n.includes(e.normalized.quality)||(r+="m"),r}function jW(t,e){return!t||!e?0:UW(t.replace("m",""),e.replace("m",""))}function UW(t,e){const n=du[t]||t,r=du[e]||e,i=sr.indexOf(n),o=sr.indexOf(r);if(i===-1||o===-1)return 0;const s=o-i;return s<0?s+12:s}const pb=new RegExp("^"+Nr(ce.keyDeclarationPrefix)+"([ABCDEFG].*)$");function pp(t){const e=Yn(t).match(pb);return e===null?!1:DW(e[1])}function VW(t){if(!pp(t))throw new TypeError("Expected key declaration, received: "+t);const n=Yn(t).match(pb)[1];return{string:n,accidental:vm(n)}}function WW(t){const e=t.startsWith(ce.lyricLine)?t.substring(1):t,n=new RegExp(ce.chordPositionMarker,"g"),r=e.replace(n,""),i=[];let o=e,s;for(;(s=o.indexOf(ce.chordPositionMarker))!==-1;)i.includes(s)||i.push(s),o=o.replace(ce.chordPositionMarker,"");return{lyrics:r,chordPositions:i}}function HW(t){if(!fu(t))throw new TypeError("Expected section identifier string, received: "+t);const e=Yn(t).match(db);return{string:t,label:e[1],copyIndex:e[2]?Number.parseInt(e[2]):1,multiplyTimes:e[3]?Number.parseInt(e[3].replace(" x","")):0}}function GW(t,e){const n=ie(t);return n.forEach(r=>{r.type===V.CHORD&&r.model.allBars.forEach(i=>{i.allChords.forEach(o=>{e(o)})})}),n}function d1(t,e){const n=ie(t);return n.allBars.forEach((r,i)=>{r.allChords.forEach((o,s)=>{e(o,s,i)})}),n}function Mf(t,e,n){const r=[],i={};let o=!1,s="";for(t.forEach(l=>{l.type===V.SECTION_LABEL?(s=l.model.label,i[s]?i[s]++:i[s]=1,o=l.id===e+n):o&&r.push(l)});io(r)&&(io(r).type===V.KEY_DECLARATION||io(r).type===V.TIME_SIGNATURE);)r.pop();return r}const KW="4/4";function qW(){const t=[],e={};let n=cu(KW),r,i,o={};const s=2;let l=[],a,u=[],c=0,f=!1,d=!1;function p(T){return n=cu(T),{string:T,type:V.TIME_SIGNATURE,model:n}}function h(T){return o=VW(T),{string:T,type:V.KEY_DECLARATION,model:ie(o)}}function v(T,B,G){r=HW(T),x(r.label),i=C(r.label);const q={string:T,type:V.SECTION_LABEL,model:r,index:i.count,indexWithoutMultiply:i.withoutMultiply,id:r.label+i.count};return d=M(B,G)&&i.count>1,d&&(q.isFromSectionCopy=!0),f=r.multiplyTimes>0,a=ie(q),u=i.count>1?Mf(t,r.label,1):[],c=0,q}function S(T){return{string:T,type:V.EMPTY_LINE}}function m(T){let B;try{const G=yW(T,{timeSignature:n,originalKey:o});B={string:T,type:V.CHORD,model:G},y(B)}catch{B=w(T)}return B}function y(T){l.length>=s&&l.shift(),l.push(T)}function g(T){const B=Yn(T),G=-B.length,q=G<-1?G+1:void 0;return l.length>=B.length?{...ie(...l.slice(G,q)),isFromChordLineRepeater:!0}:w(T)}function w(T){return{string:T,type:V.LYRIC,model:WW(T)}}function x(T,B=!1){e[T]?(e[T].count++,B||e[T].withoutMultiply++):e[T]={count:1,withoutMultiply:1}}function C(T){return e[T]}function O(T){if(u.length&&T.type!==V.SECTION_LABEL){let B=u[c],G;for(;k(B,T);)B.type===V.CHORD&&y(ie(B)),G={...ie(B),isFromAutoRepeatChords:!0},t.push(G),c++,B=u[c];c++}}function k(T,B){const G=[V.LYRIC,V.EMPTY_LINE];return T&&!G.includes(T.type)&&T.type!==B.type&&B.type!==V.EMPTY_LINE}function I(){if(d){const T=Mf(t,r.label,r.copyIndex).map(B=>({...ie(B),isFromSectionCopy:!0}));if(!T.length)return;QW(T)&&T.pop(),t.push(...ie(T)),d=!1}}function M(T,B){const G=B.slice(T+1);let q=G.findIndex(De=>fu(De));return q===0?!0:G.slice(0,q!==-1?q:void 0).filter(De=>!(rl(De)||pp(De)||u1(De))).length===0}function J(T,B){if(f&&YW(T,B)){const G=Mf(t,r.label,i.count).map(he=>({...ie(he),isFromSectionMultiply:!0}));let q;for(let he=1;he<r.multiplyTimes;he++)x(r.label,!0),i=C(r.label),q={...ie(a),index:i.count,indexWithoutMultiply:i.withoutMultiply,id:r.label+i.count,isFromSectionMultiply:!0},t.push(q),t.push(...ie(G))}}return{addLine(T,B,G){let q;rl(T)?q=p(T):fu(T)?q=v(T,B,G):rW(T)?q=m(T):sW(T)?q=g(T):u1(T)?q=S(T):pp(T)?q=h(T):q=w(T),O(q),t.push(q),I(),J(B,G)},asArray(){return ie(t)},flagPositionedChords(){let T,B;t.forEach((G,q)=>{T=t[q+1],JW(G,T)?(B=0,G.model.hasPositionedChords=!0,G.model=d1(G.model,he=>{he.isPositioned=B<T.model.chordPositions.length,B++})):G.type===V.CHORD&&(G.model.hasPositionedChords=!1,G.model=d1(G.model,he=>{he.isPositioned=!1}))})}}}function YW(t,e){const n=e[t+1];return typeof n>"u"||fu(n)}function JW(t,e){return t.type===V.CHORD&&e&&e.type===V.LYRIC&&e.model.chordPositions.length>0}function QW(t){return t[t.length-1].type===V.EMPTY_LINE}function XW(t){const e=[];let n;return GW(t,r=>{r.model!==ce.noChord&&(n=zC(e,i=>Rs(lp(i.model,["numeral"]),lp(r.model,["numeral"]))),n===-1?(e.push({model:ie(r.model),occurrences:1,duration:r.duration}),n=e.length-1):(e[n].occurrences++,e[n].duration+=r.duration))}),e.length&&(e[0].isFirst=!0,e[n].isLast=!0),e}function ZW(t,e){const n={auto:void 0,explicit:[]};if(t.forEach(r=>{r.type===V.KEY_DECLARATION&&n.explicit.push(ie(r.model))}),n.explicit.length===0){const r=LW(e);r&&(n.auto=r)}return n}function fY(t){const e=Lp(t)?t:t.split(`
`),n=qW();e.map(q9).map(lb).forEach(n.addLine),n.flagPositionedChords();const r=n.asArray(),i=XW(r),o=ZW(r,i);return{allLines:r,allChords:i,allKeys:o}}const re={barRepeat:"%",barSeparator:"|",chordBeat:".",chordLineOffsetSpacer:" ",emptyBeatSpaces:1,keyDeclarationPrefix:"key: ",lyricsSpacer:" ",noChordSymbol:"NC",spacesAfterDefault:2,spacesAfterSubBeatDefault:1,spacesAfterTimeSignature:1,subBeatGroupOpener:"[",subBeatGroupCloser:"]"};function hb(t,e,{shouldPrintSubBeatDelimiters:n=!0,symbolType:r="chord"}={}){const i=t.allChords.filter(o=>o.beat===e);switch(i.length){case 0:return"";case 1:return hp(t,i[0],{shouldPrintSubBeatDelimiters:n,symbolType:r});default:return i.reduce((o,s,l)=>{const a=l>0?" ".repeat(re.spacesAfterSubBeatDefault):"";return o+a+hp(t,s,{shouldPrintSubBeatDelimiters:n,symbolType:r})},"")}}function hp(t,e,{shouldPrintSubBeatDelimiters:n,symbolType:r="chord"}){const o=r==="chord"||e.model===re.barRepeat||e.model===re.noChordSymbol?e.symbol:e.model.numeral.symbol;if(e.isInSubBeatGroup)return n&&e.isFirstOfSubBeat?re.subBeatGroupOpener+o:n&&e.isLastOfSubBeat?o+re.subBeatGroupCloser:o;{const s=t.shouldPrintChordsDuration?re.chordBeat.repeat(e.duration):"";return o+s}}function e7(t,{shouldAlignChordsWithLyrics:e,shouldPrintSubBeatDelimiters:n=!0,symbolType:r="chord"}){const i=[];return t.filter(o=>o.type===V.CHORD).filter(o=>!e(o)).forEach(o=>{o.model.allBars.filter(s=>!s.lineHadTimeSignatureChange).forEach((s,l)=>{if(!i[l]){i[l]={};for(let a=1;a<=s.timeSignature.beatCount;a++)i[l][a]=0}s.allChords.filter(a=>!a.isInSubBeatGroup||a.isLastOfSubBeat).forEach(a=>{const u=hb(s,a.beat,{shouldPrintSubBeatDelimiters:n,symbolType:r});i[l][a.beat]=Math.max(i[l][a.beat],u.length)})})}),i}function t7(t){const e=ie(t);return e.allBars.forEach(n=>{mb(n)}),e}function mb(t){t.allChords.forEach(e=>{e.spacesAfter=e.isInSubBeatGroup&&!e.isLastOfSubBeat?re.spacesAfterSubBeatDefault:re.spacesAfterDefault,e.spacesWithin=0})}function n7(t,e,{shouldPrintBarSeparators:n=!0,shouldPrintSubBeatDelimiters:r=!0,symbolType:i="chord"}){const o=ie(t);return o.allBars.forEach((s,l)=>{s.lineHadTimeSignatureChange?mb(s):s.allChords.forEach(a=>{const u=hb(s,a.beat,{shouldPrintSubBeatDelimiters:r,symbolType:i});a.isInSubBeatGroup&&!a.isLastOfSubBeat?(a.spacesWithin=0,a.spacesAfter=re.spacesAfterSubBeatDefault):(a.spacesWithin=e[l][a.beat]-u.length,a.spacesAfter=0),r7(s,a)&&(a.spacesAfter=re.spacesAfterDefault+i7(s,a,e[l])),o7(s,a,n)&&(a.spacesAfter=re.spacesAfterDefault)})}),o}const r7=(t,e)=>(!e.isInSubBeatGroup||e.isLastOfSubBeat)&&!gb(t,e),i7=(t,e,n)=>{let r=0;for(let i=e.beat+1;i<e.beat+e.duration;i++){const o=n[i];r+=o||re.emptyBeatSpaces,i!==t.timeSignature.beatCount&&o&&(r+=re.spacesAfterDefault)}return r},gb=(t,e)=>e.beat===t.timeSignature.beatCount,o7=(t,e,n)=>!n&&gb(t,e)&&(!e.isInSubBeatGroup||e.isLastOfSubBeat),If=1;function s7(t,e,{shouldPrintBarSeparators:n=!0,shouldPrintSubBeatDelimiters:r=!0,shouldPrintInlineTimeSignatures:i=!0,symbolType:o="chord"}={}){if(l7(e))return{chordLine:t,lyricsLine:e};const s=ie(t),l=ie(e),a=l.chordPositions.map((m,y,g)=>l.lyrics.substring(m,g[y+1]));let u="",c="",f,d;if(s.allBars.forEach((m,y)=>{m.allChords.forEach((g,w,x)=>{if(d=a.shift(),d){u=w===0&&i&&m.shouldPrintBarTimeSignature?m.timeSignature.string+re.spacesAfterTimeSignature:"";const C=y===0&&w===0&&l.chordPositions[0]===0;f=p(m,g,C),d=h(C,g.isFirstOfSubBeat);const O=w===x.length-1,k=x[w+1]&&x[w+1].isFirstOfSubBeat;if(d.length-f.length>0){const I=a.length===0;g.spacesAfter=v(O,I,k)}else g.spacesAfter=If,d+=re.lyricsSpacer.repeat(S(O,k));c+=d}else g.spacesAfter=If;g.spacesWithin=0})}),a7(l)){const m=l.chordPositions[0];s.offset=m,n&&s.offset--,c=l.lyrics.substring(0,m)+c}return a.length&&(c+=a.join("")),l.lyrics=u7(c),{chordLine:s,lyricsLine:l};function p(m,y,g){let w=u+hp(m,y,{shouldPrintSubBeatDelimiters:y.isLastOfSubBeat&&r,symbolType:o});return g&&(r&&y.isFirstOfSubBeat&&(w=re.subBeatGroupOpener+w),n&&(w=re.barSeparator+w)),w}function h(m,y){let g=d;if(c7(g))g=re.lyricsSpacer.repeat(f.length-1)+g;else{if(m){let w=0;n&&w++,r&&y&&w++,g=re.lyricsSpacer.repeat(w)+g}u.length&&(g=" ".repeat(u.length)+g)}return g}function v(m,y,g){let w=d.length-f.length;return(m&&n&&!y||!m&&r&&g)&&(w>1?w-=1:d+=re.lyricsSpacer),w}function S(m,y){let g=f.length-d.length+If;return(m&&n||y)&&g++,g}}const l7=t=>t.chordPositions.length===0,a7=t=>t.chordPositions[0]>0,u7=t=>{const e=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;return t.replace(e,"")},c7=t=>t.indexOf(" ")===0,f7=({chordLineOffset:t,chordLine:e,symbolType:n})=>{const r=["cmChordLine"];return n==="roman"&&r.push("cmChordLine-romanNumeral"),`<span class="${r.join(" ")}">${t?`<span class="cmChordLineOffset">${t}</span>`:""}${e}</span>`},d7=({chordSymbol:t,chordDuration:e,subBeatGroupOpener:n,subBeatGroupCloser:r,numeralType:i})=>{const o=n?`<span class="cmSubBeatGroupOpener">${n}</span>`:"",s=r?`<span class="cmSubBeatGroupCloser">${r}</span>`:"",l=["cmChordSymbol"];return i&&l.push("cmRomanNumeral",`cmRomanNumeral-${i}`),`${o}<span class="${l.join(" ")}">${t}${e?`<span class="cmChordDuration">${e}</span>`:""}</span>${s}`};function p7(t,{shouldPrintChordsDuration:e=!1,shouldPrintSubBeatOpener:n=!1,shouldPrintSubBeatCloser:r=!1,symbolType:i="chord"}){const o=i==="chord"||t.model===re.barRepeat||t.model===re.noChordSymbol,s=o?t.symbol:t.model.numeral.symbol;return d7({chordSymbol:s,chordDuration:e?re.chordBeat.repeat(t.duration):!1,subBeatGroupOpener:n?re.subBeatGroupOpener:"",subBeatGroupCloser:r?re.subBeatGroupCloser:"",numeralType:o?"":t.model.numeral.type})}const h7=({timeSignature:t})=>`<span class="cmTimeSignature">${t}</span>`;function yb(t){return h7({timeSignature:t.string})}const m7=({barContent:t})=>`${t}`,p1=" ",g7=0,y7=2;function v7(t,e=!1,{shouldPrintBarSeparators:n=!0,shouldPrintSubBeatDelimiters:r=!0,shouldPrintTimeSignature:i=!1,symbolType:o="chord"}={}){let s=0,l=0,a="";return i&&(a+=yb(t.timeSignature)+" ".repeat(re.spacesAfterTimeSignature)),a+=t.allChords.reduce((u,c,f)=>{s=oo(c.spacesWithin)?c.spacesWithin:g7,l=oo(c.spacesAfter)?c.spacesAfter:y7,u+=p7(c,{shouldPrintChordsDuration:c.isInSubBeatGroup?!1:t.shouldPrintChordsDuration,shouldPrintSubBeatOpener:r&&c.isFirstOfSubBeat,shouldPrintSubBeatCloser:r&&c.isLastOfSubBeat,symbolType:o}),d()&&(u+=p1.repeat(s)+p1.repeat(l));function d(){const p=S7(t,f)&&e;return!p||p&&n}return u},""),m7({barContent:a})}function S7(t,e){return!t.allChords[e+1]}const w7=({barSeparator:t})=>`<span class="cmBarSeparator">${t}</span>`;function E7(t,{shouldPrintBarSeparators:e=!0,shouldPrintSubBeatDelimiters:n=!0,shouldPrintInlineTimeSignatures:r=!0,symbolType:i="chord"}={}){const o=t.allBars.map((u,c)=>{const f=!t.allBars[c+1],d=r&&u.shouldPrintBarTimeSignature;return v7(u,f,{shouldPrintBarSeparators:e,shouldPrintSubBeatDelimiters:n,shouldPrintTimeSignature:d,symbolType:i})}),s=e?w7({barSeparator:re.barSeparator}):"",l=s+o.join(s)+s,a=re.chordLineOffsetSpacer.repeat(t.offset||0);return f7({chordLineOffset:a,chordLine:l,symbolType:i})}const C7=({chordLyricsPairs:t})=>{let e='<span class="cmChordLyricLine">';return t.forEach(n=>{e+=`<span class="cmChordLyricPair"><span class="cmChordLine">${n.chords||"&nbsp;"}</span><span class="cmLyricLine">${n.lyrics}</span></span>`}),e+="</span>",e};var b7=$u,x7=hm,O7=mm,T7=Si,k7=Po,h1=Du,A7=Math.min;function _7(t,e,n){for(var r=n?O7:x7,i=t[0].length,o=t.length,s=o,l=Array(o),a=1/0,u=[];s--;){var c=t[s];s&&e&&(c=T7(c,k7(e))),a=A7(c.length,a),l[s]=!n&&(e||i>=120&&c.length>=120)?new b7(s&&c):void 0}c=t[0];var f=-1,d=l[0];e:for(;++f<i&&u.length<a;){var p=c[f],h=e?e(p):p;if(p=n||p!==0?p:0,!(d?h1(d,h):r(u,h,n))){for(s=o;--s;){var v=l[s];if(!(v?h1(v,h):r(t[s],h,n)))continue e}d&&d.push(h),u.push(p)}}return u}var N7=_7,M7=Mu;function I7(t){return M7(t)?t:[]}var P7=I7,$7=Si,D7=N7,R7=Ao,L7=P7,F7=R7(function(t){var e=$7(t,L7);return e.length&&e[0]===t[0]?D7(e):[]}),B7=F7;const z7=xe(B7);function j7(t){return Fu.sanitize(t,{RETURN_DOM_FRAGMENT:!0}).firstChild}const U7=["cmChordSymbol","cmTimeSignature","cmBarSeparator","cmSubBeatGroupOpener","cmSubBeatGroupCloser"];function V7(t,e){const n=W7(t),r=H7(e),i=G7(n,r),o=K7(i,n,r);return C7({chordLyricsPairs:o})}function W7(t){const e=j7(t),n=[];return vb(e,n,{i:0}),n}function vb(t,e,n){t.childNodes.forEach(r=>{if(r.nodeType===Node.TEXT_NODE){const i=r.textContent;for(const o of i)e.push(_s(o,n.i)),n.i++}else U7.includes(r.classList.value)?(e.push(_s(r.textContent,n.i,r.outerHTML)),n.i+=r.textContent.length):vb(r,e,n)})}function _s(t,e,n){return{text:t,textIndex:e,html:n}}function H7(t){const e=[],n=lb(t);let r="";return Array.from(n).forEach((i,o)=>{i===" "?(r&&(e.push(_s(r,o-r.length)),r=""),e.push(_s(" ",o))):r+=i}),e.push(_s(r,n.length-r.length)),e}function G7(t,e){const n=m1(t),r=m1(e),i=z7(n,r);let o,s;io(n)>io(r)?(s=n,o=r):(s=r,o=n);const l=s.filter(a=>a>io(o));return l.length&&i.push(...l),i.shift(),i}function m1(t){const e=t.map(r=>r.textIndex),n=t.reduce((r,i)=>r+i.text,"").length;return e.push(n),e}function K7(t,e,n){const r=[];return t.forEach(i=>{let o="",s="";for(;e.length&&e[0].textIndex<i;){const l=e.shift();o+=l.html||l.text}for(;n.length&&n[0].textIndex<i;){const l=n.shift();s+=l.text}r.push({chords:o,lyrics:s})}),r}const q7=()=>'<span class="cmEmptyLine">&nbsp;</span>';function Y7(){return q7()}const J7=({keyDeclarationPrefix:t,key:e})=>`<span class="cmKeyDeclaration">${t}${e}</span>`;function Q7(t){return J7({keyDeclarationPrefix:re.keyDeclarationPrefix,key:t.symbol})}const X7=({line:t,lineClasses:e,shouldOpenSection:n,sectionWrapperClasses:r,shouldClosePriorSection:i,shouldCloseFinalSection:o})=>{let s="";return i&&(s+="</div>"),n&&(s+=`<div class="${r}">`),s+=`<p class="${e}">${t}</p>`,o&&(s+="</div>"),s};function Z7(t,{isFromAutoRepeatChords:e=!1,isFromChordLineRepeater:n=!1,isFromSectionCopy:r=!1,isFromSectionMultiply:i=!1,shouldOpenSection:o=!1,shouldClosePriorSection:s=!1,shouldCloseFinalSection:l=!1,sectionWrapperClasses:a=[]}={}){const u=["cmLine"];return e&&u.push("cmLine--isFromAutoRepeatChords"),n&&u.push("cmLine--isFromChordLineRepeater"),r&&u.push("cmLine--isFromSectionCopy"),i&&u.push("cmLine--isFromSectionMultiply"),X7({line:t,lineClasses:u.join(" "),shouldOpenSection:o,sectionWrapperClasses:a.join(" "),shouldClosePriorSection:s,shouldCloseFinalSection:l})}const eH=({lyricLine:t})=>`<span class="cmLyricLine">${t}</span>`;function tH(t,{alignChordsWithLyrics:e=!1,chartType:n="all"}={}){const r=nH(e,n)?t.model.lyrics.trim():t.model.lyrics;return eH({lyricLine:r})}const nH=(t,e)=>!t||e==="lyrics",rH=({label:t,multiplier:e})=>`<span class="cmSectionLabel">${t}${e?`<span class="cmSectionMultiplier"> ${e}</span>`:""}</span>`;function iH(t){return rH(t.model.rendered)}const oH=({song:t})=>`<div class="cmSong">${t}</div>`,g1={a:"adlib",b:"bridge",c:"chorus",i:"intro",o:"outro",p:"pre-chorus",s:"solo",u:"interlude",v:"verse"};function sH(t,{expandSectionMultiply:e}){const n=lH(t);return t.forEach(r=>{if(r.type===V.SECTION_LABEL){const{model:i,index:o,indexWithoutMultiply:s}=r,l=g1[i.label]?g1[i.label]:i.label;let a=l[0].toUpperCase()+l.substring(1),u;n[i.label]>1&&(a+=" ",a+=e?o:s),!e&&i.multiplyTimes&&(u="x"+i.multiplyTimes),r.model.rendered={label:a,multiplier:u}}}),t}function lH(t){const e={};return t.filter(n=>n.type===V.SECTION_LABEL).forEach(n=>{e[n.model.label]?e[n.model.label]++:e[n.model.label]=1}),e}const aH=QC();function uH(t,e=aH){switch(t){case ce.noChord:return re.noChordSymbol;case re.barRepeat:return re.barRepeat;default:return e(t)}}function cH(t,e,{transposeValue:n,accidentalsType:r,chordSymbolRenderer:i,simplifyChords:o,useShortNamings:s}){let l,a;e&&(l=f1(e,n,r));let u=d();function c(p){if(p.type===V.KEY_DECLARATION)l=f1(p.model,n,r),p.symbol=l.string,a||(a=l);else if(p.type===V.CHORD){let h=0;f(p)&&(h=jW(a&&a.string,l&&l.string)),u=d(h),p.model.allBars.forEach(v=>{v.allChords.forEach(S=>{S.symbol=uH(S.model,u)})})}return p}function f(p){const h=l&&p.model.originalKey&&p.model.originalKey.string===l.string;return(p.isFromAutoRepeatChords||p.isFromSectionCopy||p.isFromChordLineRepeater)&&!h}function d(p){if(typeof i=="function")return i;const h=r==="auto"?l?l.accidental:"sharp":r;return QC({simplify:o,useShortNamings:s,transposeValue:n+p,accidental:h})}return t.map(c)}const fH=(t,{alignChordsWithLyrics:e})=>(t.type===V.CHORD&&t.model.allBars.forEach(n=>{dH(t,n,e)&&(n.allChords=[{string:re.barRepeat,model:re.barRepeat,symbol:re.barRepeat,duration:n.timeSignature.beatCount,beat:1}],n.shouldPrintChordsDuration=!1)}),t),dH=(t,e,n)=>e.isRepeated&&!pH(t,e,n),pH=(t,e,n)=>n&&t.model.hasPositionedChords&&e.allChords.length>1&&e.allChords.some(r=>r.isPositioned);function dY(t,{accidentalsType:e="auto",alignBars:n=!0,alignChordsWithLyrics:r=!0,autoRepeatChords:i=!0,chartType:o="all",chordSymbolRenderer:s=!1,customRenderer:l=!1,expandSectionCopy:a=!0,expandSectionMultiply:u=!1,printChordsDuration:c="uneven",printBarSeparators:f="always",printSubBeatDelimiters:d=!0,printInlineTimeSignatures:p=!0,simplifyChords:h="none",symbolType:v="chord",transposeValue:S=0,useShortNamings:m=!0,wrapChordLyricLines:y=!1}={}){let{allLines:g,allKeys:w}=t,x=!1,C=ub.string,O;g=cH(g,w.auto,{transposeValue:S,accidentalsType:e,chordSymbolRenderer:s,simplifyChords:h,useShortNamings:m}).map(J).map(T).filter(G).map(P=>fH(P,{alignChordsWithLyrics:r}));const k=e7(g,{shouldAlignChordsWithLyrics:W,shouldPrintSubBeatDelimiters:d,symbolType:v});g=sH(g,{expandSectionMultiply:u}),g.forEach(D);const I=F();if(l)return l(g,I,{alignChordsWithLyrics:r,alignBars:n});return oH({song:I.join("")});function M(P){return["cmSection","cmSection-"+P.model.rendered.label.replace(/[\d\s]/gi,"")]}function J(P){return P.type===V.CHORD&&P.model.allBars.forEach(Q=>{Q.shouldPrintChordsDuration=B(Q)}),P}function T(P){return P.type===V.TIME_SIGNATURE?C=P.string:P.type===V.CHORD&&P.model.allBars.forEach((Q,X)=>{Q.shouldPrintBarTimeSignature=X===0&&Q.timeSignature.string!==C||X>0&&Q.timeSignature.string!==O,O=Q.timeSignature.string}),P}function B(P){return P.allChords.length>1&&(c==="uneven"&&P.hasUnevenChordsDurations||c==="always")}function G(P){return q(P)&&!De(P)}function q(P){const Q=!i&&(P.isFromAutoRepeatChords||P.type===V.CHORD&&P.isFromSectionCopy),X=P.isFromSectionMultiply&&!u,_e=P.type!==V.SECTION_LABEL&&P.isFromSectionCopy&&!a;return!X&&!Q&&!_e}function he(P){return g.length-1===P}function De(P){if(o==="chordsFirstLyricLine"){if(P.type===V.SECTION_LABEL)return x=!0,!1;if(x&&P.type===V.LYRIC)return x=!1,!1}return["chords","chordsFirstLyricLine"].includes(o)&&P.type===V.LYRIC||o==="lyrics"&&P.type===V.CHORD}function D(P,Q){if(P.type===V.CHORD){let X=n&&!W(P)?n7(P.model,k,{shouldPrintBarSeparators:ue(P.model),shouldPrintSubBeatDelimiters:d,symbolType:v}):t7(P.model);const _e=g[Q+1];if(W(P)){const{chordLine:ge,lyricsLine:An}=s7(X,_e.model,{shouldPrintBarSeparators:ue(P.model),shouldPrintSubBeatDelimiters:d,shouldPrintInlineTimeSignatures:p,symbolType:v});g[Q+1].model=An,X=ge}g[Q].model=X}}function F(){let P=!1,Q;return g.map((X,_e)=>{let ge,An=!1,pn=[],_t;return X.type===V.CHORD?(ge=E7(X.model,{symbolType:v,shouldPrintBarSeparators:ue(X.model),shouldPrintSubBeatDelimiters:d,shouldPrintInlineTimeSignatures:p}),K(X,g[_e+1])&&(Q=ge,ge=!1)):X.type===V.EMPTY_LINE?ge=Y7():X.type===V.SECTION_LABEL?(An=!0,_t=P,P=!0,pn=M(X),ge=iH(X)):X.type===V.TIME_SIGNATURE?ge=yb(X):X.type===V.KEY_DECLARATION?ge=Q7(X):(ge=tH(X,{alignChordsWithLyrics:r,chartType:o}),Q&&(ge=V7(Q,ge),Q="")),ge&&Z7(ge,{isFromSectionMultiply:X.isFromSectionMultiply,isFromAutoRepeatChords:X.isFromAutoRepeatChords,isFromChordLineRepeater:X.isFromChordLineRepeater,isFromSectionCopy:X.isFromSectionCopy,shouldOpenSection:An,shouldClosePriorSection:_t,shouldCloseFinalSection:he(_e)&&P,sectionWrapperClasses:pn})}).filter(Boolean)}function W(P){return o==="all"&&r&&P.model.hasPositionedChords}function K(P,Q){return Q&&Q.type===V.LYRIC&&y&&W(P)}function ue(P){return f==="always"||f==="grids"&&!P.hasPositionedChords}}const pY=(t={})=>hH.bind(null,t),hH=({showBarSeparators:t=!0},e,n,{alignBars:r,alignChordsWithLyrics:i})=>{const o=[];let s;return mH(e).forEach((l,a)=>{l.sectionLine&&(l.allLines.length>0?(a>0&&o.push(""),o.push(gH(l.sectionLine))):o.push(Eb(wb(l.sectionLine.model.rendered)))),l.allLines.forEach((u,c,f)=>{switch(u.type){case V.CHORD:vH(f,c)?s=u:o.push(SH(u));break;case V.LYRIC:o.push(wH(u,s,{showBarSeparators:t,alignChordsWithLyrics:i,alignBars:r})),s=void 0;break;case V.EMPTY_LINE:o.push(""),s=void 0;break}}),l.sectionLine&&l.allLines.length>0&&o.push(yH(l.sectionLine))}),o.join(`
`)},mH=t=>{const e=[];let n;const r=()=>{n&&(e.push(n),n=void 0)},i=o=>{n={sectionLine:o,allLines:[]}};return t.forEach(o=>{o.type===V.SECTION_LABEL?(r(),i(o)):(n||i(),n.allLines.push(o))}),r(),e.map(o=>(o.allLines=nb(o.allLines,s=>s.type===V.EMPTY_LINE),o))};function gH(t){return`{start_of_${Sb(t.model.label)}: ${wb(t.model.rendered)}}`}function yH(t){return`{end_of_${Sb(t.model.label)}}`}function Sb(t){switch(t){case"b":case"bridge":return"bridge";case"c":case"chorus":return"chorus";default:case"v":case"verse":return"verse"}}function wb({label:t,multiplier:e}){return e?`${t} ${e}`:t}function Eb(t){return`{c:${t}}`}function vH(t,e){const n=t[e+1];return n&&n.type===V.LYRIC}function SH(t){let e="";return t.model.allBars.map(n=>{e+="|",n.allChords.map(r=>{e+=r.symbol+" ".repeat(r.spacesWithin+r.spacesAfter)})}),e+="|",Eb(e.trim())}function wH(t,e,{alignChordsWithLyrics:n,alignBars:r,showBarSeparators:i}){let o=t.string.trim();return e&&e.type===V.CHORD&&(e.model.hasPositionedChords&&n?o=EH(o,e,{showBarSeparators:i}):o=CH(o,e,{showBarSeparators:i,alignBars:r})),o}const EH=(t,e,{showBarSeparators:n})=>{let r=t;return e.model.allBars.map(i=>{i.allChords.map((o,s)=>{let[l]=Cb(i,o);if(s===0&&n){const a=r.indexOf("_");a>-1?r=ni(r,"[|] ",a):r=ni(r,"[|]",r.length+1)}r.indexOf("_")>-1?r=r.replace("_",l):r=ni(r,l,r.length+1)})}),r=r.replace(/_/g,"").trim(),n&&(r+=" [|]"),r},CH=(t,e,{showBarSeparators:n,alignBars:r})=>{let i=t.replace(/_/g,""),o=0;return e.model.allBars.map(s=>{s.allChords.map((l,a)=>{let[u,c]=Cb(s,l);a===0&&n&&(i=ni(i,"[|]",o),o+=5),i=ni(i,u,o);const f=r&&!s.allChords[a+1]?1:0;o+=u.length+c.length+l.spacesAfter+l.spacesWithin+f})}),n&&(i=ni(i,"[|]",o)),i},Cb=(t,e)=>{const n=t.shouldPrintChordsDuration?e.symbol+".".repeat(e.duration):e.symbol;return[`[${n}]`,n]},hY=()=>bH.bind(null),bH=(t,e)=>e.map((n,r)=>{const i=t[r],o=TC(n);return i.type===V.SECTION_LABEL?`[${o}]`:i.type===V.CHORD?xH(i,o):o.replace("&nbsp;","")}).join(`
`),xH=(t,e)=>{const n=/([^\s.|]+)/g;return e.replace(n,"[ch]$1[/ch]")};/**
 * filesize
 *
 * @copyright 2023 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 10.1.0
 */const OH="array",TH="bit",y1="bits",kH="byte",v1="bytes",Mi="",AH="exponent",_H="function",S1="iec",NH="Invalid number",MH="Invalid rounding method",Pf="jedec",IH="object",w1=".",PH="round",$H="s",DH="si",RH="kbit",LH="kB",FH=" ",BH="string",zH="0",$f={symbol:{iec:{bits:["bit","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["bit","Kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},fullform:{iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]}};function mY(t,{bits:e=!1,pad:n=!1,base:r=-1,round:i=2,locale:o=Mi,localeOptions:s={},separator:l=Mi,spacer:a=FH,symbols:u={},standard:c=Mi,output:f=BH,fullform:d=!1,fullforms:p=[],exponent:h=-1,roundingMethod:v=PH,precision:S=0}={}){let m=h,y=Number(t),g=[],w=0,x=Mi;c===DH?(r=10,c=Pf):c===S1||c===Pf?r=2:r===2?c=S1:(r=10,c=Pf);const C=r===10?1e3:1024,O=d===!0,k=y<0,I=Math[v];if(typeof t!="bigint"&&isNaN(t))throw new TypeError(NH);if(typeof I!==_H)throw new TypeError(MH);if(k&&(y=-y),(m===-1||isNaN(m))&&(m=Math.floor(Math.log(y)/Math.log(C)),m<0&&(m=0)),m>8&&(S>0&&(S+=8-m),m=8),f===AH)return m;if(y===0)g[0]=0,x=g[1]=$f.symbol[c][e?y1:v1][m];else{w=y/(r===2?Math.pow(2,m*10):Math.pow(1e3,m)),e&&(w=w*8,w>=C&&m<8&&(w=w/C,m++));const M=Math.pow(10,m>0?i:0);g[0]=I(w*M)/M,g[0]===C&&m<8&&h===-1&&(g[0]=1,m++),x=g[1]=r===10&&m===1?e?RH:LH:$f.symbol[c][e?y1:v1][m]}if(k&&(g[0]=-g[0]),S>0&&(g[0]=g[0].toPrecision(S)),g[1]=u[g[1]]||g[1],o===!0?g[0]=g[0].toLocaleString():o.length>0?g[0]=g[0].toLocaleString(o,s):l.length>0&&(g[0]=g[0].toString().replace(w1,l)),n&&Number.isInteger(g[0])===!1&&i>0){const M=l||w1,J=g[0].toString().split(M),T=J[1]||Mi,B=T.length,G=i-B;g[0]=`${J[0]}${M}${T.padEnd(B+G,zH)}`}return O&&(g[1]=p[m]?p[m]:$f.fullform[c][m]+(e?TH:kH)+(g[0]===1?Mi:$H)),f===OH?g:f===IH?{value:g[0],symbol:g[1],exponent:m,unit:x}:g.join(a)}var bb={exports:{}};(function(t,e){(function(n,r){r()})(Sn,function(){function n(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,c,f){var d=new XMLHttpRequest;d.open("GET",u),d.responseType="blob",d.onload=function(){a(d.response,c,f)},d.onerror=function(){console.error("could not download file")},d.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function o(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Sn=="object"&&Sn.global===Sn?Sn:void 0,l=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(u,c,f){var d=s.URL||s.webkitURL,p=document.createElement("a");c=c||u.name||"download",p.download=c,p.rel="noopener",typeof u=="string"?(p.href=u,p.origin===location.origin?o(p):i(p.href)?r(u,c,f):o(p,p.target="_blank")):(p.href=d.createObjectURL(u),setTimeout(function(){d.revokeObjectURL(p.href)},4e4),setTimeout(function(){o(p)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,f){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,f),c);else if(i(u))r(u,c,f);else{var d=document.createElement("a");d.href=u,d.target="_blank",setTimeout(function(){o(d)})}}:function(u,c,f,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof u=="string")return r(u,c,f);var p=u.type==="application/octet-stream",h=/constructor/i.test(s.HTMLElement)||s.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||p&&h||l)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var g=S.result;g=v?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=g:location=g,d=null},S.readAsDataURL(u)}else{var m=s.URL||s.webkitURL,y=m.createObjectURL(u);d?d.location=y:location.href=y,d=null,setTimeout(function(){m.revokeObjectURL(y)},4e4)}});s.saveAs=a.saveAs=a,t.exports=a})})(bb);var gY=bb.exports;const yY=()=>t=>(t.formatted.symbol=t.formatted.symbol.replace(/[() ]/g,"").replace("mM","mMaj").replace("","dim"),t);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var mp=function(){return mp=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},mp.apply(this,arguments)},xb=Ra.createContext({registerNode:function(t,e){},unregisterNode:function(t,e){},onScroll:function(t,e){}}),jH=function(t){var e=H.useRef({}),n=e.current,r=H.useRef(!0),i=r.current,o=function(d){return!!n[d]},s=function(d,p){var h=o(p);if(!h)return!1;var v=n[p].find(function(S){return S.node===d});return v?!!v:!1},l=function(d,p){p.forEach(function(h){var v=o(h);v||(n[h]=[]),n[h].push(mp({},d))})},a=function(d,p){p.forEach(function(h){var v=s(d.node,h);v&&n[h].splice(n[h].findIndex(function(S){return d.node===S.node}),1)})},u=function(d,p){if(!(!d||!p)){var h=d.scrollTop,v=d.scrollHeight,S=d.offsetHeight,m=d.scrollLeft,y=d.scrollWidth;d.offsetLeft;var g=d.offsetWidth;if(!t.proportional){p.scrollLeft=m,p.scrollTop=h;return}var w=h/(v-S),x=m/(y-g);p.scrollTop=Math.round(w*(p.scrollHeight-p.offsetHeight)),p.scrollLeft=Math.round(x*(p.scrollWidth-p.offsetWidth))}},c=function(d,p){p.forEach(function(h){n[h].forEach(function(v){if(d!==v.node){var S=v.scroll==="two-way",m=v.scroll==="synced-only";(S||m)&&u(d,v.node)}})})},f=function(d,p){i&&(window.requestAnimationFrame(function(){c(d,p),i=!0}),i=!1)};return Ra.createElement(xb.Provider,{value:{registerNode:l,unregisterNode:a,onScroll:function(d,p){return!t.disabled&&f(d.currentTarget,p)}}},Ra.Children.only(t.children))};jH.defaultProps={disabled:!1,proportional:!0};var Br=function(t){return[].concat(t)},UH=function(t){return t.deltaX>0||t.deltaX<0?"X":t.deltaY>0||t.deltaY<0?"Y":(t.deltaY>0||t.deltaY<0)&&(t.deltaX>0||t.deltaX<0)?"XY":null},VH=H.forwardRef(function(t,e){var n=t.children,r=t.group,i=r===void 0?"default":r,o=t.scroll,s=o===void 0?"two-way":o,l=t.selfLockAxis,a=l===void 0?null:l,u=t.onScroll,c=u===void 0?function(){}:u,f=H.useContext(xb),d=f.registerNode,p=f.unregisterNode,h=f.onScroll,v=n.ref,S=v!=null&&e!=null;S&&console.warn(`scroll-sync-react:
WARNING: ref used on both ScrollSyncNode and its direct child.
Using the ref from the ScrollSyncNode component.`);var m=v&&!e?v:H.useRef(null);H.useEffect(function(){typeof e=="function"&&e(m.current)},[]);var y=function(x){var C=UH(x);(a==="X"&&C==="X"||a==="Y"&&C==="Y"||a==="XY"&&(C==="XY"||C==="X"||C==="Y"))&&x.preventDefault()};H.useEffect(function(){var x,C={node:m.current,scroll:s};return C&&d(C,Br(i)),(x=m.current)===null||x===void 0||x.addEventListener("wheel",y,{passive:!1}),function(){var O;p(C,Br(i)),(O=m.current)===null||O===void 0||O.removeEventListener("wheel",y)}},[]),H.useEffect(function(){var x={node:m.current,scroll:s};return p(x,Br(i)),d(x,Br(i)),function(){return p(x,Br(i))}},[s,i]);var g=s==="syncer-only",w=s==="two-way";return Ra.cloneElement(n,{ref:m,onScroll:function(x){typeof n.props.onScroll=="function"&&n.props.onScroll(x),x.persist(),(g||w)&&(h(x,Br(i)),c(x))},onWheel:function(x){typeof n.props.onWheel=="function"&&n.props.onWheel(x),x.persist(),(g||w)&&(h(x,Br(i)),c(x))}})});VH.displayName="ScrollSyncNode";function Ke(t){this.content=t}Ke.prototype={constructor:Ke,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Ke(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Ke(n)},addToStart:function(t,e){return new Ke([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Ke(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Ke(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ke.from(t),t.size?new Ke(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ke.from(t),t.size?new Ke(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ke.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Ke.from=function(t){if(t instanceof Ke)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Ke(e)};function Ob(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=Ob(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function Tb(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),l=e.child(--o),a=s.nodeSize;if(s==l){n-=a,r-=a;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let u=0,c=Math.min(s.text.length,l.text.length);for(;u<c&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let u=Tb(s.content,l.content,n-1,r-1);if(u)return u}n-=a,r-=a}}class ${constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,l=0;l<n;s++){let a=this.content[s],u=l+a.nodeSize;if(u>e&&r(a,i+l,o||null,s)!==!1&&a.content.size){let c=l+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,n-c),r,i+c)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(l,a)=>{let u=l.isText?l.text.slice(Math.max(e,a)-a,n-a):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(s?s=!1:o+=r),o+=u},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new $(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let l=this.content[o],a=s+l.nodeSize;a>e&&((s<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),r.push(l),i+=l.nodeSize),s=a}return new $(r,i)}cutByIndex(e,n){return e==n?$.empty:e==0&&n==this.content.length?this:new $(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new $(i,o)}addToStart(e){return new $([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new $(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return Ob(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return Tb(this,e,n,r)}findIndex(e,n=-1){if(e==0)return oa(0,e);if(e==this.size)return oa(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?oa(r+1,s):oa(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return $.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new $(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return $.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new $(n||e,r)}static from(e){if(!e)return $.empty;if(e instanceof $)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new $([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}$.empty=new $([],0);const Df={index:0,offset:0};function oa(t,e){return Df.index=t,Df.offset=e,Df}function pu(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!pu(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!pu(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class se{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&pu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return se.none;if(e instanceof se)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}se.none=[];class hu extends Error{}class z{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=Ab(this.content,e+this.openStart,n);return r&&new z(r,this.openStart,this.openEnd)}removeBetween(e,n){return new z(kb(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return z.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new z($.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new z(e,r,i)}}z.empty=new z($.empty,0,0);function kb(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:l}=t.findIndex(n);if(i==e||o.isText){if(l!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(kb(o.content,e-i-1,n-i-1)))}function Ab(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let l=Ab(s.content,e-o-1,n);return l&&t.replaceChild(i,s.copy(l))}function WH(t,e,n){if(n.openStart>t.depth)throw new hu("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new hu("Inconsistent open depths");return _b(t,e,n,0)}function _b(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=_b(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,l=s.content;return ii(s,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=HH(n,t);return ii(o,Mb(t,s,l,e,r))}else return ii(o,mu(t,e,r))}function Nb(t,e){if(!e.type.compatibleContent(t.type))throw new hu("Cannot join "+e.type.name+" onto "+t.type.name)}function gp(t,e,n){let r=t.node(n);return Nb(r,e.node(n)),r}function ri(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Ns(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(ri(t.nodeAfter,r),o++));for(let l=o;l<s;l++)ri(i.child(l),r);e&&e.depth==n&&e.textOffset&&ri(e.nodeBefore,r)}function ii(t,e){return t.type.checkContent(e),t.copy(e)}function Mb(t,e,n,r,i){let o=t.depth>i&&gp(t,e,i+1),s=r.depth>i&&gp(n,r,i+1),l=[];return Ns(null,t,i,l),o&&s&&e.index(i)==n.index(i)?(Nb(o,s),ri(ii(o,Mb(t,e,n,r,i+1)),l)):(o&&ri(ii(o,mu(t,e,i+1)),l),Ns(e,n,i,l),s&&ri(ii(s,mu(n,r,i+1)),l)),Ns(r,null,i,l),new $(l)}function mu(t,e,n){let r=[];if(Ns(null,t,n,r),t.depth>n){let i=gp(t,e,n+1);ri(ii(i,mu(t,e,n+1)),r)}return Ns(e,null,n,r),new $(r)}function HH(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy($.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class il{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return se.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new KH(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:l,offset:a}=s.content.findIndex(o),u=o-a;if(r.push(s,l,i+a),!u||(s=s.child(l),s.isText))break;o=u-1,i+=a+1}return new il(n,r,o)}static resolveCached(e,n){for(let i=0;i<Rf.length;i++){let o=Rf[i];if(o.pos==n&&o.doc==e)return o}let r=Rf[Lf]=il.resolve(e,n);return Lf=(Lf+1)%GH,r}}let Rf=[],Lf=0,GH=12;class KH{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const qH=Object.create(null);let oi=class yp{constructor(e,n,r,i=se.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||$.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&pu(this.attrs,n||e.defaultAttrs||qH)&&se.sameSet(this.marks,r||se.none)}copy(e=null){return e==this.content?this:new yp(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new yp(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return z.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),l=i.start(s),u=i.node(s).content.cut(i.pos-l,o.pos-l);return new z(u,i.depth-s,o.depth-s)}replace(e,n,r){return WH(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return il.resolveCached(this,e)}resolveNoCache(e){return il.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),Ib(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=$.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=i;a<o;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=se.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!se.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=$.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}};oi.prototype.text=void 0;class gu extends oi{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):Ib(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new gu(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new gu(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function Ib(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class pi{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new YH(e,n);if(r.next==null)return pi.empty;let i=Pb(r);r.next&&r.err("Unexpected trailing text");let o=nG(tG(i));return rG(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,l){let a=s.matchFragment(e,r);if(a&&(!n||a.validEnd))return $.from(l.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:f}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,l.concat(c));if(d)return d}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let l=i;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:l,next:a}=o.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}pi.empty=new pi(!0);class YH{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Pb(t){let e=[];do e.push(JH(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function JH(t){let e=[];do e.push(QH(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function QH(t){let e=eG(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=XH(t,e);else break;return e}function E1(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function XH(t,e){let n=E1(t),r=n;return t.eat(",")&&(t.next!="}"?r=E1(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function ZH(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function eG(t){if(t.eat("(")){let e=Pb(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=ZH(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function tG(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,l,a){let u={term:a,to:l};return e[s].push(u),u}function i(s,l){s.forEach(a=>a.to=l)}function o(s,l){if(s.type=="choice")return s.exprs.reduce((a,u)=>a.concat(o(u,l)),[]);if(s.type=="seq")for(let a=0;;a++){let u=o(s.exprs[a],l);if(a==s.exprs.length-1)return u;i(u,l=n())}else if(s.type=="star"){let a=n();return r(l,a),i(o(s.expr,a),a),[r(a)]}else if(s.type=="plus"){let a=n();return i(o(s.expr,l),a),i(o(s.expr,a),a),[r(a)]}else{if(s.type=="opt")return[r(l)].concat(o(s.expr,l));if(s.type=="range"){let a=l;for(let u=0;u<s.min;u++){let c=n();i(o(s.expr,a),c),a=c}if(s.max==-1)i(o(s.expr,a),a);else for(let u=s.min;u<s.max;u++){let c=n();r(a,c),i(o(s.expr,a),c),a=c}return[r(a)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function $b(t,e){return e-t}function C1(t,e){let n=[];return r(e),n.sort($b);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:l,to:a}=o[s];!l&&n.indexOf(a)==-1&&r(a)}}}function nG(t){let e=Object.create(null);return n(C1(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:l,to:a})=>{if(!l)return;let u;for(let c=0;c<i.length;c++)i[c][0]==l&&(u=i[c][1]);C1(t,a).forEach(c=>{u||i.push([l,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[r.join(",")]=new pi(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let l=i[s][1].sort($b);o.next.push({type:i[s][0],next:e[l.join(",")]||n(l)})}return o}}function rG(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let l=0;l<i.next.length;l++){let{type:a,next:u}=i.next[l];s.push(a.name),o&&!(a.isText||a.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Db(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function Rb(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Lb(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new iG(t[n]);return e}let b1=class Fb{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Lb(r.attrs),this.defaultAttrs=Db(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==pi.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Rb(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new oi(this,this.computeAttrs(e),$.from(n),se.setFrom(r))}createChecked(e=null,n,r){return n=$.from(n),this.checkContent(n),new oi(this,this.computeAttrs(e),n,se.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=$.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore($.empty,!0);return o?new oi(this,e,n.append(o),se.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:se.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new Fb(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class iG{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class bc{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=Lb(i.attrs),this.excluded=null;let o=Db(this.attrs);this.instance=o?new se(this,o):null}create(e=null){return!e&&this.instance?this.instance:new se(this,Rb(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new bc(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class vY{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Ke.from(e.nodes),n.marks=Ke.from(e.marks||{}),this.nodes=b1.compile(this.spec.nodes,this),this.marks=bc.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",l=o.spec.marks;o.contentMatch=r[s]||(r[s]=pi.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=l=="_"?null:l?x1(this,l.split(" ")):l==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:x1(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof b1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new gu(r,r.defaultAttrs,e,se.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return oi.fromJSON(this,e)}markFromJSON(e){return se.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function x1(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let l in t.marks){let a=t.marks[l];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=a)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class ol{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new T1(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new T1(this,n,!0);return r.addAll(e,n.from,n.to),z.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(lG(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let a=s.getAttrs(n);if(a===!1)continue;s.attrs=a||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=k1(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=k1(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ol(e,ol.schemaRules(e)))}}const Bb={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},oG={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},zb={ol:!0,ul:!0},yu=1,vu=2,Ms=4;function O1(t,e,n){return e!=null?(e?yu:0)|(e==="full"?vu:0):t&&t.whitespace=="pre"?yu|vu:n&~Ms}class sa{constructor(e,n,r,i,o,s,l){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=l,this.content=[],this.activeMarks=se.none,this.stashMarks=[],this.match=s||(l&Ms?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore($.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&yu)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=$.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore($.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):uG(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Bb.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class T1{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=O1(null,n.preserveWhitespace,0)|(r?Ms:0);i?o=new sa(i.type,i.attrs,se.none,se.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new sa(null,null,se.none,se.none,!0,null,s):o=new sa(e.schema.topNodeType,null,se.none,se.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let r=e.getAttribute("style");if(!r)return n();let i=this.readStyles(aG(r));if(!i)return;let[o,s]=i,l=this.top;for(let a=0;a<s.length;a++)this.removePendingMark(s[a],l);for(let a=0;a<o.length;a++)this.addPendingMark(o[a]);n();for(let a=0;a<o.length;a++)this.removePendingMark(o[a],l);for(let a=0;a<s.length;a++)this.addPendingMark(s[a])}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&vu||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&yu)r.options&vu?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;zb.hasOwnProperty(r)&&this.parser.normalizeLists&&sG(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:oG.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,l=this.top,a=this.needsBlock;if(Bb.hasOwnProperty(r))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),s=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}o&&o.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),s&&this.sync(l),this.needsBlock=a}else this.withStyleRules(e,()=>{this.addElementByRule(e,o,o.consuming===!1?i:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=se.none,r=se.none;for(let i=0;i<e.length;i+=2)for(let o=void 0;;){let s=this.parser.matchStyle(e[i],e[i+1],this,o);if(!s)break;if(s.ignore)return null;if(s.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(l=>{s.clearMark(l)&&(r=l.addToSet(r))}):n=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(n),s.consuming===!1)o=s;else break}return[n,r]}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a)}i&&this.sync(l)&&this.open--,s&&this.removePendingMark(s,l)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=O1(e,i,o.options);o.options&Ms&&o.content.length==0&&(s|=Ms),this.nodes.push(new sa(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(l,a)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;a>=o;a--)if(s(l-1,a))return!0;return!1}else{let c=a>0||a==0&&i?this.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;a--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=cG(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function sG(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&zb.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function lG(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function aG(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function k1(t){let e={};for(let n in t)e[n]=t[n];return e}function uG(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=l=>{o.push(l);for(let a=0;a<l.edgeCount;a++){let{type:u,next:c}=l.edge(a);if(u==e||o.indexOf(c)<0&&s(c))return!0}};if(s(i.contentMatch))return!0}}function cG(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class jn{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Ff(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let l=0,a=0;for(;l<o.length&&a<s.marks.length;){let u=s.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(o[l][0])||u.type.spec.spanning===!1)break;l++,a++}for(;l<o.length;)i=o.pop()[1];for(;a<s.marks.length;){let u=s.marks[a++],c=this.serializeMark(u,s.isInline,n);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=jn.renderSpec(Ff(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&jn.renderSpec(Ff(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,l=r?e.createElementNS(r,i):e.createElement(i),a=n[1],u=1;if(a&&typeof a=="object"&&a.nodeType==null&&!Array.isArray(a)){u=2;for(let c in a)if(a[c]!=null){let f=c.indexOf(" ");f>0?l.setAttributeNS(c.slice(0,f),c.slice(f+1),a[c]):l.setAttribute(c,a[c])}}for(let c=u;c<n.length;c++){let f=n[c];if(f===0){if(c<n.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:d,contentDOM:p}=jn.renderSpec(e,f,r);if(l.appendChild(d),p){if(s)throw new RangeError("Multiple content holes");s=p}}}return{dom:l,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new jn(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=A1(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return A1(e.marks)}}function A1(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Ff(t){return t.document||window.document}const jb=65535,Ub=Math.pow(2,16);function fG(t,e){return t+e*Ub}function _1(t){return t&jb}function dG(t){return(t-(t&jb))/Ub}const Vb=1,Wb=2,xa=4,Hb=8;class vp{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Hb)>0}get deletedBefore(){return(this.delInfo&(Vb|xa))>0}get deletedAfter(){return(this.delInfo&(Wb|xa))>0}get deletedAcross(){return(this.delInfo&xa)>0}}class It{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&It.empty)return It.empty}recover(e){let n=0,r=_1(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+dG(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let u=this.ranges[l+o],c=this.ranges[l+s],f=a+u;if(e<=f){let d=u?e==a?-1:e==f?1:n:n,p=a+i+(d<0?0:c);if(r)return p;let h=e==(n<0?a:f)?null:fG(l/3,e-a),v=e==a?Wb:e==f?Vb:xa;return(n<0?e!=a:e!=f)&&(v|=Hb),new vp(p,v,h)}i+=c-u}return r?e+i:new vp(e+i,0,null)}touches(e,n){let r=0,i=_1(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+o],c=a+u;if(e<=c&&l==i*3)return!0;r+=this.ranges[l+s]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],l=s-(this.inverted?o:0),a=s+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];e(l,l+u,a,a+c),o+=c-u}}invert(){return new It(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?It.empty:new It(e<0?[0,-e,0]:[0,0,e])}}It.empty=new It([]);class so{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new so(this.maps,this.mirror,e,n)}copy(){return new so(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new so;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],l=s.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(o);if(a!=null&&a>o&&a<this.to){o=a,e=this.maps[a].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new vp(e,i,null)}}const Bf=Object.create(null);class at{getMap(){return It.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Bf[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Bf)throw new RangeError("Duplicate use of step JSON ID "+e);return Bf[e]=n,n.prototype.jsonID=e,n}}class Ie{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Ie(e,null)}static fail(e){return new Ie(null,e)}static fromReplace(e,n,r,i){try{return Ie.ok(e.replace(n,r,i))}catch(o){if(o instanceof hu)return Ie.fail(o.message);throw o}}}function Sm(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(Sm(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return $.fromArray(r)}class fr extends at{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new z(Sm(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return Ie.fromReplace(e,this.from,this.to,o)}invert(){return new Cn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new fr(n.pos,r.pos,this.mark)}merge(e){return e instanceof fr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new fr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new fr(n.from,n.to,e.markFromJSON(n.mark))}}at.jsonID("addMark",fr);class Cn extends at{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new z(Sm(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Ie.fromReplace(e,this.from,this.to,r)}invert(){return new fr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Cn(n.pos,r.pos,this.mark)}merge(e){return e instanceof Cn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Cn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Cn(n.from,n.to,e.markFromJSON(n.mark))}}at.jsonID("removeMark",Cn);class dr extends at{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ie.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Ie.fromReplace(e,this.pos,this.pos+1,new z($.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new dr(this.pos,n.marks[i]);return new dr(this.pos,this.mark)}}return new bo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new dr(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new dr(n.pos,e.markFromJSON(n.mark))}}at.jsonID("addNodeMark",dr);class bo extends at{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ie.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Ie.fromReplace(e,this.pos,this.pos+1,new z($.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new dr(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new bo(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new bo(n.pos,e.markFromJSON(n.mark))}}at.jsonID("removeNodeMark",bo);class it extends at{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Sp(e,this.from,this.to)?Ie.fail("Structure replace would overwrite content"):Ie.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new It([this.from,this.to-this.from,this.slice.size])}invert(e){return new it(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new it(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof it)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?z.empty:new z(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new it(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?z.empty:new z(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new it(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new it(n.from,n.to,z.fromJSON(e,n.slice),!!n.structure)}}at.jsonID("replace",it);class Dt extends at{constructor(e,n,r,i,o,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=l}apply(e){if(this.structure&&(Sp(e,this.from,this.gapFrom)||Sp(e,this.gapTo,this.to)))return Ie.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Ie.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Ie.fromReplace(e,this.from,this.to,r):Ie.fail("Content does not fit in gap")}getMap(){return new It([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Dt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Dt(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Dt(n.from,n.to,n.gapFrom,n.gapTo,z.fromJSON(e,n.slice),n.insert,!!n.structure)}}at.jsonID("replaceAround",Dt);function Sp(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function pG(t,e,n,r){let i=[],o=[],s,l;t.doc.nodesBetween(e,n,(a,u,c)=>{if(!a.isInline)return;let f=a.marks;if(!r.isInSet(f)&&c.type.allowsMarkType(r.type)){let d=Math.max(u,e),p=Math.min(u+a.nodeSize,n),h=r.addToSet(f);for(let v=0;v<f.length;v++)f[v].isInSet(h)||(s&&s.to==d&&s.mark.eq(f[v])?s.to=p:i.push(s=new Cn(d,p,f[v])));l&&l.to==d?l.to=p:o.push(l=new fr(d,p,r))}}),i.forEach(a=>t.step(a)),o.forEach(a=>t.step(a))}function hG(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;o++;let a=null;if(r instanceof bc){let u=s.marks,c;for(;c=r.isInSet(u);)(a||(a=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(s.marks)&&(a=[r]):a=s.marks;if(a&&a.length){let u=Math.min(l+s.nodeSize,n);for(let c=0;c<a.length;c++){let f=a[c],d;for(let p=0;p<i.length;p++){let h=i[p];h.step==o-1&&f.eq(i[p].style)&&(d=h)}d?(d.to=u,d.step=o):i.push({style:f,from:Math.max(l,e),to:u,step:o})}}}),i.forEach(s=>t.step(new Cn(s.from,s.to,s.style)))}function mG(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],s=e+1;for(let l=0;l<i.childCount;l++){let a=i.child(l),u=s+a.nodeSize,c=r.matchType(a.type);if(!c)o.push(new it(s,u,z.empty));else{r=c;for(let f=0;f<a.marks.length;f++)n.allowsMarkType(a.marks[f].type)||t.step(new Cn(s,u,a.marks[f]));if(a.isText&&!n.spec.code){let f,d=/\r?\n|\r/g,p;for(;f=d.exec(a.text);)p||(p=new z($.from(n.schema.text(" ",n.allowedMarks(a.marks))),0,0)),o.push(new it(s+f.index,s+f.index+f[0].length,p))}}s=u}if(!r.validEnd){let l=r.fillBefore($.empty,!0);t.replace(s,s,new z(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function gG(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function wm(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!gG(i,o,s))break}return null}function yG(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),l=i.after(o+1),a=s,u=l,c=$.empty,f=0;for(let h=o,v=!1;h>n;h--)v||r.index(h)>0?(v=!0,c=$.from(r.node(h).copy(c)),f++):a--;let d=$.empty,p=0;for(let h=o,v=!1;h>n;h--)v||i.after(h+1)<i.end(h)?(v=!0,d=$.from(i.node(h).copy(d)),p++):u++;t.step(new Dt(a,u,s,l,new z(c.append(d),f,p),c.size-f,!0))}function vG(t,e,n){let r=$.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let l=n[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=$.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Dt(i,o,i,o,new z(r,0,0),n.length,!0))}function SG(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,l)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&wG(t.doc,t.mapping.slice(o).map(l),r)){t.clearIncompatible(t.mapping.slice(o).map(l,1),r);let a=t.mapping.slice(o),u=a.map(l,1),c=a.map(l+s.nodeSize,1);return t.step(new Dt(u,c,u+1,c-1,new z($.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function wG(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function EG(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Dt(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new z($.from(s),0,0),1,!0))}function Oa(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>o;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(d,f.childCount),h=r&&r[c+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let v=r&&r[c]||f;if(!f.canReplace(d+1,f.childCount)||!v.type.validContent(p))return!1}let l=i.indexAfter(o),a=r&&r[0];return i.node(o).canReplaceWith(l,l,a?a.type:i.node(o+1).type)}function CG(t,e,n=1,r){let i=t.doc.resolve(e),o=$.empty,s=$.empty;for(let l=i.depth,a=i.depth-n,u=n-1;l>a;l--,u--){o=$.from(i.node(l).copy(o));let c=r&&r[u];s=$.from(c?c.type.create(c.attrs,s):i.node(l).copy(s))}t.step(new it(e,e,new z(o.append(s),n,n),!0))}function Gb(t,e){let n=t.resolve(e),r=n.index();return bG(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function bG(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function xG(t,e,n){let r=new it(e-n,e+n,z.empty,!0);t.step(r)}function OG(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function TG(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,a=r.index(s)+(l>0?1:0),u=r.node(s),c=!1;if(o==1)c=u.canReplace(a,a,i);else{let f=u.contentMatchAt(a).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(a,a,f[0])}if(c)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function Em(t,e,n=e,r=z.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return Kb(i,o,r)?new it(e,n,r):new kG(i,o,r).fit()}function Kb(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class kG{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=$.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=$.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,l=i.depth;for(;s&&l&&o.childCount==1;)o=o.firstChild.content,s--,l--;let a=new z(o,s,l);return e>-1?new Dt(r.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new it(r.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=zf(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:u}=this.frontier[l],c,f=null;if(n==1&&(s?u.matchType(s.type)||(f=u.fillBefore($.from(s),!1)):o&&a.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:l,parent:o,inject:f};if(n==2&&s&&(c=u.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:l,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=zf(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new z(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=zf(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new z(ds(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new z(ds(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let v=0;v<o.length;v++)this.openFrontierNode(o[v]);let s=this.unplaced,l=r?r.content:s.content,a=s.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[n];if(i){for(let v=0;v<i.childCount;v++)c.push(i.child(v));f=f.matchFragment(i)}let p=l.size+e-(s.content.size-s.openEnd);for(;u<l.childCount;){let v=l.child(u),S=f.matchType(v.type);if(!S)break;u++,(u>1||a==0||v.content.size)&&(f=S,c.push(qb(v.mark(d.allowedMarks(v.marks)),u==1?a:0,u==l.childCount?p:-1)))}let h=u==l.childCount;h||(p=-1),this.placed=ps(this.placed,n,$.from(c)),this.frontier[n].match=f,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,S=l;v<p;v++){let m=S.lastChild;this.frontier.push({type:m.type,match:m.contentMatchAt(m.childCount)}),S=m.content}this.unplaced=h?e==0?z.empty:new z(ds(s.content,e-1,1),e-1,p<0?s.openEnd:e-1):new z(ds(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!jf(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=jf(e,n,i,r,o);if(s){for(let l=n-1;l>=0;l--){let{match:a,type:u}=this.frontier[l],c=jf(e,l,u,a,!0);if(!c||c.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ps(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ps(this.placed,this.depth,$.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore($.empty,!0);n.childCount&&(this.placed=ps(this.placed,this.frontier.length,n))}}function ds(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(ds(t.firstChild.content,e-1,n)))}function ps(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ps(t.lastChild.content,e-1,n)))}function zf(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function qb(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,qb(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore($.empty,!0)))),t.copy(r)}function jf(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let l=r.fillBefore(o.content,!0,s);return l&&!AG(n,o.content,s)?l:null}function AG(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function _G(t){return t.spec.defining||t.spec.definingForContent}function NG(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(Kb(i,o,r))return t.step(new it(e,n,r));let s=Jb(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(i.depth+1);s.unshift(l);for(let d=i.depth,p=i.pos-1;d>0;d--,p--){let h=i.node(d).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;s.indexOf(d)>-1?l=d:i.before(d)==p&&s.splice(1,0,-d)}let a=s.indexOf(l),u=[],c=r.openStart;for(let d=r.content,p=0;;p++){let h=d.firstChild;if(u.push(h),p==r.openStart)break;d=h.content}for(let d=c-1;d>=0;d--){let p=u[d],h=_G(p.type);if(h&&!p.sameMarkup(i.node(Math.abs(l)-1)))c=d;else if(h||!p.type.isTextblock)break}for(let d=r.openStart;d>=0;d--){let p=(d+c+1)%(r.openStart+1),h=u[p];if(h)for(let v=0;v<s.length;v++){let S=s[(v+a)%s.length],m=!0;S<0&&(m=!1,S=-S);let y=i.node(S-1),g=i.index(S-1);if(y.canReplaceWith(g,g,h.type,h.marks))return t.replace(i.before(S),m?o.after(S):n,new z(Yb(r.content,0,r.openStart,p),p,r.openEnd))}}let f=t.steps.length;for(let d=s.length-1;d>=0&&(t.replace(e,n,r),!(t.steps.length>f));d--){let p=s[d];p<0||(e=i.before(p),n=o.after(p))}}function Yb(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(Yb(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore($.empty,!0))}return t}function MG(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=OG(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new z($.from(r),0,0))}function IG(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=Jb(r,i);for(let s=0;s<o.length;s++){let l=o[s],a=s==o.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function Jb(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class lo extends at{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Ie.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Ie.fromReplace(e,this.pos,this.pos+1,new z($.from(i),0,n.isLeaf?0:1))}getMap(){return It.empty}invert(e){return new lo(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new lo(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new lo(n.pos,n.attr,n.value)}}at.jsonID("attr",lo);class sl extends at{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Ie.ok(r)}getMap(){return It.empty}invert(e){return new sl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new sl(n.attr,n.value)}}at.jsonID("docAttr",sl);let xo=class extends Error{};xo=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};xo.prototype=Object.create(Error.prototype);xo.prototype.constructor=xo;xo.prototype.name="TransformError";class PG{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new so}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new xo(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=z.empty){let i=Em(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new z($.from(r),0,0))}delete(e,n){return this.replace(e,n,z.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return NG(this,e,n,r),this}replaceRangeWith(e,n,r){return MG(this,e,n,r),this}deleteRange(e,n){return IG(this,e,n),this}lift(e,n){return yG(this,e,n),this}join(e,n=1){return xG(this,e,n),this}wrap(e,n){return vG(this,e,n),this}setBlockType(e,n=e,r,i=null){return SG(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return EG(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new lo(e,n,r)),this}setDocAttribute(e,n){return this.step(new sl(e,n)),this}addNodeMark(e,n){return this.step(new dr(e,n)),this}removeNodeMark(e,n){if(!(n instanceof se)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new bo(e,n)),this}split(e,n=1,r){return CG(this,e,n,r),this}addMark(e,n,r){return pG(this,e,n,r),this}removeMark(e,n,r){return hG(this,e,n,r),this}clearIncompatible(e,n,r){return mG(this,e,n,r),this}}const Uf=Object.create(null);class le{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new $G(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=z.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:a,$to:u}=s[l],c=e.mapping.slice(o);e.replaceRange(c.map(a.pos),c.map(u.pos),l?z.empty:n),l==0&&I1(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:l}=i[o],a=e.mapping.slice(r),u=a.map(s.pos),c=a.map(l.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),I1(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new me(e):Ri(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?Ri(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Ri(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Rt(e.node(0))}static atStart(e){return Ri(e,e,0,0,1)||new Rt(e)}static atEnd(e){return Ri(e,e,e.content.size,e.childCount,-1)||new Rt(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Uf[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Uf)throw new RangeError("Duplicate use of selection JSON ID "+e);return Uf[e]=n,n.prototype.jsonID=e,n}getBookmark(){return me.between(this.$anchor,this.$head).getBookmark()}}le.prototype.visible=!0;class $G{constructor(e,n){this.$from=e,this.$to=n}}let N1=!1;function M1(t){!N1&&!t.parent.inlineContent&&(N1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class me extends le{constructor(e,n=e){M1(e),M1(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return le.near(r);let i=e.resolve(n.map(this.anchor));return new me(i.parent.inlineContent?i:r,r)}replace(e,n=z.empty){if(super.replace(e,n),n==z.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof me&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new xc(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new me(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=le.findFrom(n,r,!0)||le.findFrom(n,-r,!0);if(o)n=o.$head;else return le.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(le.findFrom(e,-r,!0)||le.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new me(e,n)}}le.jsonID("text",me);class xc{constructor(e,n){this.anchor=e,this.head=n}map(e){return new xc(e.map(this.anchor),e.map(this.head))}resolve(e){return me.between(e.resolve(this.anchor),e.resolve(this.head))}}class Y extends le{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?le.near(o):new Y(o)}content(){return new z($.from(this.node),0,0)}eq(e){return e instanceof Y&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Cm(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Y(e.resolve(n.anchor))}static create(e,n){return new Y(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Y.prototype.visible=!1;le.jsonID("node",Y);class Cm{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new xc(r,r):new Cm(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Y.isSelectable(r)?new Y(n):le.near(n)}}class Rt extends le{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=z.empty){if(n==z.empty){e.delete(0,e.doc.content.size);let r=le.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Rt(e)}map(e){return new Rt(e)}eq(e){return e instanceof Rt}getBookmark(){return DG}}le.jsonID("all",Rt);const DG={map(){return this},resolve(t){return new Rt(t)}};function Ri(t,e,n,r,i,o=!1){if(e.inlineContent)return me.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let l=e.child(s);if(l.isAtom){if(!o&&Y.isSelectable(l))return Y.create(t,n-(i<0?l.nodeSize:0))}else{let a=Ri(t,l,n+i,i<0?l.childCount:0,i,o);if(a)return a}n+=l.nodeSize*i}return null}function I1(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof it||i instanceof Dt))return;let o=t.mapping.maps[r],s;o.forEach((l,a,u,c)=>{s==null&&(s=c)}),t.setSelection(le.near(t.doc.resolve(s),n))}const P1=1,la=2,$1=4;class RG extends PG{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|P1)&~la,this.storedMarks=null,this}get selectionSet(){return(this.updated&P1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=la,this}ensureMarks(e){return se.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&la)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~la,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||se.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(le.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=$1,this}get scrolledIntoView(){return(this.updated&$1)>0}}function D1(t,e){return!e||!t?t:t.bind(e)}class hs{constructor(e,n,r){this.name=e,this.init=D1(n.init,r),this.apply=D1(n.apply,r)}}const LG=[new hs("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new hs("selection",{init(t,e){return t.selection||le.atStart(e.doc)},apply(t){return t.selection}}),new hs("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new hs("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Vf{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=LG.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new hs(r.key,r.spec.state,r))})}}class ms{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let a=i?i[s].n:0,u=i?i[s].state:this,c=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,u,r);if(c&&r.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<s?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ms(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new RG(this)}static create(e){let n=new Vf(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ms(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Vf(this.schema,e.plugins),r=n.fields,i=new ms(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Vf(e.schema,e.plugins),o=new ms(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=oi.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=le.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],u=a.spec.state;if(a.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){o[s.name]=u.fromJSON.call(a,e,n[l],o);return}}o[s.name]=s.init(e,o)}}),o}}function Qb(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Qb(i,e,{})),n[r]=i}return n}class Xb{constructor(e){this.spec=e,this.props={},e.props&&Qb(e.props,this,this.props),this.key=e.key?e.key.key:Zb("plugin")}getState(e){return e[this.key]}}const Wf=Object.create(null);function Zb(t){return t in Wf?t+"$"+ ++Wf[t]:(Wf[t]=0,t+"$")}class ex{constructor(e="key"){this.key=Zb(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const ft=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},ll=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let R1=null;const Dn=function(t,e,n){let r=R1||(R1=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},hi=function(t,e,n,r){return n&&(L1(t,e,n,r,-1)||L1(t,e,n,r,1))},FG=/^(img|br|input|textarea|hr)$/i;function L1(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:En(t))){let o=t.parentNode;if(!o||o.nodeType!=1||bm(t)||FG.test(t.nodeName)||t.contentEditable=="false")return!1;e=ft(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?En(t):0}else return!1}}function En(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function BG(t,e,n){for(let r=e==0,i=e==En(t);r||i;){if(t==n)return!0;let o=ft(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==En(t)}}function bm(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Oc=function(t){return t.focusNode&&hi(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Gr(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function zG(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function jG(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const On=typeof navigator<"u"?navigator:null,F1=typeof document<"u"?document:null,Rr=On&&On.userAgent||"",wp=/Edge\/(\d+)/.exec(Rr),tx=/MSIE \d/.exec(Rr),Ep=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Rr),At=!!(tx||Ep||wp),xr=tx?document.documentMode:Ep?+Ep[1]:wp?+wp[1]:0,fn=!At&&/gecko\/(\d+)/i.test(Rr);fn&&+(/Firefox\/(\d+)/.exec(Rr)||[0,0])[1];const Cp=!At&&/Chrome\/(\d+)/.exec(Rr),ot=!!Cp,UG=Cp?+Cp[1]:0,ht=!At&&!!On&&/Apple Computer/.test(On.vendor),Oo=ht&&(/Mobile\/\w+/.test(Rr)||!!On&&On.maxTouchPoints>2),Ut=Oo||(On?/Mac/.test(On.platform):!1),VG=On?/Win/.test(On.platform):!1,rn=/Android \d/.test(Rr),Ol=!!F1&&"webkitFontSmoothing"in F1.documentElement.style,WG=Ol?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function HG(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Pn(t,e){return typeof t=="number"?t:t[e]}function GG(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function B1(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=ll(s)){if(s.nodeType!=1)continue;let l=s,a=l==o.body,u=a?HG(o):GG(l),c=0,f=0;if(e.top<u.top+Pn(r,"top")?f=-(u.top-e.top+Pn(i,"top")):e.bottom>u.bottom-Pn(r,"bottom")&&(f=e.bottom-e.top>u.bottom-u.top?e.top+Pn(i,"top")-u.top:e.bottom-u.bottom+Pn(i,"bottom")),e.left<u.left+Pn(r,"left")?c=-(u.left-e.left+Pn(i,"left")):e.right>u.right-Pn(r,"right")&&(c=e.right-u.right+Pn(i,"right")),c||f)if(a)o.defaultView.scrollBy(c,f);else{let d=l.scrollLeft,p=l.scrollTop;f&&(l.scrollTop+=f),c&&(l.scrollLeft+=c);let h=l.scrollLeft-d,v=l.scrollTop-p;e={left:e.left-h,top:e.top-v,right:e.right-h,bottom:e.bottom-v}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function KG(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=t.root.elementFromPoint(o,s);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){r=l,i=a.top;break}}return{refDOM:r,refTop:i,stack:nx(t.dom)}}function nx(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=ll(r));return e}function qG({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;rx(n,r==0?0:r-e)}function rx(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Ii=null;function YG(t){if(t.setActive)return t.setActive();if(Ii)return t.focus(Ii);let e=nx(t);t.focus(Ii==null?{get preventScroll(){return Ii={preventScroll:!0},!0}}:void 0),Ii||(Ii=!1,rx(e,0))}function ix(t,e){let n,r=2e8,i,o=0,s=e.top,l=e.top,a,u;for(let c=t.firstChild,f=0;c;c=c.nextSibling,f++){let d;if(c.nodeType==1)d=c.getClientRects();else if(c.nodeType==3)d=Dn(c).getClientRects();else continue;for(let p=0;p<d.length;p++){let h=d[p];if(h.top<=s&&h.bottom>=l){s=Math.max(h.bottom,s),l=Math.min(h.top,l);let v=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(v<r){n=c,r=v,i=v&&n.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,c.nodeType==1&&v&&(o=f+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!a&&h.left<=e.left&&h.right>=e.left&&(a=c,u={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(o=f+1)}}return!n&&a&&(n=a,i=u,r=0),n&&n.nodeType==3?JG(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:ix(n,i)}function JG(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=Xn(r,1);if(o.top!=o.bottom&&xm(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function xm(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function QG(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function XG(t,e,n){let{node:r,offset:i}=ix(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function ZG(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let l=t.docView.nearestDesc(o,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent&&!s||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&!s&&(s=!0,a.left>r.left||a.top>r.top?i=l.posBefore:(a.right<r.left||a.bottom<r.top)&&(i=l.posAfter)),!l.contentDOM&&i<0&&!l.node.isText)return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}o=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function ox(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let l=s.getClientRects();for(let a=0;a<l.length;a++){let u=l[a];if(xm(e,u))return ox(s,e,u)}}if((o=(o+1)%r)==i)break}return t}function eK(t,e){let n=t.dom.ownerDocument,r,i=0,o=jG(n,e.left,e.top);o&&({node:r,offset:i}=o);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let u=t.dom.getBoundingClientRect();if(!xm(e,u)||(s=ox(t.dom,e,u),!s))return null}if(ht)for(let u=s;r&&u;u=ll(u))u.draggable&&(r=void 0);if(s=QG(s,e),r){if(fn&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],f;c.nodeName=="IMG"&&(f=c.getBoundingClientRect()).right<=e.left&&f.bottom>e.top&&i++}let u;Ol&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=ZG(t,r,i,e))}l==null&&(l=XG(t,s,e));let a=t.docView.nearestDesc(s,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function z1(t){return t.top<t.bottom||t.left<t.right}function Xn(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(z1(r))return r}return Array.prototype.find.call(n,z1)||t.getBoundingClientRect()}const tK=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function sx(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=Ol||fn;if(r.nodeType==3)if(s&&(tK.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let a=Xn(Dn(r,i,i),n);if(fn&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Xn(Dn(r,i-1,i-1),-1);if(u.top==a.top){let c=Xn(Dn(r,i,i+1),-1);if(c.top!=a.top)return ls(c,c.left<u.left)}}return a}else{let a=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(a--,c=1):n<0?a--:u++,ls(Xn(Dn(r,a,u),c),c<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==En(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return Hf(a.getBoundingClientRect(),!1)}if(o==null&&i<En(r)){let a=r.childNodes[i];if(a.nodeType==1)return Hf(a.getBoundingClientRect(),!0)}return Hf(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==En(r))){let a=r.childNodes[i-1],u=a.nodeType==3?Dn(a,En(a)-(s?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(u)return ls(Xn(u,1),!1)}if(o==null&&i<En(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let u=a?a.nodeType==3?Dn(a,0,s?0:1):a.nodeType==1?a:null:null;if(u)return ls(Xn(u,-1),!0)}return ls(Xn(r.nodeType==3?Dn(r):r,-n),n>=0)}function ls(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Hf(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function lx(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function nK(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return lx(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(o,!0);if(!l)break;if(l.node.isBlock){o=l.contentDOM||l.dom;break}o=l.dom.parentNode}let s=sx(t,i.pos,1);for(let l=o.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=Dn(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let c=a[u];if(c.bottom>c.top+1&&(n=="up"?s.top-c.top>(c.bottom-s.top)*2:c.bottom-s.bottom>(s.bottom-c.top)*2))return!1}}return!0})}const rK=/[\u0590-\u08ac]/;function iK(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,l=t.domSelection();return!rK.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?o:s:lx(t,e,()=>{let{focusNode:a,focusOffset:u,anchorNode:c,anchorOffset:f}=t.domSelectionRange(),d=l.caretBidiLevel;l.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:h,focusOffset:v}=t.domSelectionRange(),S=h&&!p.contains(h.nodeType==1?h:h.parentNode)||a==h&&u==v;try{l.collapse(c,f),a&&(a!=c||u!=f)&&l.extend&&l.extend(a,u)}catch{}return d!=null&&(l.caretBidiLevel=d),S})}let j1=null,U1=null,V1=!1;function oK(t,e,n){return j1==e&&U1==n?V1:(j1=e,U1=n,V1=n=="up"||n=="down"?nK(t,e,n):iK(t,e,n))}const Kt=0,W1=1,Jr=2,Tn=3;class Tl{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Kt,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>ft(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.size;if(l>e||s instanceof ux){i=e-o;break}o=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof ax&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?ft(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?ft(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,l=0;;l++){let a=this.children[l],u=s+a.size;if(i==-1&&e<=u){let c=s+a.border;if(e>=c&&n<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,c);e=s;for(let f=l;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=ft(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>n||l==this.children.length-1)){n=u;for(let c=l+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=ft(f.dom);break}n+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let d=0,p=0;d<this.children.length;d++){let h=this.children[d],v=p+h.size;if(o>p&&s<v)return h.setSelection(e-p-h.border,n-p-h.border,r,i);p=v}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),u=r.getSelection(),c=!1;if((fn||ht)&&e==n){let{node:d,offset:p}=l;if(d.nodeType==3){if(c=!!(p&&d.nodeValue[p-1]==`
`),c&&p==d.nodeValue.length)for(let h=d,v;h;h=h.parentNode){if(v=h.nextSibling){v.nodeName=="BR"&&(l=a={node:v.parentNode,offset:ft(v)+1});break}let S=h.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let h=d.childNodes[p-1];c=h&&(h.nodeName=="BR"||h.contentEditable=="false")}}if(fn&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let d=u.focusNode.childNodes[u.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||c&&ht)&&hi(l.node,l.offset,u.anchorNode,u.anchorOffset)&&hi(a.node,a.offset,u.focusNode,u.focusOffset))return;let f=!1;if((u.extend||e==n)&&!c){u.collapse(l.node,l.offset);try{e!=n&&u.extend(a.node,a.offset),f=!0}catch{}}if(!f){if(e>n){let p=l;l=a,a=p}let d=document.createRange();d.setEnd(a.node,a.offset),d.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let l=r+o.border,a=s-o.border;if(e>=l&&n<=a){this.dirty=e==r||n==s?Jr:W1,e==l&&n==a&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Tn:o.markDirty(e-l,n-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Jr:Tn}r=s}this.dirty=Jr}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Jr:W1;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class ax extends Tl{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Kt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class sK extends Tl{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class mi extends Tl{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=jn.renderSpec(document,n.type.spec.toDOM(n,r))),new mi(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Tn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Tn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Kt){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Kt}}slice(e,n,r){let i=mi.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=Op(o,n,s,r)),e>0&&(o=Op(o,0,e,r));for(let l=0;l<o.length;l++)o[l].parent=i;return i.children=o,i}}class Or extends Tl{constructor(e,n,r,i,o,s,l,a,u){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,o,s){let l=o.nodeViews[n.type.name],a,u=l&&l(n,o,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)},r,i),c=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=jn.renderSpec(document,n.type.spec.toDOM(n)));!f&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let d=c;return c=dx(c,r,n),u?a=new lK(e,n,r,i,c,f||null,d,u,o,s+1):n.isText?new Tc(e,n,r,i,c,d,o):new Or(e,n,r,i,c,f||null,d,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>$.empty)}return e}matchesNode(e,n,r){return this.dirty==Kt&&e.eq(this.node)&&xp(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,l=o&&o.pos<0,a=new uK(this,s&&s.node,e);dK(this.node,this.innerDeco,(u,c,f)=>{u.spec.marks?a.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!f&&a.syncToMarks(c==this.node.childCount?se.none:this.node.child(c).marks,r,e),a.placeWidget(u,e,i)},(u,c,f,d)=>{a.syncToMarks(u.marks,r,e);let p;a.findNodeMatch(u,c,f,d)||l&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(p=a.findIndexWithChild(o.node))>-1&&a.updateNodeAt(u,c,f,p,e)||a.updateNextNode(u,c,f,e,d,i)||a.addNode(u,c,f,e,i),i+=u.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==Jr)&&(s&&this.protectLocalComposition(e,s),cx(this.contentDOM,this.children,e),Oo&&pK(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof me)||r<n||i>n+this.node.content.size)return null;let o=e.domSelectionRange(),s=hK(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,a=mK(this.node.content,l,r-n,i-n);return a<0?null:{node:s,pos:a,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new sK(this,o,n,i);e.input.compositionNodes.push(s),this.children=Op(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==Tn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Kt}updateOuterDeco(e){if(xp(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=fx(this.dom,this.nodeDOM,bp(this.outerDeco,this.node,n),bp(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function H1(t,e,n,r,i){dx(r,e,t);let o=new Or(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class Tc extends Or{constructor(e,n,r,i,o,s,l){super(e,n,r,i,o,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Tn||this.dirty!=Kt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Kt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Kt,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new Tc(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Tn)}get domAtom(){return!1}}class ux extends Tl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Kt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class lK extends Or{constructor(e,n,r,i,o,s,l,a,u,c){super(e,n,r,i,o,s,l,u,c),this.spec=a}update(e,n,r,i){if(this.dirty==Tn)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function cx(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],l=s.dom;if(l.parentNode==t){for(;l!=r;)r=G1(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(s instanceof mi){let a=r?r.previousSibling:t.lastChild;cx(s.contentDOM,s.children,n),r=a?a.nextSibling:t.firstChild}}for(;r;)r=G1(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Is=function(t){t&&(this.nodeName=t)};Is.prototype=Object.create(null);const Qr=[new Is];function bp(t,e,n){if(t.length==0)return Qr;let r=n?Qr[0]:new Is,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new Is(s.nodeName));for(let l in s){let a=s[l];a!=null&&(n&&i.length==1&&i.push(r=new Is(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return i}function fx(t,e,n,r){if(n==Qr&&r==Qr)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],l=n[o];if(o){let a;l&&l.nodeName==s.nodeName&&i!=t&&(a=i.parentNode)&&a.nodeName.toLowerCase()==s.nodeName||(a=document.createElement(s.nodeName),a.pmIsDeco=!0,a.appendChild(i),l=Qr[0]),i=a}aK(i,l||Qr[0],s)}return i}function aK(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function dx(t,e,n){return fx(t,t,Qr,bp(e,n,t.nodeType!=1))}function xp(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function G1(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class uK{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=cK(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Kt,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let u=this.top.children[a];if(u.matchesMark(e[o])&&!this.isLocked(u.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=mi.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==Tn&&s.dom==s.contentDOM&&(s.dirty=Jr),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,s){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof Or){let u=this.preMatch.matched.get(a);if(u!=null&&u!=o)return!1;let c=a.dom,f,d=this.isLocked(c)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Tn&&xp(n,a.outerDeco));if(!d&&a.update(e,n,r,i))return this.destroyBetween(this.index,l),a.dom!=c&&(this.changed=!0),this.index++,!0;if(!d&&(f=this.recreateWrapper(a,e,n,r,i,s)))return this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Jr,f.updateChildren(i,s+1),f.dirty=Kt),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let l=Or.create(this.top,n,r,i,o,s);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,n,r,i,o){let s=Or.create(this.top,e,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new ax(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof mi;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Tc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ht||ot)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new ux(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function cK(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof mi)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(i-1))break;--i,o.set(l,i),s.push(l)}}return{index:i,matched:o,matches:s.reverse()}}function fK(t,e){return t.type.side-e.type.side}function dK(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let s=0,l=[],a=null;for(let u=0;;){let c,f;for(;s<i.length&&i[s].to==o;){let S=i[s++];S.widget&&(c?(f||(f=[c])).push(S):c=S)}if(c)if(f){f.sort(fK);for(let S=0;S<f.length;S++)n(f[S],u,!!a)}else n(c,u,!!a);let d,p;if(a)p=-1,d=a,a=null;else if(u<t.childCount)p=u,d=t.child(u++);else break;for(let S=0;S<l.length;S++)l[S].to<=o&&l.splice(S--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)l.push(i[s++]);let h=o+d.nodeSize;if(d.isText){let S=h;s<i.length&&i[s].from<S&&(S=i[s].from);for(let m=0;m<l.length;m++)l[m].to<S&&(S=l[m].to);S<h&&(a=d.cut(S-o),d=d.cut(0,S-o),h=S,p=-1)}else for(;s<i.length&&i[s].to<h;)s++;let v=d.isInline&&!d.isLeaf?l.filter(S=>!S.inline):l.slice();r(d,v,e.forChild(o,d),p),o=h}}function pK(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function hK(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=En(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function mK(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),l=o;if(o+=s.nodeSize,!s.isText)continue;let a=s.text;for(;i<t.childCount;){let u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;a+=u.text}if(o>=n){if(o>=r&&a.slice(r-e.length-l,r-l)==e)return r-e.length;let u=l<r?a.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function Op(t,e,n,r,i){let o=[];for(let s=0,l=0;s<t.length;s++){let a=t[s],u=l,c=l+=a.size;u>=n||c<=e?o.push(a):(u<e&&o.push(a.slice(0,e-u,r)),i&&(o.push(i),i=void 0),c>n&&o.push(a.slice(n-u,a.size,r)))}return o}function Om(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),a,u;if(Oc(n)){for(a=l;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&Y.isSelectable(c)&&i.parent&&!(c.isInline&&BG(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;u=new Y(s==f?l:r.resolve(f))}}else{let c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;a=r.resolve(c)}if(!u){let c=e=="pointer"||t.state.selection.head<l.pos&&!o?1:-1;u=Tm(t,a,l,c)}return u}function px(t){return t.editable?t.hasFocus():mx(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Vn(t,e=!1){let n=t.state.selection;if(hx(t,n),!!px(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&ot){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&hi(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)yK(t);else{let{anchor:r,head:i}=n,o,s;K1&&!(n instanceof me)&&(n.$from.parent.inlineContent||(o=q1(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=q1(t,n.to))),t.docView.setSelection(r,i,t.root,e),K1&&(o&&Y1(o),s&&Y1(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&gK(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const K1=ht||ot&&UG<63;function q1(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(ht&&i&&i.contentEditable=="false")return Gf(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Gf(i);if(o)return Gf(o)}}function Gf(t){return t.contentEditable="true",ht&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Y1(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function gK(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!px(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function yK(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,ft(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&At&&xr<=11&&(r.disabled=!0,r.disabled=!1)}function hx(t,e){if(e instanceof Y){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(J1(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else J1(t)}function J1(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Tm(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||me.between(e,n,r)}function Q1(t){return t.editable&&!t.hasFocus()?!1:mx(t)}function mx(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function vK(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return hi(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Tp(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&le.findFrom(o,e)}function nr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function X1(t,e,n){let r=t.state.selection;if(r instanceof me)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return nr(t,new me(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Tp(t.state,e);return i&&i instanceof Y?nr(t,i):!1}else if(!(Ut&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?Y.isSelectable(o)?nr(t,new Y(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):Ol?nr(t,new me(t.state.doc.resolve(e<0?l:l+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Y&&r.node.isInline)return nr(t,new me(e>0?r.$to:r.$from));{let i=Tp(t.state,e);return i?nr(t,i):!1}}}function Su(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Ps(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Pi(t,e){return e<0?SK(t):wK(t)}function SK(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(fn&&n.nodeType==1&&r<Su(n)&&Ps(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(Ps(l,-1))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(gx(n))break;{let l=n.previousSibling;for(;l&&Ps(l,-1);)i=n.parentNode,o=ft(l),l=l.previousSibling;if(l)n=l,r=Su(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?kp(t,n,r):i&&kp(t,i,o)}function wK(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Su(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(Ps(l,1))o=n,s=++r;else break}else{if(gx(n))break;{let l=n.nextSibling;for(;l&&Ps(l,1);)o=l.parentNode,s=ft(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=Su(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&kp(t,o,s)}function gx(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function EK(t,e){for(;t&&e==t.childNodes.length&&!bm(t);)e=ft(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function CK(t,e){for(;t&&!e&&!bm(t);)e=ft(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function kp(t,e,n){if(e.nodeType!=3){let o,s;(s=EK(e,n))?(e=s,n=0):(o=CK(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(Oc(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Vn(t)},50)}function Z1(t,e){let n=t.state.doc.resolve(e);if(!(ot||VG)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function e0(t,e,n){let r=t.state.selection;if(r instanceof me&&!r.empty||n.indexOf("s")>-1||Ut&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Tp(t.state,e);if(s&&s instanceof Y)return nr(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,l=r instanceof Rt?le.near(s,e):le.findFrom(s,e);return l?nr(t,l):!1}return!1}function t0(t,e){if(!(t.state.selection instanceof me))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function n0(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function bK(t){if(!ht||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;n0(t,r,"true"),setTimeout(()=>n0(t,r,"false"),20)}return!1}function xK(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function OK(t,e){let n=e.keyCode,r=xK(e);if(n==8||Ut&&n==72&&r=="c")return t0(t,-1)||Pi(t,-1);if(n==46&&!e.shiftKey||Ut&&n==68&&r=="c")return t0(t,1)||Pi(t,1);if(n==13||n==27)return!0;if(n==37||Ut&&n==66&&r=="c"){let i=n==37?Z1(t,t.state.selection.from)=="ltr"?-1:1:-1;return X1(t,i,r)||Pi(t,i)}else if(n==39||Ut&&n==70&&r=="c"){let i=n==39?Z1(t,t.state.selection.from)=="ltr"?1:-1:1;return X1(t,i,r)||Pi(t,i)}else{if(n==38||Ut&&n==80&&r=="c")return e0(t,-1,r)||Pi(t,-1);if(n==40||Ut&&n==78&&r=="c")return bK(t)||e0(t,1,r)||Pi(t,1);if(r==(Ut?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function yx(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let s=t.someProp("clipboardSerializer")||jn.fromSchema(t.state.schema),l=bx(),a=l.createElement("div");a.appendChild(s.serializeFragment(r,{document:l}));let u=a.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=Cx[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let h=l.createElement(c[p]);for(;a.firstChild;)h.appendChild(a.firstChild);a.appendChild(h),f++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:d}}function vx(t,e,n,r,i){let o=i.parent.type.spec.code,s,l;if(!n&&!e)return null;let a=e&&(r||o||!n);if(a){if(t.someProp("transformPastedText",d=>{e=d(e,o||r,t)}),o)return e?new z($.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):z.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,r,t));if(f)l=f;else{let d=i.marks(),{schema:p}=t.state,h=jn.fromSchema(p);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let S=s.appendChild(document.createElement("p"));v&&S.appendChild(h.serializeNode(p.text(v,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),s=AK(n),Ol&&_K(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0;f--){let d=s.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;s=d}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||ol.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(a||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!TK.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)l=NK(r0(l,+c[1],+c[2]),c[4]);else if(l=z.maxOpen(kK(l.content,i),!0),l.openStart||l.openEnd){let f=0,d=0;for(let p=l.content.firstChild;f<l.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=l.content.lastChild;d<l.openEnd&&!p.type.spec.isolating;d++,p=p.lastChild);l=r0(l,f,d)}return t.someProp("transformPasted",f=>{l=f(l,t)}),l}const TK=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function kK(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(l=>{if(!s)return;let a=i.findWrapping(l.type),u;if(!a)return s=null;if(u=s.length&&o.length&&wx(a,o,l,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=Ex(s[s.length-1],o.length));let c=Sx(l,a);s.push(c),i=i.matchType(c.type),o=a}}),s)return $.from(s)}return t}function Sx(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,$.from(t));return t}function wx(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=wx(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append($.from(Sx(n,t,i+1))))}}function Ex(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Ex(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore($.empty,!0);return t.copy(n.append(r))}function Ap(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,l=s.content;return t.childCount>1&&(o=0),i<r-1&&(l=Ap(l,e,n,r,i+1,o)),i>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore($.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function r0(t,e,n){return e<t.openStart&&(t=new z(Ap(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new z(Ap(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Cx={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let i0=null;function bx(){return i0||(i0=document.implementation.createHTMLDocument("title"))}function AK(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=bx().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Cx[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function _K(t){let e=t.querySelectorAll(ot?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function NK(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;i=$.from(a.create(r[l+1],i)),o++,s++}return new z(i,o,s)}const mt={},gt={},MK={touchstart:!0,touchmove:!0};class IK{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function PK(t){for(let e in mt){let n=mt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{DK(t,r)&&!km(t,r)&&(t.editable||!(r.type in gt))&&n(t,r)},MK[e]?{passive:!0}:void 0)}ht&&t.dom.addEventListener("input",()=>null),_p(t)}function pr(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function $K(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function _p(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>km(t,r))})}function km(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function DK(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function RK(t,e){!km(t,e)&&mt[e.type]&&(t.editable||!(e.type in gt))&&mt[e.type](t,e)}gt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!Ox(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(rn&&ot&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Oo&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Gr(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||OK(t,n)?n.preventDefault():pr(t,"key")};gt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};gt.keypress=(t,e)=>{let n=e;if(Ox(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ut&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof me)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function kc(t){return{left:t.clientX,top:t.clientY}}function LK(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Am(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,l=>s>o.depth?l(t,n,o.nodeAfter,o.before(s),i,!0):l(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function ao(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function FK(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Y.isSelectable(r)?(ao(t,new Y(n),"pointer"),!0):!1}function BK(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Y&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if(Y.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(ao(t,Y.create(t.state.doc,i),"pointer"),!0):!1}function zK(t,e,n,r,i){return Am(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?BK(t,n):FK(t,n))}function jK(t,e,n,r){return Am(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function UK(t,e,n,r){return Am(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||VK(t,n,r)}function VK(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(ao(t,me.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)ao(t,me.create(r,l+1,l+1+s.content.size),"pointer");else if(Y.isSelectable(s))ao(t,Y.create(r,l),"pointer");else continue;return!0}}function _m(t){return wu(t)}const xx=Ut?"metaKey":"ctrlKey";mt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=_m(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&LK(n,t.input.lastClick)&&!n[xx]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(kc(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new WK(t,s,n,!!r)):(o=="doubleClick"?jK:UK)(t,s.pos,s.inside,n)?n.preventDefault():pr(t,"pointer"))};class WK{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[xx],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,s=c.depth?c.before():0}const l=i?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a?a.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof Y&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&fn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),pr(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Vn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(kc(e))),this.updateAllowDefault(e),this.allowDefault||!n?pr(this.view,"pointer"):zK(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ht&&this.mightDrag&&!this.mightDrag.node.isAtom||ot&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(ao(this.view,le.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):pr(this.view,"pointer")}move(e){this.updateAllowDefault(e),pr(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}mt.touchstart=t=>{t.input.lastTouch=Date.now(),_m(t),pr(t,"pointer")};mt.touchmove=t=>{t.input.lastTouch=Date.now(),pr(t,"pointer")};mt.contextmenu=t=>_m(t);function Ox(t,e){return t.composing?!0:ht&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const HK=rn?5e3:-1;gt.compositionstart=gt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),wu(t,!0),t.markCursor=null;else if(wu(t),fn&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){t.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}Tx(t,HK)};gt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,Tx(t,20))};function Tx(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>wu(t),e))}function kx(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=GK());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function GK(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function wu(t,e=!1){if(!(rn&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),kx(t),e||t.docView&&t.docView.dirty){let n=Om(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function KK(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const al=At&&xr<15||Oo&&WG<604;mt.copy=gt.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=al?null:n.clipboardData,s=r.content(),{dom:l,text:a}=yx(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",a)):KK(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function qK(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function YK(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?ul(t,r.value,null,i,e):ul(t,r.textContent,r.innerHTML,i,e)},50)}function ul(t,e,n,r,i){let o=vx(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,i,o||z.empty)))return!0;if(!o)return!1;let s=qK(o),l=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Ax(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}gt.paste=(t,e)=>{let n=e;if(t.composing&&!rn)return;let r=al?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&ul(t,Ax(r),r.getData("text/html"),i,n)?n.preventDefault():YK(t,n)};class _x{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const Nx=Ut?"altKey":"ctrlKey";mt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(kc(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Y?i.to-1:i.to))){if(r&&r.mightDrag)s=Y.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let c=t.docView.nearestDesc(n.target,!0);c&&c.node.type.spec.draggable&&c!=t.docView&&(s=Y.create(t.state.doc,c.posBefore))}}let l=(s||t.state.selection).content(),{dom:a,text:u}=yx(t,l);n.dataTransfer.clearData(),n.dataTransfer.setData(al?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",al||n.dataTransfer.setData("text/plain",u),t.dragging=new _x(l,!n[Nx],s)};mt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};gt.dragover=gt.dragenter=(t,e)=>e.preventDefault();gt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(kc(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",h=>{s=h(s,t)}):s=vx(t,Ax(n.dataTransfer),al?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(r&&!n[Nx]);if(t.someProp("handleDrop",h=>h(t,n,s||z.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let a=s?TG(t.state.doc,o.pos,s):o.pos;a==null&&(a=o.pos);let u=t.state.tr;if(l){let{node:h}=r;h?h.replace(u):u.deleteSelection()}let c=u.mapping.map(a),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(d))return;let p=u.doc.resolve(c);if(f&&Y.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new Y(p));else{let h=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((v,S,m,y)=>h=y),u.setSelection(Tm(t,p,u.doc.resolve(h)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};mt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Vn(t)},20))};mt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};mt.beforeinput=(t,e)=>{if(ot&&rn&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Gr(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in gt)mt[t]=gt[t];function cl(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Eu{constructor(e,n){this.toDOM=e,this.spec=n||si,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new sn(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Eu&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&cl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Tr{constructor(e,n){this.attrs=e,this.spec=n||si}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new sn(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Tr&&cl(this.attrs,e.attrs)&&cl(this.spec,e.spec)}static is(e){return e.type instanceof Tr}destroy(){}}class Nm{constructor(e,n){this.attrs=e,this.spec=n||si}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new sn(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof Nm&&cl(this.attrs,e.attrs)&&cl(this.spec,e.spec)}destroy(){}}class sn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new sn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new sn(e,e,new Eu(n,r))}static inline(e,n,r,i){return new sn(e,n,new Tr(r,i))}static node(e,n,r,i){return new sn(e,n,new Nm(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Tr}get widget(){return this.type instanceof Eu}}const Li=[],si={};class ze{constructor(e,n){this.local=e.length?e:Li,this.children=n.length?n:Li}static create(e,n){return n.length?Cu(n,e,0,si):nt}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,r,i+l,o)}}map(e,n,r){return this==nt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||si)}mapInner(e,n,r,i,o){let s;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,i);a&&a.type.valid(n,a)?(s||(s=[])).push(a):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?JK(this.children,s||[],e,n,r,i,o):s?new ze(s.sort(li),Li):nt}add(e,n){return n.length?this==nt?ze.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((l,a)=>{let u=a+r,c;if(c=Ix(n,l,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<a;)o+=3;i[o]==a?i[o+2]=i[o+2].addInner(l,c,u+1):i.splice(o,0,a,a+l.nodeSize,Cu(c,l,u+1,si)),o+=3}});let s=Mx(o?Px(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new ze(s.length?this.local.concat(s).sort(li):this.local,i||this.children)}remove(e){return e.length==0||this==nt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+n,a=r[o+1]+n;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>l&&f.to<a&&(e[c]=null,(s||(s=[])).push(f));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(s,l+1);u!=nt?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let l=0;l<i.length;l++)i[l].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new ze(i,r):nt}forChild(e,n){if(this==nt)return this;if(n.isLeaf)return ze.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let o=e+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<s&&a.to>o&&a.type instanceof Tr){let u=Math.max(o,a.from)-o,c=Math.min(s,a.to)-o;u<c&&(i||(i=[])).push(a.copy(u,c))}}if(i){let l=new ze(i.sort(li),Li);return r?new lr([l,r]):l}return r||nt}eq(e){if(this==e)return!0;if(!(e instanceof ze)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Mm(this.localsInner(e))}localsInner(e){if(this==nt)return Li;if(e.inlineContent||!this.local.some(Tr.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Tr||n.push(this.local[r]);return n}}ze.empty=new ze([],[]);ze.removeOverlap=Mm;const nt=ze.empty;class lr{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,si));return lr.from(r)}forChild(e,n){if(n.isLeaf)return ze.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=nt&&(o instanceof lr?r=r.concat(o.members):r.push(o))}return lr.from(r)}eq(e){if(!(e instanceof lr)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?Mm(r?n:n.sort(li)):Li}static from(e){switch(e.length){case 0:return nt;case 1:return e[0];default:return new lr(e.every(n=>n instanceof ze)?e:e.reduce((n,r)=>n.concat(r instanceof ze?r:r.members),[]))}}}function JK(t,e,n,r,i,o,s){let l=t.slice();for(let u=0,c=o;u<n.maps.length;u++){let f=0;n.maps[u].forEach((d,p,h,v)=>{let S=v-h-(p-d);for(let m=0;m<l.length;m+=3){let y=l[m+1];if(y<0||d>y+c-f)continue;let g=l[m]+c-f;p>=g?l[m+1]=d<=g?-2:-1:d>=c&&S&&(l[m]+=S,l[m+1]+=S)}f+=S}),c=n.maps[u].map(c,-1)}let a=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){a=!0,l[u+1]=-1;continue}let c=n.map(t[u]+o),f=c-i;if(f<0||f>=r.content.size){a=!0;continue}let d=n.map(t[u+1]+o,-1),p=d-i,{index:h,offset:v}=r.content.findIndex(f),S=r.maybeChild(h);if(S&&v==f&&v+S.nodeSize==p){let m=l[u+2].mapInner(n,S,c+1,t[u]+o+1,s);m!=nt?(l[u]=f,l[u+1]=p,l[u+2]=m):(l[u+1]=-2,a=!0)}else a=!0}if(a){let u=QK(l,t,e,n,i,o,s),c=Cu(u,r,0,s);e=c.local;for(let f=0;f<l.length;f+=3)l[f+1]<0&&(l.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let p=c.children[f];for(;d<l.length&&l[d]<p;)d+=3;l.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new ze(e.sort(li),l)}function Mx(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new sn(i.from+e,i.to+e,i.type))}return n}function QK(t,e,n,r,i,o,s){function l(a,u){for(let c=0;c<a.local.length;c++){let f=a.local[c].map(r,i,u);f?n.push(f):s.onRemove&&s.onRemove(a.local[c].spec)}for(let c=0;c<a.children.length;c+=3)l(a.children[c+2],a.children[c]+u+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+o+1);return n}function Ix(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function Px(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Cu(t,e,n,r){let i=[],o=!1;e.forEach((l,a)=>{let u=Ix(t,l,a+n);if(u){o=!0;let c=Cu(u,l,n+a+1,r);c!=nt&&i.push(a,a+l.nodeSize,c)}});let s=Mx(o?Px(t):t,-n).sort(li);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new ze(s,i):nt}function li(t,e){return t.from-e.from||t.to-e.to}function Mm(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),o0(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),o0(e,i,r.copy(o.from,r.to)));break}}}return e}function o0(t,e,n){for(;e<t.length&&li(n,t[e])>0;)e++;t.splice(e,0,n)}function Kf(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=nt&&e.push(r)}),t.cursorWrapper&&e.push(ze.create(t.state.doc,[t.cursorWrapper.deco])),lr.from(e)}const XK={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ZK=At&&xr<=11;class eq{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class tq{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new eq,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);At&&xr<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),ZK&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,XK)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Q1(this.view)){if(this.suppressingSelectionUpdates)return Vn(this.view);if(At&&xr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&hi(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=ll(o))n.add(o);for(let o=e.anchorNode;o;o=ll(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Q1(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,l=!1,a=[];if(e.editable)for(let c=0;c<n.length;c++){let f=this.registerMutation(n[c],a);f&&(o=o<0?f.from:Math.min(f.from,o),s=s<0?f.to:Math.max(f.to,s),f.typeOver&&(l=!0))}if(fn&&a.length>1){let c=a.filter(f=>f.nodeName=="BR");if(c.length==2){let f=c[0],d=c[1];f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}}let u=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Oc(r)&&(u=Om(e))&&u.eq(le.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Vn(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),nq(e)),this.handleDOMChange(o,s,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Vn(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)n.push(e.addedNodes[c]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(At&&xr<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d)}let s=i&&i.parentNode==e.target?ft(i)+1:0,l=r.localPosFromDOM(e.target,s,-1),a=o&&o.parentNode==e.target?ft(o):e.target.childNodes.length,u=r.localPosFromDOM(e.target,a,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let s0=new WeakMap,l0=!1;function nq(t){if(!s0.has(t)&&(s0.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=fn,l0)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),l0=!0}}function rq(t){let e;function n(a){a.preventDefault(),a.stopImmediatePropagation(),e=a.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,l=t.domAtPos(t.state.selection.anchor);return hi(l.node,l.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}function iq(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),u,c=a.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:a.anchorOffset}],Oc(a)||u.push({node:a.focusNode,offset:a.focusOffset})),ot&&t.input.lastKeyCode===8)for(let S=o;S>i;S--){let m=r.childNodes[S-1],y=m.pmViewDesc;if(m.nodeName=="BR"&&!y){o=S;break}if(!y||y.size)break}let f=t.state.doc,d=t.someProp("domParser")||ol.fromSchema(t.state.schema),p=f.resolve(s),h=null,v=d.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:oq,context:p});if(u&&u[0].pos!=null){let S=u[0].pos,m=u[1]&&u[1].pos;m==null&&(m=S),h={anchor:S+s,head:m+s}}return{doc:v,sel:h,from:s,to:l}}function oq(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ht&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||ht&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const sq=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function lq(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let I=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,M=Om(t,I);if(M&&!t.state.selection.eq(M)){if(ot&&rn&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",T=>T(t,Gr(13,"Enter"))))return;let J=t.state.tr.setSelection(M);I=="pointer"?J.setMeta("pointer",!0):I=="key"&&J.scrollIntoView(),o&&J.setMeta("composition",o),t.dispatch(J)}return}let s=t.state.doc.resolve(e),l=s.sharedDepth(n);e=s.before(l+1),n=t.state.doc.resolve(n).after(l+1);let a=t.state.selection,u=iq(t,e,n),c=t.state.doc,f=c.slice(u.from,u.to),d,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(d=t.state.selection.to,p="end"):(d=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let h=cq(f.content,u.doc.content,u.from,d,p);if((Oo&&t.input.lastIOSEnter>Date.now()-225||rn)&&i.some(I=>I.nodeType==1&&!sq.test(I.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",I=>I(t,Gr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&a instanceof me&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))h={start:a.from,endA:a.to,endB:a.to};else{if(u.sel){let I=a0(t,t.state.doc,u.sel);if(I&&!I.eq(t.state.selection)){let M=t.state.tr.setSelection(I);o&&M.setMeta("composition",o),t.dispatch(M)}}return}if(ot&&t.cursorWrapper&&u.sel&&u.sel.anchor==t.cursorWrapper.deco.from&&u.sel.head==u.sel.anchor){let I=h.endB-h.start;u.sel={anchor:u.sel.anchor+I,head:u.sel.anchor+I}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof me&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),At&&xr<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>u.from&&u.doc.textBetween(h.start-u.from-1,h.start-u.from+1)==" "&&(h.start--,h.endA--,h.endB--);let v=u.doc.resolveNoCache(h.start-u.from),S=u.doc.resolveNoCache(h.endB-u.from),m=c.resolve(h.start),y=v.sameParent(S)&&v.parent.inlineContent&&m.end()>=h.endA,g;if((Oo&&t.input.lastIOSEnter>Date.now()-225&&(!y||i.some(I=>I.nodeName=="DIV"||I.nodeName=="P"))||!y&&v.pos<u.doc.content.size&&!v.sameParent(S)&&(g=le.findFrom(u.doc.resolve(v.pos+1),1,!0))&&g.head==S.pos)&&t.someProp("handleKeyDown",I=>I(t,Gr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&uq(c,h.start,h.endA,v,S)&&t.someProp("handleKeyDown",I=>I(t,Gr(8,"Backspace")))){rn&&ot&&t.domObserver.suppressSelectionUpdates();return}ot&&rn&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),rn&&!y&&v.start()!=S.start()&&S.parentOffset==0&&v.depth==S.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==h.endA&&(h.endB-=2,S=u.doc.resolveNoCache(h.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(I){return I(t,Gr(13,"Enter"))})},20));let w=h.start,x=h.endA,C,O,k;if(y){if(v.pos==S.pos)At&&xr<=11&&v.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Vn(t),20)),C=t.state.tr.delete(w,x),O=c.resolve(h.start).marksAcross(c.resolve(h.endA));else if(h.endA==h.endB&&(k=aq(v.parent.content.cut(v.parentOffset,S.parentOffset),m.parent.content.cut(m.parentOffset,h.endA-m.start()))))C=t.state.tr,k.type=="add"?C.addMark(w,x,k.mark):C.removeMark(w,x,k.mark);else if(v.parent.child(v.index()).isText&&v.index()==S.index()-(S.textOffset?0:1)){let I=v.parent.textBetween(v.parentOffset,S.parentOffset);if(t.someProp("handleTextInput",M=>M(t,w,x,I)))return;C=t.state.tr.insertText(I,w,x)}}if(C||(C=t.state.tr.replace(w,x,u.doc.slice(h.start-u.from,h.endB-u.from))),u.sel){let I=a0(t,C.doc,u.sel);I&&!(ot&&rn&&t.composing&&I.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(I.head==w||I.head==C.mapping.map(x)-1)||At&&I.empty&&I.head==w)&&C.setSelection(I)}O&&C.ensureMarks(O),o&&C.setMeta("composition",o),t.dispatch(C.scrollIntoView())}function a0(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Tm(t,e.resolve(n.anchor),e.resolve(n.head))}function aq(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,l,a;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(i.length==1&&o.length==0)l=i[0],s="add",a=c=>c.mark(l.addToSet(c.marks));else if(i.length==0&&o.length==1)l=o[0],s="remove",a=c=>c.mark(l.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(a(e.child(c)));if($.from(u).eq(t))return{mark:l,type:s}}function uq(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||qf(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(qf(o,!0,!0));return!s.parent.isTextblock||s.pos>n||qf(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function qf(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function cq(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let a=Math.max(0,o-Math.min(s,l));r-=s+a-o}if(s<o&&t.size<e.size){let a=r<=o&&r>=s?o-r:0;o-=a,o&&o<e.size&&u0(e.textBetween(o-1,o+1))&&(o+=a?1:-1),l=o+(l-s),s=o}else if(l<o){let a=r<=o&&r>=l?o-r:0;o-=a,o&&o<t.size&&u0(t.textBetween(o-1,o+1))&&(o+=a?1:-1),s=o+(s-l),l=o}return{start:o,endA:s,endB:l}}function u0(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class SY{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new IK,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(h0),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=d0(this),f0(this),this.nodeViews=p0(this),this.docView=H1(this.state.doc,c0(this),Kf(this),this.dom,this),this.domObserver=new tq(this,(r,i,o,s)=>lq(this,r,i,o,s)),this.domObserver.start(),PK(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&_p(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(h0),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(kx(this),s=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=p0(this);dq(p,this.nodeViews)&&(this.nodeViews=p,o=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&_p(this),this.editable=d0(this),f0(this);let a=Kf(this),u=c0(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=o||!this.docView.matchesNode(e.doc,u,a);(f||!e.selection.eq(i.selection))&&(s=!0);let d=c=="preserve"&&s&&this.dom.style.overflowAnchor==null&&KG(this);if(s){this.domObserver.stop();let p=f&&(At||ot)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&fq(i.selection,e.selection);if(f){let h=ot?this.trackWrites=this.domSelectionRange().focusNode:null;(o||!this.docView.update(e.doc,u,a,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=H1(e.doc,u,a,this.dom,this)),h&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&vK(this))?Vn(this,p):(hx(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():d&&qG(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Y){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&B1(this,n.getBoundingClientRect(),e)}else B1(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new _x(e.slice,e.move,i<0?void 0:Y.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(i=n?n(l):l))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let l=o[s].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(At){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&YG(this.dom),Vn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return eK(this,e)}coordsAtPos(e,n=1){return sx(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return oK(this,n||this.state,e)}pasteHTML(e,n){return ul(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return ul(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&($K(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Kf(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return RK(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return ht&&this.root.nodeType===11&&zG(this.dom.ownerDocument)==this.dom?rq(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function c0(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[sn.node(0,t.state.doc.content.size,e)]}function f0(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:sn.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function d0(t){return!t.someProp("editable",e=>e(t.state)===!1)}function fq(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function p0(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function dq(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function h0(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Mr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},bu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},pq=typeof navigator<"u"&&/Mac/.test(navigator.platform),hq=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var qe=0;qe<10;qe++)Mr[48+qe]=Mr[96+qe]=String(qe);for(var qe=1;qe<=24;qe++)Mr[qe+111]="F"+qe;for(var qe=65;qe<=90;qe++)Mr[qe]=String.fromCharCode(qe+32),bu[qe]=String.fromCharCode(qe);for(var Yf in Mr)bu.hasOwnProperty(Yf)||(bu[Yf]=Mr[Yf]);function mq(t){var e=pq&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||hq&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?bu:Mr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const gq=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function yq(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))gq?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function vq(t){let e=Object.create(null);for(let n in t)e[yq(n)]=t[n];return e}function Jf(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function wY(t){return new Xb({props:{handleKeyDown:Sq(t)}})}function Sq(t){let e=vq(t);return function(n,r){let i=mq(r),o,s=e[Jf(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[Jf(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=Mr[r.keyCode])&&o!=i){let l=e[Jf(o,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const $x=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function wq(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const Eq=(t,e,n)=>{let r=wq(t,n);if(!r)return!1;let i=Dx(r);if(!i){let s=r.blockRange(),l=s&&wm(s);return l==null?!1:(e&&e(t.tr.lift(s,l).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&Lx(t,i,e))return!0;if(r.parent.content.size==0&&(To(o,"end")||Y.isSelectable(o))){let s=Em(t.doc,r.before(),r.after(),z.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(To(o,"end")?le.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):Y.create(l.doc,i.pos-o.nodeSize)),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function To(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Cq=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=Dx(r)}let s=o&&o.nodeBefore;return!s||!Y.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Y.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function Dx(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function bq(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const xq=(t,e,n)=>{let r=bq(t,n);if(!r)return!1;let i=Rx(r);if(!i)return!1;let o=i.nodeAfter;if(Lx(t,i,e))return!0;if(r.parent.content.size==0&&(To(o,"start")||Y.isSelectable(o))){let s=Em(t.doc,r.before(),r.after(),z.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection(To(o,"start")?le.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):Y.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},Oq=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=Rx(r)}let s=o&&o.nodeAfter;return!s||!Y.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Y.create(t.doc,o.pos)).scrollIntoView()),!0)};function Rx(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Tq=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Im(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const kq=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=Im(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,s.createAndFill());a.setSelection(le.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},Aq=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Rt||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=Im(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(s,o.createAndFill());l.setSelection(me.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},_q=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Oa(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&wm(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)};function Nq(t){return(e,n)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Y&&e.selection.node.isBlock)return!r.parentOffset||!Oa(e.doc,r.pos)?!1:(n&&n(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(n){let o=i.parentOffset==i.parent.content.size,s=e.tr;(e.selection instanceof me||e.selection instanceof Rt)&&s.deleteSelection();let l=r.depth==0?null:Im(r.node(-1).contentMatchAt(r.indexAfter(-1))),a=t&&t(i.parent,o),u=a?[a]:o&&l?[{type:l}]:void 0,c=Oa(s.doc,s.mapping.map(r.pos),1,u);if(!u&&!c&&Oa(s.doc,s.mapping.map(r.pos),1,l?[{type:l}]:void 0)&&(l&&(u=[{type:l}]),c=!0),c&&(s.split(s.mapping.map(r.pos),1,u),!o&&!r.parentOffset&&r.parent.type!=l)){let f=s.mapping.map(r.before()),d=s.doc.resolve(f);l&&r.node(-1).canReplaceWith(d.index(),d.index()+1,l)&&s.setNodeMarkup(s.mapping.map(r.before()),l)}n(s.scrollIntoView())}return!0}}const Mq=Nq(),Iq=(t,e)=>(e&&e(t.tr.setSelection(new Rt(t.doc))),!0);function Pq(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Gb(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function Lx(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(Pq(t,e,n))return!0;let l=e.parent.canReplace(e.index(),e.index()+1);if(l&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let f=e.pos+i.nodeSize,d=$.empty;for(let v=o.length-1;v>=0;v--)d=$.from(o[v].create(null,d));d=$.from(r.copy(d));let p=t.tr.step(new Dt(e.pos-1,f,e.pos,f,new z(d,1,0),o.length,!0)),h=f+2*o.length;Gb(p.doc,h)&&p.join(h),n(p.scrollIntoView())}return!0}let a=le.findFrom(e,1),u=a&&a.$from.blockRange(a.$to),c=u&&wm(u);if(c!=null&&c>=e.depth)return n&&n(t.tr.lift(u,c).scrollIntoView()),!0;if(l&&To(i,"start",!0)&&To(r,"end")){let f=r,d=[];for(;d.push(f),!f.isTextblock;)f=f.lastChild;let p=i,h=1;for(;!p.isTextblock;p=p.firstChild)h++;if(f.canReplace(f.childCount,f.childCount,p.content)){if(n){let v=$.empty;for(let m=d.length-1;m>=0;m--)v=$.from(d[m].copy(v));let S=t.tr.step(new Dt(e.pos-d.length,e.pos+i.nodeSize,e.pos+h,e.pos+i.nodeSize-h,new z(v,d.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function Fx(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(me.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const $q=Fx(-1),Dq=Fx(1);function Pm(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let Qf=Pm($x,Eq,Cq),m0=Pm($x,xq,Oq);const Fn={Enter:Pm(Tq,Aq,_q,Mq),"Mod-Enter":kq,Backspace:Qf,"Mod-Backspace":Qf,"Shift-Backspace":Qf,Delete:m0,"Mod-Delete":m0,"Mod-a":Iq},Bx={"Ctrl-h":Fn.Backspace,"Alt-Backspace":Fn["Mod-Backspace"],"Ctrl-d":Fn.Delete,"Ctrl-Alt-Backspace":Fn["Mod-Delete"],"Alt-Delete":Fn["Mod-Delete"],"Alt-d":Fn["Mod-Delete"],"Ctrl-a":$q,"Ctrl-e":Dq};for(let t in Fn)Bx[t]=Fn[t];const Rq=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,EY=Rq?Bx:Fn;var xu=200,Ue=function(){};Ue.prototype.append=function(e){return e.length?(e=Ue.from(e),!this.length&&e||e.length<xu&&this.leafAppend(e)||this.length<xu&&e.leafPrepend(this)||this.appendInner(e)):this};Ue.prototype.prepend=function(e){return e.length?Ue.from(e).append(this):this};Ue.prototype.appendInner=function(e){return new Lq(this,e)};Ue.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ue.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ue.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ue.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Ue.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};Ue.from=function(e){return e instanceof Ue?e:e&&e.length?new zx(e):Ue.empty};var zx=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,l){for(var a=o;a<s;a++)if(i(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,l){for(var a=o-1;a>=s;a--)if(i(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=xu)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=xu)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Ue);Ue.empty=new zx([]);var Lq=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(o,l),s)===!1||o>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,o)-l,s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(o,l)-l,s+l)===!1||o<l&&this.left.forEachInvertedInner(r,Math.min(i,l),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ue);const Fq=500;class on{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,l,a,u=[],c=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(r,d+1),o=i.maps.length),o--,c.push(f);return}if(i){c.push(new yn(f.map));let p=f.step.map(i.slice(o)),h;p&&s.maybeStep(p).doc&&(h=s.mapping.maps[s.mapping.maps.length-1],u.push(new yn(h,void 0,void 0,u.length+c.length))),o--,h&&i.appendMap(h,o)}else s.maybeStep(f.step);if(f.selection)return l=i?f.selection.map(i.slice(o)):f.selection,a=new on(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:s,selection:l}}addTransform(e,n,r,i){let o=[],s=this.eventCount,l=this.items,a=!i&&l.length?l.get(l.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),d=new yn(e.mapping.maps[c],f,n),p;(p=a&&a.merge(d))&&(d=p,c?o.pop():l=l.slice(0,l.length-1)),o.push(d),n&&(s++,n=void 0),i||(a=d)}let u=s-r.depth;return u>zq&&(l=Bq(l,u),s-=u),new on(l.append(o),s)}remapping(e,n){let r=new so;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new on(this.items.append(e.map(n=>new yn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(d=>{d.selection&&l--},i);let a=n;this.items.forEach(d=>{let p=o.getMirror(--a);if(p==null)return;s=Math.min(s,p);let h=o.maps[p];if(d.step){let v=e.steps[p].invert(e.docs[p]),S=d.selection&&d.selection.map(o.slice(a+1,p));S&&l++,r.push(new yn(h,v,S))}else r.push(new yn(h))},i);let u=[];for(let d=n;d<s;d++)u.push(new yn(o.maps[d]));let c=this.items.slice(0,i).append(u).append(r),f=new on(c,l);return f.emptyItemCount()>Fq&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,l)=>{if(l>=e)i.push(s),s.selection&&o++;else if(s.step){let a=s.step.map(n.slice(r)),u=a&&a.getMap();if(r--,u&&n.appendMap(u,r),a){let c=s.selection&&s.selection.map(n.slice(r));c&&o++;let f=new yn(u.invert(),a,c),d,p=i.length-1;(d=i.length&&i[p].merge(f))?i[p]=d:i.push(f)}}else s.map&&r--},this.items.length,0),new on(Ue.from(i.reverse()),o)}}on.empty=new on(Ue.empty,0);function Bq(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class yn{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new yn(n.getMap().invert(),n,this.selection)}}}class rr{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const zq=20;function jq(t,e,n,r){let i=n.getMeta(kr),o;if(i)return i.historyState;n.getMeta(Vq)&&(t=new rr(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(kr))return s.getMeta(kr).redo?new rr(t.done.addTransform(n,void 0,r,Ta(e)),t.undone,g0(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new rr(t.done,t.undone.addTransform(n,void 0,r,Ta(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=t.prevTime==0||!s&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!Uq(n,t.prevRanges)),u=s?Xf(t.prevRanges,n.mapping):g0(n.mapping.maps[n.steps.length-1]);return new rr(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,Ta(e)),on.empty,u,n.time,l??t.prevComposition)}else return(o=n.getMeta("rebased"))?new rr(t.done.rebased(n,o),t.undone.rebased(n,o),Xf(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new rr(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Xf(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function Uq(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function g0(t){let e=[];return t.forEach((n,r,i,o)=>e.push(i,o)),e}function Xf(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function jx(t,e,n,r){let i=Ta(e),o=kr.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let l=s.selection.resolve(s.transform.doc),a=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),u=new rr(r?a:s.remaining,r?s.remaining:a,null,0,-1);n(s.transform.setSelection(l).setMeta(kr,{redo:r,historyState:u}).scrollIntoView())}let Zf=!1,y0=null;function Ta(t){let e=t.plugins;if(y0!=e){Zf=!1,y0=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Zf=!0;break}}return Zf}const kr=new ex("history"),Vq=new ex("closeHistory");function CY(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Xb({key:kr,state:{init(){return new rr(on.empty,on.empty,null,0,-1)},apply(e,n,r){return jq(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?Wq:r=="historyRedo"?Hq:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const Wq=(t,e)=>{let n=kr.getState(t);return!n||n.done.eventCount==0?!1:(e&&jx(n,t,e,!1),!0)},Hq=(t,e)=>{let n=kr.getState(t);return!n||n.undone.eventCount==0?!1:(e&&jx(n,t,e,!0),!0)};export{yY as A,pY as B,fY as C,dY as D,CY as E,gY as F,wY as G,Wq as H,Hq as I,EY as J,ms as K,ol as L,SY as M,jH as N,VH as O,uY as P,h9 as Q,Ra as R,vY as S,nY as U,Qq as _,Xq as a,Rs as b,eY as c,Zq as d,ie as e,Jq as f,Yq as g,Kq as h,kM as i,Gq as j,Up as k,oY as l,q6 as m,aY as n,rY as o,Fu as p,iY as q,H as r,mY as s,qq as t,sY as u,tY as v,cY as w,lY as x,hY as y,QC as z};
