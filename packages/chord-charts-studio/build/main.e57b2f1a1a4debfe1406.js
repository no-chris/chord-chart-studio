(()=>{"use strict";var e,t={"SF5+":(e,t,n)=>{var r=n("P4Tr"),o=n.n(r),i=n("m14p"),a=n("5HXA"),l=n("sINF"),c=n("R0vF"),s=(n("yq1k"),n("tkto"),n("pNMO"),n("TeQF"),n("07d7"),n("5DmW"),n("FZtP"),n("27RR"),n("JZM8")),u=n.n(s);function p(){return Date.now()}var d="db/files/Create",m="db/files/Delete",f="db/files/Import",g="db/files/Update",h="db/options/setOptionValue",y="ui/layout/app/setEditorMode",b="ui/layout/app/toggleLeftBar",v="ui/layout/app/toggleRightBar",C=function(e){return e.ui.layout.app.isLeftBarCollapsed},O=function(e){return e.ui.layout.app.isRightBarCollapsed},E=function(e){return e.ui.layout.app.editorMode},w=function(e){return e.fileManager.selected},P=function(e){return e.fileManager.renamed},R=function(e){return e.fileManager.defaultTitle},j=(n("ToJy"),n("zKZe"),n("3WF5")),F=n.n(j),S=n("BkRI"),N=n.n(S),q=n("Y+p1"),k=n.n(q),T=n("xweI"),x=n.n(T),I=n("G4qV"),A=n("EsgF");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=(0,I.wN)(A.PW,k())((function(e){return F()(e.db.files.allFiles,(function(e){return{title:e.title,id:e.id}}))}),(function(e){return x()(e,(function(e){return e.title.toLowerCase()}))})),L=function(e,t){return e.db.files.allFiles[t]},z=function(e,t,n){var r=e.db.files.allFiles[t];if(r&&(r.options||{})[n]){if(0===Object.keys(r.options[n]).length)return;return N()(r.options[n])}},W=function(e,t){var n=e.db.files.allFiles[t];if(n){var r=n.options||{},o=[];if(r.edit&&o.push(_({},r.edit)),r.play&&o.push(_({},r.play)),r.print&&o.push(_({},r.print)),r.export&&o.push(_({},r.export)),o.length)return o.sort((function(e,t){return e.updatedAt-t.updatedAt})),o.reduce((function(e,t){return Object.assign(e,t)}),{})}};const H={edit:["transposeValue","harmonizeAccidentals","preferredAccidentals"],play:["transposeValue","harmonizeAccidentals","preferredAccidentals","chartType","alignChordsWithLyrics","alignBars","autoRepeatChords","expandSectionCopy","columnsCount","fontSize","chordsColor","highlightChords"],print:["transposeValue","harmonizeAccidentals","preferredAccidentals","chartType","alignChordsWithLyrics","alignBars","autoRepeatChords","expandSectionCopy","columnsCount","columnBreakOnParagraph","documentMargins","fontSize","highlightChords"],export:["transposeValue","harmonizeAccidentals","preferredAccidentals","chartFormat","chartType","alignChordsWithLyrics","alignBars","autoRepeatChords","expandSectionCopy"]};function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z={allFiles:{}};function U(e,t){var n=t.payload,r=n.id,o=n.title,i=n.content,a=V({},e.allFiles);return a[r]={id:r,title:o,content:i},V(V({},e),{},{allFiles:a})}function K(e,t){var n=t.payload,r=n.id,o=n.title,i=n.content;if(!o&&void 0===i||!e.allFiles[r])return e;var a=V({},e.allFiles);return a[r]=V({},a[r]),o&&(a[r].title=o),void 0!==i&&(a[r].content=i),V(V({},e),{},{allFiles:a})}function Y(e,t){var n=t.payload.id;if(!n||!e.allFiles[n])return e;var r=V({},e.allFiles);return delete r[n],V(V({},e),{},{allFiles:r})}function J(e,t,n){var r=t.payload,o=r.context,i=r.key,a=r.value,l=w(n),c=V({},e.allFiles);if(["songFormatting","songPreferences"].includes(o)&&c[l]){var s=E(n),u="songPreferences"===o?"preferences":s;return c[l]=function(e,t,n,r){return V(V({},e),{},{options:V(V({},e.options),{},$({},t,V(V({},(e.options||{})[t]),{},$({updatedAt:p()},n,r))))})}(c[l],u,i,a),V(V({},e),{},{allFiles:c})}return e}function X(e,t,n){var r=w(n),o=t.payload.mode;if(!!!z(n,r,o)){var i=u()(W(n,r)||{},H[o]);if(Object.keys(i).length){i.updatedAt=p();var a=V({},e.allFiles);return a[r]=V(V({},a[r]),{},{options:V(V({},a[r].options),{},$({},o,i))}),V(V({},e),{},{allFiles:a})}}return e}n("4mDm"),n("3bBZ");var Q="fileManager/select",ee="fileManager/enableRename",te=function(e,t,n){if(e.db.options[t]&&e.db.options[t].values&&void 0!==e.db.options[t].values[n])return e.db.options[t].values[n]},ne=function(e,t){if(e.db.options[t]&&e.db.options[t].defaults)return N()(e.db.options[t].defaults)};function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae={};function le(e,t){var n=t.payload,r=n.context,o=n.key,i=n.value;if(!e[r]||!e[r].values||void 0===e[r].values[o])return e;var a=oe(oe({},e),{},ie({},r,oe(oe({},e[r]),{},{values:oe({},e[r].values)})));return a[r].values[o]=i,a}function ce(e,t,n){var r=se(n,w(n),t.payload.mode);return oe(oe({},e),{},{songFormatting:oe(oe({},e.songFormatting),{},{values:oe({},r)})})}function se(e,t,n){var r=ne(e,"songFormatting"),o=z(e,t,n);return o||(o=W(e,t)||{}),delete o.updatedAt,o=u()(o,H[n]),Object.assign(r,o)}function ue(e,t,n){var r=t.payload.id,o=se(n,r,E(n)),i=z(n,r,"preferences")||{};delete i.updatedAt;var a=ne(n,"songPreferences"),l=Object.assign(a,i);return oe(oe({},e),{},{songPreferences:oe(oe({},e.songPreferences),{},{values:oe({},l)}),songFormatting:oe(oe({},e.songFormatting),{},{values:oe({},o)})})}const pe=(0,c.Z)({files:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};switch(t.type){case d:case f:return U(e,t);case g:return K(e,t);case m:return Y(e,t);case h:return J(e,t,n);case y:return X(e,t,n)}return e},options:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};switch(t.type){case h:return le(e,t);case y:return ce(e,t,n);case Q:return ue(e,t,n)}return e}});function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge={selected:"",renamed:"",defaultTitle:"[untitled]"};var he="songImporter/import/cancel",ye="songImporter/import/start",be="songImporter/setContent",ve="songImporter/setInputFormat",Ce=n("wMS7"),Oe=n.n(Ce);function Ee(e){return Oe().sanitize(e,{ALLOWED_TAGS:["#text"],KEEP_CONTENT:!0})}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){Re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je={content:"",isFromWeb:!1,isImporting:!1,inputFormat:"basic",title:""};function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe={isLeftBarCollapsed:!1,isRightBarCollapsed:!1,editorMode:"edit",activeModal:"none"};const ke=(0,c.Z)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case b:return Se(Se({},e),{},{isLeftBarCollapsed:!e.isLeftBarCollapsed});case v:return Se(Se({},e),{},{isRightBarCollapsed:!e.isRightBarCollapsed});case y:var n=t.payload.mode;return Se(Se({},e),{},{editorMode:n});case m:case d:case f:return Se(Se({},e),{},{editorMode:"edit"})}return e}}),Te=(0,c.Z)({layout:ke}),xe=(0,c.Z)({db:pe,fileManager:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d:var n=t.payload.id;return me(me({},e),{},{selected:n,renamed:n});case f:var r=t.payload.id;return me(me({},e),{},{selected:r,renamed:""});case g:return me(me({},e),{},{renamed:""});case m:return me(me({},e),{},{selected:"",renamed:""});case Q:var o=t.payload.id;return me(me({},e),{},{selected:o,renamed:o===e.renamed?o:""});case ee:var i=t.payload.id;return me(me({},e),{},{renamed:i})}return e},songImporter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case be:var n=t.payload,r=n.content,o=n.title,i=void 0===o?"":o;return Pe(Pe({},e),{},{content:Ee(r),title:i?Ee(i):e.title});case ve:var a=t.payload.inputFormat;return Pe(Pe({},e),{},{inputFormat:a});case f:case he:return Pe(Pe({},e),{},{content:"",title:"",isImporting:!1});case ye:var l=t.payload,c=l.content,s=l.inputFormat,u=l.title,p=l.isFromWeb;return Pe(Pe({},e),{},{isImporting:!0,content:c?Ee(c):"",title:u?Ee(u):"",inputFormat:s||e.inputFormat,isFromWeb:p})}return e},ui:Te}),Ie={db:{options:{songPreferences:{values:{transposeValue:0,harmonizeAccidentals:!0,preferredAccidentals:"auto"},defaults:{transposeValue:0,harmonizeAccidentals:!0,preferredAccidentals:"auto"}},songFormatting:{values:{chartFormat:"chordmark",chartType:"all",alignChordsWithLyrics:!0,alignBars:!0,autoRepeatChords:!0,expandSectionCopy:!0,columnsCount:1,columnBreakOnParagraph:!0,documentMargins:3,fontSize:0,chordsColor:"yellow",highlightChords:!1},defaults:{chartFormat:"chordmark",chartType:"all",alignChordsWithLyrics:!0,alignBars:!0,autoRepeatChords:!0,expandSectionCopy:!0,columnsCount:1,columnBreakOnParagraph:!0,documentMargins:3,fontSize:0,chordsColor:"yellow",highlightChords:!1}}}}};var Ae;function Me(){var e=(0,a.Uo)((0,i.md)(l.Z)),t=function(){try{var e=localStorage.getItem("state");if(!e)return;return JSON.parse(e)}catch(e){return}}();t&&t.db&&t.db.options&&delete t.db.options.rendering;var n=o()(t,Ie);(Ae=(0,i.MT)(xe,n,e)).subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(e){}}(Ae.getState())}))}function _e(){return Ae}function Be(e,t){if(!e)throw new TypeError("Cannot create an action without an action type");return{type:e,payload:t}}var De={"@CCS/IMPORT_TAB":function(e){var t=_e(),n=Le(e.title,e.artist);t.dispatch(function(e,t,n){return Be(ye,{content:t,inputFormat:e,title:n,isFromWeb:!0})}(e.source,e.chordChart,n))}},Le=function(e,t){var n=e;return t&&(n+=" - "+t),n};function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var He=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},De);if(e.source!==window||e.origin!==window.location.origin)return!1;var n=e.data;return"function"==typeof t[n.type]&&t[n.type](n.payload),!0},Ge=n("9Mdx"),Ve=n("q1tI"),$e=n("i8i4"),Ze=n("rL7s"),Ue=(n("JfAA"),n("NBAS"),n("SuFq"),n("4Brf"),n("0oug"),n("PKPk"),n("17x9")),Ke=n.n(Ue);function Ye(e){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return Xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Xe(e,t)}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tt(e);if(t){var o=tt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return et(this,n)}}function et(e,t){if(t&&("object"===Ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function tt(e){return tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},tt(e)}var nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xe(e,t)}(i,e);var t,n,r,o=Qe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={error:null,errorInfo:null},t}return t=i,(n=[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.errorInfo?Ve.createElement("div",{className:"ErrorBoundary"},Ve.createElement("h2",null,"Something went wrong"),Ve.createElement("details",{style:{whiteSpace:"pre-wrap"},open:!0},this.state.error&&this.state.error.toString(),Ve.createElement("br",null),this.state.errorInfo.componentStack)):this.props.children}}])&&Je(t.prototype,n),r&&Je(t,r),i}(Ve.Component);nt.propTypes={children:Ke().any};const rt=nt;var ot=function(e){return Be(y,{mode:e})},it=(n("oVuX"),n("/ysv"));function at(){return Ve.createElement("div",{className:"logo"},Ve.createElement("div",{className:"logo-isExpanded"},Ve.createElement("div",{className:"logo-img"},Ve.createElement("img",{src:it,alt:"Chord Charts Studio"})),Ve.createElement("div",{className:"logo-txt"},"Chord Charts Studio")))}const lt=Ve.memo(at);n("2B1R");function ct(e){var t=e.iconName;return Ve.createElement("i",{className:["icon","material-icons"].join(" ")},t)}ct.propTypes={iconName:Ke().string.isRequired};const st=Ve.memo(ct);function ut(e){var t=e.label,n=e.icon,r=e.editorMode,o=e.setEditorMode,i=e.isActive,a=e.isDisabled,l=["mainNavEntry"];return i&&l.push("mainNavEntry-isActive"),a&&l.push("mainNavEntry-isDisabled"),Ve.createElement("li",{className:l.join(" "),onClick:function(){a||o(r)}},Ve.createElement("span",{className:"mainNavEntry-icon"},Ve.createElement(st,{iconName:n})),t)}ut.propTypes={label:Ke().string.isRequired,icon:Ke().string.isRequired,editorMode:Ke().string.isRequired,setEditorMode:Ke().func.isRequired,isActive:Ke().bool.isRequired,isDisabled:Ke().bool.isRequired};const pt=Ve.memo(ut);function dt(){return dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dt.apply(this,arguments)}function mt(e){var t=e.currentMode,n=e.allEntries,r=e.setEditorMode,o=e.selectedId;return Ve.createElement("nav",{className:"mainNav"},Ve.createElement("ul",{className:"mainNav-entries"},n.map((function(e,n){return Ve.createElement(pt,dt({key:n,isActive:!!o&&e.editorMode===t,isDisabled:!o,setEditorMode:r},e))}))))}mt.propTypes={currentMode:Ke().string.isRequired,setEditorMode:Ke().func.isRequired,selectedId:Ke().string,allEntries:Ke().arrayOf(Ke().shape({id:Ke().string.isRequired,label:Ke().string.isRequired,icon:Ke().string.isRequired,editorMode:Ke().string.isRequired}))};const ft=Ve.memo(mt);var gt=function(e){var t=e.children,n=e.isDisabled,r=e.buttonName,o=e.onClick,i=e.type,a=["Button"];return"primary"===i&&a.push("Button-primary"),"secondary"===i&&a.push("Button-secondary"),n&&a.push("Button-isDisabled"),Ve.createElement("button",{className:a.join(" "),disabled:n,type:"button",name:r,onClick:o},t)};gt.propTypes={children:Ke().string.isRequired,isDisabled:Ke().bool,buttonName:Ke().string.isRequired,type:Ke().string.isRequired,onClick:Ke().func.isRequired},gt.defaultProps={isDisabled:!1};const ht=gt;var yt=function(){return Ve.createElement("div",{className:"userGuide"},Ve.createElement("div",{className:"userGuide-isCollapsed"},Ve.createElement(st,{iconName:"help_outline"})),Ve.createElement("div",{className:"userGuide-isExpanded"},Ve.createElement(ht,{buttonName:"userGuide",type:"primary",onClick:function(){window.open("https://chordmark.netlify.app/docs/chord-charts-studio/overview","_blank").focus()}},"User Guide")))};yt.propTypes={},yt.defaultProps={};const bt=Ve.memo(yt);function vt(){var e={"chord-charts-studio":"v0.11.0","chord-symbol":"v2.1.0","chord-mark":"v0.8.0"};return Ve.createElement("div",{className:"versions"},Ve.createElement("div",{className:"versions-isExpanded"},"Chords Charts Studio ",e["chord-charts-studio"],Ve.createElement("br",null),"ChordMark ",e["chord-mark"]," ",Ve.createElement("br",null),"ChordSymbol ",e["chord-symbol"]))}const Ct=Ve.memo(vt);var Ot=n("NiUT"),Et=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)throw new TypeError("Cannot import a file without title");var n={id:(0,Ot.Z)(),title:e,content:t};return Be(f,n)},wt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=t.content;if(!e)throw new TypeError("Cannot update a file without an id");var o={id:e,title:n,content:r};return Be(g,o)},Pt=function(e){return e.songImporter.content},Rt=function(e){return e.songImporter.inputFormat},jt=function(e){return e.songImporter.title},Ft=function(e){return e.songImporter.isImporting},St=function(e){return e.songImporter.isFromWeb};function Nt(e){var t=e.children,n=e.closeModal;return(0,Ve.useEffect)((function(){var e=function(e){"Escape"===e.key&&n()};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}})),Ve.createElement("section",{className:"mod-ModalContainer"},Ve.createElement("div",{className:"mod-Overlay",onClick:n,"data-testid":"modal-overlay"}),Ve.createElement("div",{className:"mod-ContentContainer"},t))}Nt.propTypes={children:Ke().element.isRequired,closeModal:Ke().func.isRequired};const qt=Nt;var kt=function(e){var t=e.cancelImport,n=e.chordMarkContent,r=e.importFile,o=e.title,i=e.content,a=e.error,l=o?'Import "'+o+'"':"Import song";return Ve.createElement("div",{className:"sim-Header_Container"},Ve.createElement("div",{className:"sim-Header_Title"},l),Ve.createElement("div",{className:"sim-Header_Actions"},Ve.createElement(ht,{onClick:t,buttonName:"cancel",type:"secondary"},"CANCEL"),Ve.createElement(ht,{onClick:function(){r(o||"[untitled]",n)},buttonName:"import",type:"primary",isDisabled:""===i||""!==a},"IMPORT")))};kt.propTypes={cancelImport:Ke().func.isRequired,chordMarkContent:Ke().string,content:Ke().string,error:Ke().string,importFile:Ke().func.isRequired,title:Ke().string};const Tt=kt;n("5s+n"),n("sMBO");var xt=n("zuWl"),It=n.n(xt),At=function(e){return e.name.substr(0,e.name.lastIndexOf("."))},Mt=function(e){return e.size>51200},_t=function(e){return 0===e.type.indexOf("text")||0===e.type.length},Bt=function(e){return"The selected file is too big: "+It()(e,{round:0})+" (maximum allowed file size is "+It()(51200,{round:0})+")."},Dt=function(e){return"Cannot import file of type "+e.type+"."},Lt=function(){return"No file selected."};const zt=function(e){return new Promise((function(t,n){if(e.length){var r=e[0];Mt(r)?n(Bt(r.size)):_t(r)?r.text().then((function(e){t({content:e,title:At(r)})})).catch((function(e){n(e)})):n(Dt(r))}else n(Lt())}))};var Wt=function(e){var t=e.setContent;return Ve.createElement("div",null,Ve.createElement("label",{htmlFor:"importSong-Input",className:"Button Button-primary"},"Select File"),Ve.createElement("input",{id:"importSong-Input",name:"importSong-Input",type:"file",className:"sim-InputFile_Input",onChange:function(e){zt(e.target.files).then((function(e){t(e.content,e.title)})).catch((function(e){t(e)}))},accept:"text/*,.cho,.crd,.chopro,.chord,.pro,.txt,.md"}))};Wt.propTypes={setContent:Ke().func.isRequired};const Ht=Wt;function Gt(e){var t=e.content,n=e.setContent,r=e.isDisabled,o=["sim-Input_Textarea"];return r&&o.push("sim-Input_Textarea-Disabled"),Ve.createElement(Ve.Fragment,null,Ve.createElement("div",{className:"sim-Input_Header"},Ve.createElement(st,{iconName:"arrow_drop_down"}),"Copy/paste below",Ve.createElement(st,{iconName:"arrow_drop_down"})),Ve.createElement("textarea",{className:o.join(" "),onChange:function(e){n(e.target.value)},value:t,disabled:r,"data-testid":"sim-input"}))}Gt.propTypes={content:Ke().string.isRequired,isDisabled:Ke().bool.isRequired,setContent:Ke().func.isRequired},Gt.defaultProps={};const Vt=Gt;function $t(e){var t=e.inputFormat,n=e.error;return Ve.createElement("div",{className:"sim-Preview_Error"},Ve.createElement("p",null,"There was an error when trying to parse the song in the specified input format (",t,").",Ve.createElement("br",null),"Please correct the input or try another format.",Ve.createElement("br",null),"The error was:"),Ve.createElement("p",null,'"',n,'"'),Ve.createElement("p",null,'Hint: most of the time, this is related to an unclosed "[" or "{" or an unsupported ChordPro directive'))}$t.propTypes={error:Ke().string,inputFormat:Ke().string.isRequired},$t.defaultProps={};const Zt=$t;function Ut(e){var t=e.setInputFormat,n=e.inputFormat,r=e.id,o=e.label,i=e.isDisabled,a=["sim-InputFormat_Entry"],l=["sim-InputFormat_Label"];return i&&(a.push("sim-InputFormat_Entry-Disabled"),l.push("sim-InputFormat_Label-Disabled")),Ve.createElement(Ve.Fragment,null,Ve.createElement("input",{className:a.join(" "),type:"radio",name:"inputFormat",id:r,value:r,onChange:function(e){i||t(e.target.value)},checked:n===r}),Ve.createElement("label",{className:l.join(" "),htmlFor:r},o))}Ut.propTypes={setInputFormat:Ke().func.isRequired,inputFormat:Ke().string.isRequired,id:Ke().string.isRequired,label:Ke().string.isRequired,isDisabled:Ke().bool.isRequired},Ut.defaultProps={};const Kt=Ut;var Yt=[{id:"basic",label:"Basic"},{id:"chordpro",label:"ChordPro"},{id:"ultimateGuitar",label:"Ultimate Guitar"}];function Jt(e){var t=e.setInputFormat,n=e.inputFormat,r=e.disableAll,o=Yt.map((function(e){return Ve.createElement(Kt,{setInputFormat:t,id:e.id,key:e.id,label:e.label,inputFormat:n,isDisabled:r})}));return Ve.createElement("div",{className:"sim-InputFormat"},"Input format:",o)}Jt.propTypes={disableAll:Ke().bool.isRequired,setInputFormat:Ke().func.isRequired,inputFormat:Ke().string.isRequired},Jt.defaultProps={};const Xt=Jt;n("rB9j"),n("UxlC");var Qt=n("akyv");n("HiXI"),n("SYor"),n("7ueG"),n("pjDv"),n("+2oP");function en(e){return function(e){if(Array.isArray(e))return tn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nn=[];function rn(e){return nn.length=0,on(e),nn.join("\n")}var on=function(e){e.bodyParagraphs.map((function(e){an(e),nn.push("")}))},an=function(e){switch(e.type){case"verse":nn.push("#v");break;case"chorus":nn.push("#c")}e.lines.map((function(e){return ln(e)}))},ln=function(e){var t=[cn(e),sn(e),un(e)].filter((function(e){return null!==e})).map((function(e){return e.trimRight()}));nn.push.apply(nn,en(t))},cn=function(e){return dn(e)?e.items.reduce((function(e,t){return gn(t)&&(e+=t.chords.trim()+" "),e}),""):null},sn=function(e){return mn(e)?e.items.reduce((function(e,t){return hn(t)||(e+=" "),gn(t)&&(e+="_"),yn(t)&&(e+=" "),e+=t.lyrics.trim(),bn(t)&&(e+=" "),e}),""):null},un=function(e){if(!fn(e))return null;var t=e.items[0].value.toLowerCase().replace(/[- 0-9]/g,"");return pn[t]?pn[t]:"#"+t},pn={adlib:"#a",bridge:"#b",chorus:"#c",interlude:"#u",intro:"#i",introduction:"#i",outro:"#o",prechorus:"#p",solo:"#s"},dn=function(e){return e.items.some((function(e){return e instanceof Qt.YN&&e.chords}))},mn=function(e){return e.items.some((function(e){return e instanceof Qt.YN&&e.lyrics}))},fn=function(e){return e.items.some((function(e){return e instanceof Qt.Vp&&e.isRenderable()}))},gn=function(e){return e instanceof Qt.YN&&e.chords.trim().length},hn=function(e){return e.lyrics.length},yn=function(e){return e.lyrics.length-e.lyrics.trimLeft().length>=1},bn=function(e){return e.lyrics.trim().length&&e.lyrics.length-e.lyrics.trimRight().length>=1};function vn(e){var t=e.replace(/\r\n/g,"\n").replace(/\t/g," ").replace(/\[\/?ch]/g,"").replace(/\[\/?tab]/g,"");return rn((new Qt.ZP.UltimateGuitarParser).parse(t))}var Cn=function(e){if("ultimateGuitar"===e)return vn;var t="chordpro"===e?new Qt.ZP.ChordProParser:new Qt.ZP.ChordSheetParser;return function(e){return rn(t.parse(e))}};const On=function(e,t){return Cn(t)(e)};function En(e){var t=e.cancelImport,n=e.content,r=e.importFile,o=e.isFromWeb,i=e.isImporting,a=e.setContent,l=e.setInputFormat,c=e.inputFormat,s=e.title;if(!i)return null;var u="",p="";try{u=On(n,c)}catch(e){p=e.message}return Ve.createElement(qt,{closeModal:t},Ve.createElement("div",{className:"sim-SongImporterModal_Container","data-testid":"song-importer"},Ve.createElement(Tt,{cancelImport:t,chordMarkContent:u,content:n,error:p,importFile:r,title:s}),Ve.createElement("div",{className:"sim-TwoColumns_Container"},Ve.createElement("div",{className:"sim-Column_Container"},Ve.createElement(Ht,{setContent:a})),Ve.createElement("div",{className:"sim-Column_Container"},Ve.createElement(Xt,{inputFormat:c,setInputFormat:l,disableAll:!0===o}))),Ve.createElement("div",{className:"sim-TwoColumns_Container sim-TwoColumns_Container-autoHeight"},Ve.createElement("div",{className:"sim-Column_Container"},Ve.createElement(Vt,{content:n,setContent:a,isDisabled:o})),Ve.createElement("div",{className:"sim-Column_Container"},Ve.createElement("div",{className:"sim-Input_Header"},Ve.createElement(st,{iconName:"arrow_drop_down"}),"ChordMark preview",Ve.createElement(st,{iconName:"arrow_drop_down"})),Ve.createElement("div",{className:"sim-Preview_Container","data-testid":"sim-preview"},p?Ve.createElement(Zt,{inputFormat:c,error:p}):u)))))}En.propTypes={cancelImport:Ke().func.isRequired,content:Ke().string.isRequired,importFile:Ke().func.isRequired,isFromWeb:Ke().bool.isRequired,isImporting:Ke().bool.isRequired,setContent:Ke().func.isRequired,setInputFormat:Ke().func.isRequired,inputFormat:Ke().string.isRequired,title:Ke().string},En.defaultProps={};const wn=En,Pn=(0,Ze.$j)((function(e){return{content:Pt(e),isFromWeb:St(e),isImporting:Ft(e),inputFormat:Rt(e),title:jt(e)}}),{setContent:function(e,t){return Be(be,{content:e,title:t})},setInputFormat:function(e){return Be(ve,{inputFormat:e})},cancelImport:function(){return Be(he)},importFile:Et})(wn),Rn=[{id:"edit",label:"Edit",icon:"create",editorMode:"edit"},{id:"play",label:"Screen view",icon:"music_note",editorMode:"play"},{id:"print",label:"Print/PDF Preview",icon:"print",editorMode:"print"},{id:"export",label:"Export Preview",icon:"save_alt",editorMode:"export"}];function jn(e){var t=e.editorMode,n=e.isLeftBarCollapsed,r=e.isRightBarCollapsed,o=e.toggleLeftBar,i=e.toggleRightBar,a=e.setEditorMode,l=e.selectedId,c=e.leftBar,s=e.rightBar,u=["leftBar"];n&&u.push("leftBar-isCollapsed");var p=["rightBar"];return r&&p.push("rightBar-isCollapsed"),Ve.createElement("div",{className:"appLayout-wrapper"},Ve.createElement(Pn,null),Ve.createElement("section",{className:u.join(" ")},Ve.createElement("div",{className:"leftBar-content",onClick:n?o:null},Ve.createElement(lt,null),c),Ve.createElement("div",{className:"leftBar-collapser",onClick:o,"data-testid":"leftBar-collapser"},Ve.createElement("span",{className:"leftBar-collapserIcon"},Ve.createElement(st,{iconName:"keyboard_arrow_left"})))),Ve.createElement("section",{className:"appLayout-main"},Ve.createElement("section",{className:"appLayout-header"},Ve.createElement(ft,{allEntries:Rn,currentMode:t,setEditorMode:a,selectedId:l})),Ve.createElement("section",{className:"appLayout-content"},e.children)),Ve.createElement("section",{className:p.join(" ")},Ve.createElement("div",{className:"rightBar-collapser",onClick:i,"data-testid":"rightBar-collapser"},Ve.createElement("span",{className:"rightBar-collapserIcon"},Ve.createElement(st,{iconName:"keyboard_arrow_right"}))),Ve.createElement("div",{className:"rightBar-content",onClick:r?i:null},Ve.createElement(bt,null),s,Ve.createElement(Ct,null))))}jn.propTypes={children:Ke().element,isLeftBarCollapsed:Ke().bool,isRightBarCollapsed:Ke().bool,selectedId:Ke().string,toggleLeftBar:Ke().func.isRequired,toggleRightBar:Ke().func.isRequired,editorMode:Ke().string.isRequired,setEditorMode:Ke().func.isRequired,leftBar:Ke().element.isRequired,rightBar:Ke().element.isRequired},jn.defaultProps={isLeftBarCollapsed:!1,isRightBarCollapsed:!1};const Fn=jn,Sn=(0,Ze.$j)((function(e){return{editorMode:E(e),isLeftBarCollapsed:C(e),isRightBarCollapsed:O(e),selectedId:w(e)}}),{toggleLeftBar:function(){return Be(b)},toggleRightBar:function(){return Be(v)},setEditorMode:ot})(Fn);n("ma9I");var Nn=n("Iab2"),qn=(n("EnZy"),n("XHOe")),kn=n("1C0g"),Tn=n.n(kn);function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Mn(e,t,n,"html")}function Mn(e,t,n,r){if(n&&"chordmarkSrc"===t.chartFormat)return"html"===r?Bn(e):e;if(n&&"chordpro"===t.chartFormat){t.customRenderer=Tn();var o=_n(e,t);return"html"===r?Bn(o):o}var i=_n(e,t);return"html"===r?i:i.split("\n").map((function(e){return Ee(e)})).map((function(e){return"&nbsp;"===e?"":e})).join("\n")}function _n(e,t){try{var n=(0,qn.parseSong)(e);return(0,qn.renderSong)(n,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){In(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))}catch(e){return e.message}}function Bn(e){return e.split("\n").map((function(e){return""===e?"&nbsp;":e})).map((function(e){return"<p>".concat(e,"</p>")})).join("\n")}function Dn(){var e=_e().getState(),t=w(e),n=L(e,t),r={transposeValue:te(e,"songPreferences","transposeValue"),harmonizeAccidentals:te(e,"songPreferences","harmonizeAccidentals"),accidentalsType:te(e,"songPreferences","accidentalsType"),chartType:te(e,"songFormatting","chartType"),chartFormat:te(e,"songFormatting","chartFormat"),alignChordsWithLyrics:te(e,"songFormatting","alignChordsWithLyrics"),alignBars:te(e,"songFormatting","alignBars"),autoRepeatChords:te(e,"songFormatting","autoRepeatChords"),expandSectionCopy:te(e,"songFormatting","expandSectionCopy")},o=function(e){return Mn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2&&void 0!==arguments[2]&&arguments[2],"text")}(n.content,r,!0),i="chordpro"===r.chartFormat?"cho":"txt",a="".concat(n.title,".").concat(i),l=new Blob([o],{type:"text/plain;charset=utf-8",endings:"native"});(0,Nn.saveAs)(l,a)}function Ln(e){var t=e.confirmAction,n=e.confirmTitle,r=void 0===n?"OK":n,o=e.cancelAction,i=e.cancelTitle,a=void 0===i?"CANCEL":i,l=e.children;return Ve.createElement(qt,{closeModal:o},Ve.createElement("section",{className:"mod-ModalConfirmContainer"},Ve.createElement("div",{className:"mod-ModalConfirmMessage"},l),Ve.createElement("div",{className:"mod-ModalConfirmButtons"},Ve.createElement(ht,{onClick:o,type:"secondary",buttonName:"cancel"},a),Ve.createElement(ht,{onClick:t,type:"primary",buttonName:"confirm"},r))))}Ln.propTypes={confirmAction:Ke().func.isRequired,confirmTitle:Ke().string,cancelAction:Ke().func.isRequired,cancelTitle:Ke().string,children:Ke().node.isRequired};const zn=Ln;function Wn(e){var t=e.selected,n=e.deleteFile,r=e.isDeleting,o=e.setIsDeleting;if(!r)return null;return Ve.createElement(zn,{confirmAction:function(){o(!1),n(t)},confirmTitle:"DELETE",cancelAction:function(){return o(!1)}},"Are you sure you want to delete this file?",Ve.createElement("br",null),"This action cannot be undone.")}Wn.propTypes={deleteFile:Ke().func.isRequired,isDeleting:Ke().bool.isRequired,selected:Ke().string.isRequired,setIsDeleting:Ke().func.isRequired};const Hn=Wn;function Gn(e){var t=e.icon,n=e.text,r=e.action,o=e.isDisabled,i=["fileManagerAction"];o&&i.push("fileManagerAction-isDisabled");return Ve.createElement("span",{className:i.join(" "),onClick:function(){o||r()}},Ve.createElement("span",{className:"fileManagerAction-icon"},Ve.createElement(st,{iconName:t})," ",n))}Gn.propTypes={icon:Ke().string.isRequired,text:Ke().string.isRequired,action:Ke().func.isRequired,isDisabled:Ke().bool.isRequired};const Vn=Ve.memo(Gn);function $n(){return $n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$n.apply(this,arguments)}function Zn(e){var t=e.selected,n=e.createFile,r=e.deleteFile,o=e.enableRename,i=e.startImport,a=e.exportAsText,l=[{icon:"upload",text:"Import",action:i,isDisabled:!1},{icon:"add_circle",text:"New",action:n,isDisabled:!1},{icon:"create",text:"Rename",action:o,isDisabled:!t},{icon:"delete",text:"Delete",action:r,isDisabled:!t},{icon:"print",text:"Print",action:e.printFile,isDisabled:!t},{icon:"download",text:"Export",action:a,isDisabled:!t}];return Ve.createElement("div",{className:"fileManager-actionsList"},l.map((function(e,t){return Ve.createElement(Vn,$n({},e,{key:t}))})))}Zn.propTypes={selected:Ke().string,createFile:Ke().func.isRequired,deleteFile:Ke().func.isRequired,enableRename:Ke().func.isRequired,exportAsText:Ke().func.isRequired,printFile:Ke().func.isRequired,startImport:Ke().func.isRequired};const Un=Ve.memo(Zn);function Kn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Yn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jn(e){var t=Kn((0,Ve.useState)(e.title),2),n=t[0],r=t[1],o=e.fileId,i=e.isSelected,a=e.isRenamed,l=e.defaultTitle,c=e.selectFile,s=e.enableRename,u=e.updateFile,p=["fileManagerEntry"];i&&p.push("fileManagerEntry-isSelected"),a&&p.push("fileManagerEntry-isRenamed");var d=Ve.createRef();function m(e){u(o,{title:e=e||l}),r(e),d.current.scrollLeft=0}return(0,Ve.useEffect)((function(){a&&d.current.focus()}),[a,d]),Ve.createElement("li",{className:p.join(" "),onClick:function(){i||c(o)},onDoubleClick:function(e){a||(s(o),e.target.select())}},Ve.createElement("input",{className:"fileManagerEntry-input",ref:d,type:"text",value:n,readOnly:a?null:"readOnly",autoFocus:a?"autoFocus":null,onChange:function(e){r(e.target.value)},onBlur:function(e){a&&m(e.target.value)},onFocus:function(e){a&&e.target.select()},onKeyPress:function(e){a&&13===e.which&&(e.preventDefault(),window.getSelection().removeAllRanges(),m(e.target.value))}}))}Jn.propTypes={title:Ke().string.isRequired,fileId:Ke().string.isRequired,isSelected:Ke().bool.isRequired,isRenamed:Ke().bool.isRequired,defaultTitle:Ke().string.isRequired,selectFile:Ke().func.isRequired,enableRename:Ke().func.isRequired,updateFile:Ke().func.isRequired};const Xn=Jn;function Qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return er(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tr(e){var t=Qn((0,Ve.useState)(!1),2),n=t[0],r=t[1],o=e.allTitles,i=e.selected,a=e.renamed,l=e.defaultTitle,c=e.createFile,s=e.deleteFile,u=e.enableRename,p=e.startImport,d=e.selectFile,m=e.updateFile,f=e.setEditorMode;return Ve.createElement("div",{className:"fileManager"},Ve.createElement(Hn,{deleteFile:s,isDeleting:n,selected:i,setIsDeleting:r}),Ve.createElement("div",{className:"fileManager-isCollapsed"},Ve.createElement("span",{className:"fileManager-icon"},Ve.createElement(st,{iconName:"file_copy"}))),Ve.createElement("div",{className:"fileManager-isExpanded"},Ve.createElement(Un,{selected:i,createFile:function(){return c(l)},deleteFile:function(){return r(!0)},enableRename:function(){return u(i)},startImport:function(){return p()},exportAsText:function(){f("export"),setTimeout((function(){return Dn()}),0)},printFile:function(){f("print"),setTimeout((function(){return window.print()}),0)}}),Ve.createElement("ul",{className:"fileManager-entriesList"},o.map((function(e){return Ve.createElement(Xn,{title:e.title,defaultTitle:l,fileId:e.id,isSelected:i===e.id,isRenamed:a===e.id,selectFile:d,updateFile:m,enableRename:u,key:e.id})})))))}tr.propTypes={allTitles:Ke().arrayOf(Ke().shape({title:Ke().string.isRequired,id:Ke().string.isRequired})).isRequired,selected:Ke().string.isRequired,renamed:Ke().string.isRequired,defaultTitle:Ke().string.isRequired,selectFile:Ke().func.isRequired,createFile:Ke().func.isRequired,deleteFile:Ke().func.isRequired,enableRename:Ke().func.isRequired,startImport:Ke().func.isRequired,updateFile:Ke().func.isRequired,setEditorMode:Ke().func.isRequired};const nr=tr,rr=(0,Ze.$j)((function(e){return{selected:w(e),renamed:P(e),defaultTitle:R(e),allTitles:D(e)}}),{selectFile:function(e){return Be(Q,{id:e})},createFile:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e)throw new TypeError("Cannot create a file without title");var n={id:(0,Ot.Z)(),title:e,content:t};return Be(d,n)},deleteFile:function(e){return Be(m,{id:e})},updateFile:wt,enableRename:function(e){return Be(ee,{id:e})},setEditorMode:ot,startImport:function(){return Be(ye,{isFromWeb:!1})}})(nr);var or=n("awlu");function ir(e){return Oe().sanitize(e)}function ar(e){var t=e.content,n=e.useChartFormat,r=An(t,u()(e,["transposeValue","harmonizeAccidentals","accidentalsType","chartType","chartFormat","alignChordsWithLyrics","alignBars","autoRepeatChords","expandSectionCopy"]),n);return Ve.createElement("div",{className:"songRenderer"},Ve.createElement("div",{dangerouslySetInnerHTML:{__html:ir(r)}}))}ar.propTypes={useChartFormat:Ke().bool.isRequired,chartFormat:Ke().string.isRequired,content:Ke().string},ar.defaultProps={content:"",useChartFormat:!1};const lr=ar,cr=(0,Ze.$j)((function(e){return{transposeValue:te(e,"songPreferences","transposeValue"),harmonizeAccidentals:te(e,"songPreferences","harmonizeAccidentals"),accidentalsType:te(e,"songPreferences","preferredAccidentals"),chartFormat:te(e,"songFormatting","chartFormat"),chartType:te(e,"songFormatting","chartType"),alignChordsWithLyrics:te(e,"songFormatting","alignChordsWithLyrics"),alignBars:te(e,"songFormatting","alignBars"),autoRepeatChords:te(e,"songFormatting","autoRepeatChords"),expandSectionCopy:te(e,"songFormatting","expandSectionCopy")}}))(lr);function sr(e){var t=e.selectedFile;return Ve.createElement("div",{className:["editorPreview"].join(" ")},Ve.createElement(cr,{content:t.content}))}sr.propTypes={selectedFile:Ke().object.isRequired};const ur=sr,pr=(0,Ze.$j)((function(){return{}}))(ur);var dr=n("UxO+"),mr=n("V2qZ"),fr=n("BUsU"),gr=n("SxI5"),hr=n("ABBN"),yr=n("lGMC");const br=new fr.V_({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return["p",0]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}},text:{group:"inline"}}});n("vxnP");function vr(e){return e.toJSON().doc.content.map((function(e){return e.content?e.content.reduce((function(e,t){return e+=t.text||"\n"}),""):""})).join("\n")}function Cr(e){return Oe().sanitize(e,{ALLOWED_TAGS:["p","#text"],KEEP_CONTENT:!1})}function Or(e){var t,n,r=e.selectedFileId,o=e.editorContent,i=e.updateFile,a=(0,Ve.useRef)(),l=(0,Ve.useRef)(),c=(t=r,n=(0,Ve.useRef)(),(0,Ve.useEffect)((function(){n.current=t})),n.current);function s(){return a.current&&a.current.dom.parentNode}function u(){a.current.dom.parentNode.removeChild(a.current.dom)}return(0,Ve.useEffect)((function(){if(!r||a.current&&c===r)s()&&!r&&u();else{s()&&u();var e=function(e){return dr.yy.create({doc:fr.aw.fromSchema(br).parse((t=e,n=Cr(t).split("\n").map((function(e){return"<p>".concat(e,"</p>")})).join(""),r=document.createElement("div"),r.innerHTML=Cr(n),r),{preserveWhitespace:"full"}),plugins:[(0,yr.m8)(),(0,gr.h)({"Mod-z":yr.Yw,"Mod-y":yr.KX}),(0,gr.h)(hr.YR)]});var t,n,r}(o);a.current=function(e,t,n){return new mr.tk(null,{state:e,dispatchTransaction:function(e){var r=this.state.applyTransaction(e),o=r.state,i=r.transactions;this.updateState(o),i.some((function(e){return e.docChanged}))&&t(n,{content:vr(o)})}})}(e,i,r),l.current.appendChild(a.current.dom),Or.editorView=a.current}})),Ve.createElement("div",{className:"prosemirrorWrapper",ref:l})}Or.defaultProps={selectedFileId:"",editorContent:""},Or.propTypes={selectedFileId:Ke().string,editorContent:Ke().string,updateFile:Ke().func.isRequired};const Er=Or;function wr(e){var t=e.selectedFile,n=e.updateFile;return Ve.createElement(or.E,null,Ve.createElement("div",{className:"songEditor"},Ve.createElement(or.z,{group:"a"},Ve.createElement("div",{className:"songEditor-source"},Ve.createElement(Er,{editorContent:t.content,updateFile:n,selectedFileId:t.id}))),Ve.createElement(or.z,{group:"a"},Ve.createElement("div",{className:"songEditor-preview"},Ve.createElement(pr,{selectedFile:t})))))}wr.propTypes={selectedFile:Ke().object,updateFile:Ke().func.isRequired};const Pr=wr;function Rr(e){var t=e.selectedFile;return Ve.createElement("div",{className:"exportPreview exp-SongRenderer"},Ve.createElement(cr,{content:t.content,useChartFormat:!0}))}Rr.propTypes={selectedFile:Ke().object.isRequired};const jr=Rr;function Fr(e){var t=e.selectedFile,n=e.fontSize,r=e.chordsColor,o=e.highlightChords,i=e.columnsCount,a=["playRenderer"];return a.push("playRenderer--columns-"+i),a.push("cmLine--fontSize"+n),a.push("cmChordSymbol--chordsColor-"+r),o&&a.push("cmChordLine--highlightChords"),Ve.createElement("div",{className:"playRendererWrapper1"},Ve.createElement("div",{className:"playRendererWrapper2"},Ve.createElement("div",{className:a.join(" "),"data-testid":"playRenderer"},Ve.createElement(cr,{content:t.content}))))}Fr.propTypes={selectedFile:Ke().object.isRequired,columnsCount:Ke().number.isRequired,fontSize:Ke().number.isRequired,chordsColor:Ke().string.isRequired,highlightChords:Ke().bool.isRequired};const Sr=Fr,Nr=(0,Ze.$j)((function(e){return{chordsColor:te(e,"songFormatting","chordsColor"),highlightChords:te(e,"songFormatting","highlightChords"),fontSize:te(e,"songFormatting","fontSize"),columnsCount:te(e,"songFormatting","columnsCount")}}))(Sr);n("ls82");function qr(e){var t=e.pageHeader,n=e.allColumnsLines,r=e.documentSize,o=e.documentMargins,i=e.fontSize,a=n.map((function(e,t){var n=e.join("\n");return Ve.createElement("div",{key:t,className:"printPreview-pageColumn","data-testid":"printPreview-pageColumn",dangerouslySetInnerHTML:{__html:ir(n)}})})),l=["printPreview-page"];l.push("printPreview-page--"+r),l.push("printPreview-page--font"+i);var c=["printPreview-pageContentWrapper"];return c.push("printPreview-pageContentWrapper--padding"+o),Ve.createElement("div",{className:l.join(" "),"data-testid":"printPreview-page"},Ve.createElement("div",{className:c.join(" "),"data-testid":"printPreview-pageContentWrapper"},Ve.createElement("div",{className:"printPreview-pageContent"},t,Ve.createElement("div",{className:"printPreview-pageColumnWrapper"},a))))}qr.defaultProps={allColumnsLines:[]},qr.propTypes={pageHeader:Ke().element,allColumnsLines:Ke().arrayOf(Ke().arrayOf(Ke().string)),documentSize:Ke().string.isRequired,documentMargins:Ke().number.isRequired,fontSize:Ke().number.isRequired};const kr=Ve.memo(qr);function Tr(e){var t=e.title;return Ve.createElement("div",{className:"printPreview-pageHeader"},t)}Tr.defaultProps={allColumnsLines:[]},Tr.propTypes={title:Ke().string.isRequired};const xr=Ve.memo(Tr);var Ir="cmEmptyLine",Ar="cmChordLine",Mr="cmTextLine";function _r(e,t){var n=t.columnsCount,r=t.firstPageHeight,o=t.normalPageHeight,i=t.columnBreakOnParagraph,a=t.noEmptyLinesOnColumnStart,l=void 0===a||a,c=t.noOrphanTextLine,s=void 0===c||c,u=function(e){var t=e.firstPageHeight,n=e.normalPageHeight,r=e.columnsCount,o=[],i=0,a=0,l=u(),c=0;function s(e){e.forEach((function(e){p(c+e.height)&&d(),o[i][a].push(e.content),c+=e.height}))}function u(){return 0===i&&t?t:n}function p(e){return e>l}function d(){m()?(i++,o[i]=[],a=0):a++,o[i][a]=[],c=0,l=u()}function m(){return a===r-1}return o[i]=[],o[i][a]=[],{insert:function(e){s(e)},insertOnNextColumn:function(e){d(),s(e)},fitsOnCurrentColumn:function(e){return c+e<=l},fitsOnNextColumn:function(e){return e<=(0===i&&a<r&&t?t:n)},get:function(){return o}}}({columnsCount:n,firstPageHeight:r,normalPageHeight:o,noEmptyLinesOnColumnStart:l}),p=[],d=0;return(r||o)>0&&e.forEach((function(t,n){(function(e,t,n,r){return!(Br(t)&&!e.fitsOnCurrentColumn(t.height)&&0===n.length&&!0===r)})(u,t,p,l)&&(p.push(t),d+=t.height),p.length>0&&function(e,t,n){var r=n.noOrphanTextLine,o=n.columnBreakOnParagraph;if(Br(e)||!t)return!0;var i=function(e){return Dr(e.content,Ar)}(e)&&function(e){return Dr(e.content,Mr)}(t);if(!0===r&&i)return!1;var a=Br(t);if(!0===o&&!a)return!1;return!0}(t,e[n+1],{noOrphanTextLine:s,columnBreakOnParagraph:i})&&(u.fitsOnCurrentColumn(d)?u.insert(p):u.fitsOnNextColumn(d)?u.insertOnNextColumn(p):u.insert(p),p=[],d=0)})),u.get()}function Br(e){return Dr(e.content,Ir)}function Dr(e,t){return e.indexOf(t)>-1}function Lr(e,t){var n=document.createElement("div");return n.classList.add("measuring-node"),document.body.appendChild(n),new Promise((function(r){$e.render(Ve.createElement("div",null,e),n,(function(){var e=t(n);$e.unmountComponentAtNode(n),n.parentNode.removeChild(n),r(e)}))}))}function zr(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.length||0;n<e;n++)t.push([]);return t}function Wr(e){return e.offsetHeight}function Hr(e){return e.clientHeight}function Gr(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Vr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Gr(i,r,o,a,l,"next",e)}function l(e){Gr(i,r,o,a,l,"throw",e)}a(void 0)}))}}var $r=".cmLine";function Zr(e,t){return Ur.apply(this,arguments)}function Ur(){return Ur=Vr(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.columnsCount,o=n.documentSize,i=n.documentMargins,a=n.fontSize,l=Ve.createElement("div",{className:"printPreview"},Ve.createElement(kr,{allColumnsLines:zr(r,[t]),columnsCount:r,documentSize:o,documentMargins:i,fontSize:a})),c=function(e){var t=[];return e.querySelectorAll($r).forEach((function(e){t.push(Wr(e))})),t},e.next=5,Lr(l,c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),Ur.apply(this,arguments)}function Kr(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function Yr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Kr(i,r,o,a,l,"next",e)}function l(e){Kr(i,r,o,a,l,"throw",e)}a(void 0)}))}}function Jr(e,t){return Xr.apply(this,arguments)}function Xr(){return(Xr=Yr(regeneratorRuntime.mark((function e(t,n){var r,o,i,a,l,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.columnsCount,o=n.documentSize,i=n.documentMargins,a=n.fontSize,l=Ve.createElement(kr,{pageHeader:Ve.createElement(xr,{title:t}),allColumnsLines:zr(r),documentSize:o,documentMargins:i,fontSize:a}),c=function(e){var t=e.querySelector(".printPreview-pageContent");return{firstPageHeight:Hr(e.querySelector(".printPreview-pageColumnWrapper")),normalPageHeight:Hr(t)}},e.next=5,Lr(l,c);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qr(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function eo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return to(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return to(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function no(e){var t=eo((0,Ve.useState)([]),2),n=t[0],r=t[1],o=e.title,i=e.allLines,a=e.columnsCount,l=e.columnBreakOnParagraph,c=e.documentSize,s=e.documentMargins,u=e.fontSize;(0,Ve.useLayoutEffect)((function(){var e=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,p,d,m,f,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={columnsCount:a,documentSize:c,documentMargins:s,fontSize:u},e.next=3,Zr(i,t);case 3:return n=e.sent,e.next=6,Jr(o,t);case 6:p=e.sent,d=p.normalPageHeight,m=p.firstPageHeight,f=i.map((function(e,t){return{content:e,height:n[t]}})),g=_r(f,{columnsCount:a,columnBreakOnParagraph:l,normalPageHeight:d,firstPageHeight:m}),r(g);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qr(i,r,o,a,l,"next",e)}function l(e){Qr(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[i,o,a,l,c,s,u]);var p=n.map((function(e,t){return Ve.createElement(kr,{key:t,pageHeader:0===t?Ve.createElement(xr,{title:o}):null,allColumnsLines:zr(a,e),documentSize:c,documentMargins:s,fontSize:u})}));return Ve.createElement(Ve.Fragment,null,p)}no.propTypes={title:Ke().string.isRequired,allLines:Ke().arrayOf(Ke().string).isRequired,columnsCount:Ke().number.isRequired,columnBreakOnParagraph:Ke().bool.isRequired,documentSize:Ke().string.isRequired,documentMargins:Ke().number.isRequired,fontSize:Ke().number.isRequired};const ro=no;function oo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function io(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ao(e){var t=e.selectedFile,n=e.highlightChords,r=u()(e,["transposeValue","harmonizeAccidentals","accidentalsType","chartType","alignChordsWithLyrics","alignBars","autoRepeatChords","expandSectionCopy"]),o=An(t.content||"",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oo(Object(n),!0).forEach((function(t){io(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r)).split("\n"),i=["printPreview"];return n&&i.push("cmChordLine--highlightChords"),Ve.createElement("div",{className:i.join(" "),"data-testid":"printPreview"},Ve.createElement(ro,{title:t.title||"",allLines:o,columnsCount:e.columnsCount,columnBreakOnParagraph:e.columnBreakOnParagraph,documentSize:e.documentSize||"a4",documentMargins:e.documentMargins,fontSize:e.fontSize}))}ao.propTypes={chartType:Ke().string.isRequired,selectedFile:Ke().object.isRequired,columnsCount:Ke().number.isRequired,columnBreakOnParagraph:Ke().bool.isRequired,documentSize:Ke().string,documentMargins:Ke().number.isRequired,fontSize:Ke().number.isRequired,highlightChords:Ke().bool.isRequired};const lo=ao,co=(0,Ze.$j)((function(e){return{harmonizeAccidentals:te(e,"songPreferences","harmonizeAccidentals"),accidentalsType:te(e,"songPreferences","preferredAccidentals"),transposeValue:te(e,"songPreferences","transposeValue"),chartType:te(e,"songFormatting","chartType"),alignChordsWithLyrics:te(e,"songFormatting","alignChordsWithLyrics"),alignBars:te(e,"songFormatting","alignBars"),autoRepeatChords:te(e,"songFormatting","autoRepeatChords"),expandSectionCopy:te(e,"songFormatting","expandSectionCopy"),columnsCount:te(e,"songFormatting","columnsCount"),columnBreakOnParagraph:te(e,"songFormatting","columnBreakOnParagraph"),documentMargins:te(e,"songFormatting","documentMargins"),fontSize:te(e,"songFormatting","fontSize"),highlightChords:te(e,"songFormatting","highlightChords")}}))(lo);function so(e){switch(e.editorMode){case"edit":return Ve.createElement(Pr,e);case"play":return Ve.createElement(Nr,e);case"print":return Ve.createElement(co,e);case"export":return Ve.createElement(jr,e)}}so.propTypes={editorMode:Ke().string.isRequired};const uo=so,po=(0,Ze.$j)((function(e){return{selectedFile:L(e,w(e))||{},editorMode:E(e)}}),{updateFile:wt})(uo);n("JTJg");function mo(){return mo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mo.apply(this,arguments)}function fo(e){var t,n,r,o,i,a,l,c=e.id,s=e.allWidgets,u=e.nonInteractableWidgets,p=e.hiddenWidgets,d=e.setOption,m=e.getEntryComponent,f=["optionsPanel","optionsPanel-"+c],g=s.widgetsOrder.filter((function(e){return!p.includes(e)})).map((function(e){return"optionsGroup"===(t=s.allWidgets[e]).type?0===(l=t.groupWidgetsOrder.filter((function(e){return!p.includes(e)})).map((function(r){return n=t.allGroupWidgets[r],a=!u.includes(e)&&!u.includes(r),h(r,n,a)}))).length?null:(o=m(t.type),i=!u.includes(e),Ve.createElement(o,{key:e,isInteractable:i,label:t.label,icon:t.icon},l)):h(e,t,!u.includes(e))}));function h(t,n,o){return r=m(n.type),Ve.createElement(r,mo({key:t,isInteractable:o,optionContext:n.option.context,optionKey:n.option.key,optionValue:e[n.option.key],setOption:d,label:n.label},n.typeOptions))}return Ve.createElement("div",{className:f.join(" ")},g)}fo.propTypes={id:Ke().string.isRequired,allWidgets:Ke().object.isRequired,nonInteractableWidgets:Ke().arrayOf(Ke().string).isRequired,hiddenWidgets:Ke().arrayOf(Ke().string).isRequired,setOption:Ke().func.isRequired,getEntryComponent:Ke().func.isRequired};const go=fo;function ho(e){var t=e.isInteractable,n=e.icon,r=e.label,o=["sb-optionsGroup"];return t&&e.children&&e.children.length>0||o.push("sb-optionsGroup-isNotInteractable"),Ve.createElement("div",{className:o.join(" ")},Ve.createElement("div",{className:"sb-optionsGroup-title"},Ve.createElement("span",{className:"sb-optionsGroup-iconTitle"},Ve.createElement(st,{iconName:n}))," ",r),Ve.createElement("div",{className:"sb-optionsGroup-content"},e.children))}ho.propTypes={isInteractable:Ke().bool.isRequired,icon:Ke().string.isRequired,label:Ke().string.isRequired,children:Ke().arrayOf(Ke().element)},ho.defaultProps={};const yo=ho;n("fbCW");function bo(e){var t,n=e.isSelected,r=e.isInteractable,o=e.label,i=e.onClick,a=["sb-optionSelectChoice"];return n&&(a.push("sb-optionSelectChoice-isSelected"),t=Ve.createElement("span",{className:"sb-optionSelectChoice-checkIcon"},Ve.createElement(st,{iconName:"check"}))),r||a.push("sb-optionSelectChoice-isNotInteractable"),Ve.createElement("div",{className:a.join(" "),onClick:function(){r&&i()}},Ve.createElement("div",{className:"sb-optionSelectChoice-check"},n&&t),Ve.createElement("div",{className:"sb-optionSelectChoice-label"},o))}bo.propTypes={isSelected:Ke().bool.isRequired,isInteractable:Ke().bool.isRequired,label:Ke().string.isRequired,onClick:Ke().func.isRequired};const vo=Ve.memo(bo);function Co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,l=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eo(e){var t=Co((0,Ve.useState)(!1),2),n=t[0],r=t[1],o=e.isInteractable,i=e.label,a=e.allChoices,l=e.optionContext,c=e.optionKey,s=e.optionValue,u=e.setOption,p=["sb-optionSelect"];o||p.push("sb-optionSelect-isNotInteractable");var d=n?"keyboard_arrow_down":"keyboard_arrow_right";var m=n?Ve.createElement("div",{className:"sb-optionSelect-choices"},a.map((function(e){return Ve.createElement(vo,{key:e.value,label:e.label,isSelected:s===e.value,isInteractable:o,onClick:function(){u(l,c,e.value)}})}))):null,f=a.find((function(e){return s===e.value})).label,g=n?i:Ve.createElement("span",null,Ve.createElement("span",null,i+": "),Ve.createElement("span",{className:"sb-optionSelectChoice-activeLabel"},f));return Ve.createElement("div",{className:p.join(" ")},Ve.createElement("div",{className:"sb-optionSelect-title",onClick:o?function(){r(!n)}:null},Ve.createElement("div",{className:"sb-optionSelect-desc","data-testid":"selectLabel"},g),Ve.createElement("div",{className:"sb-optionSelect-toggle"},Ve.createElement("span",{className:"sb-optionSelect-icon"},Ve.createElement(st,{iconName:d})))),m)}Eo.propTypes={isInteractable:Ke().bool.isRequired,label:Ke().string.isRequired,allChoices:Ke().array.isRequired,optionContext:Ke().string.isRequired,optionKey:Ke().string.isRequired,optionValue:Ke().string.isRequired,setOption:Ke().func.isRequired};const wo=Eo;n("JevA"),n("qePV");function Po(e){var t=e.isInteractable,n=e.label,r=e.min,o=e.max,i=e.showPlusSymbol,a=e.optionContext,l=e.optionKey,c=e.optionValue,s=e.setOption,u=["sb-optionSlider"];t||u.push("sb-optionSlider-isNotInteractable");var p=c>0&&i?"+"+c:c;return Ve.createElement("div",{className:u.join(" ")},Ve.createElement("div",{className:"sb-optionSlider-desc"},n),Ve.createElement("div",{className:"sb-optionSlider-value"},p),Ve.createElement("div",{className:"sb-optionSlider-range"},Ve.createElement("input",{min:r,max:o,value:c,type:"range",onChange:t?function(e){s(a,l,Number.parseInt(e.target.value))}:null,disabled:!t})))}Po.propTypes={isInteractable:Ke().bool.isRequired,label:Ke().string.isRequired,min:Ke().number.isRequired,max:Ke().number.isRequired,showPlusSymbol:Ke().bool,optionContext:Ke().string.isRequired,optionKey:Ke().string.isRequired,optionValue:Ke().number.isRequired,setOption:Ke().func.isRequired},Po.defaultProps={showPlusSymbol:!0};const Ro=Ve.memo(Po);function jo(e){var t=e.isInteractable,n=e.label,r=e.optionContext,o=e.optionKey,i=e.optionValue,a=e.setOption,l=["sb-optionToggle"];return l.push(!0===i?"sb-optionToggle-isOn":"sb-optionToggle-isOff"),t||l.push("sb-optionToggle-isNotInteractable"),Ve.createElement("div",{className:l.join(" "),onClick:t?function(){a(r,o,!i)}:null},Ve.createElement("div",{className:"sb-optionToggle-desc"},n),Ve.createElement("div",{className:"sb-optionToggle-icon"},Ve.createElement("span",{className:"sb-optionToggle-icon"},Ve.createElement(st,{iconName:!0===i?"toggle_on":"toggle_off"}))))}jo.propTypes={isInteractable:Ke().bool.isRequired,label:Ke().string.isRequired,optionContext:Ke().string.isRequired,optionKey:Ke().string.isRequired,optionValue:Ke().bool.isRequired,setOption:Ke().func.isRequired};const Fo=Ve.memo(jo);function So(){return So=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},So.apply(this,arguments)}function No(e){switch(e){case"optionsGroup":return yo;case"select":return wo;case"slider":return Ro;case"toggle":return Fo}}function qo(e){return Ve.createElement("div",{className:"sb-optionsPanel"},Ve.createElement(go,So({},e,{getEntryComponent:No})))}function ko(){return ko=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ko.apply(this,arguments)}var To=function(e,t,n){if(!e)throw new TypeError("Cannot set an option without a context");if(!t)throw new TypeError("Cannot set an option without a key");return Be(h,{context:e,key:t,value:n})};var xo=n("zqxM"),Io=n.n(xo);function Ao(e){return function(e){if(Array.isArray(e))return Mo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Mo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(n),!0).forEach((function(t){Do(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Do(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Lo=function(e,t,n,r){return(0,Ze.$j)((function(r){var o,i,a={allWidgets:e,nonInteractableWidgets:t(r),hiddenWidgets:n(r)};return e.widgetsOrder.forEach((function(t){(o=e.allWidgets[t]).groupWidgetsOrder.forEach((function(e){i=o.allGroupWidgets[e],a[i.option.key]=te(r,i.option.context,i.option.key)}))})),a}),{setOption:To})(r)}({widgetsOrder:["key","preferences","layout","style"],allWidgets:{key:{label:"Key",type:"optionsGroup",icon:"music_note",groupWidgetsOrder:["transposeValue","harmonizeAccidentals","preferredAccidentals"],allGroupWidgets:{transposeValue:{label:"Transpose",type:"slider",typeOptions:{min:-11,max:11,showPlusSymbol:!0},option:{context:"songPreferences",key:"transposeValue"}},harmonizeAccidentals:{label:"Harmonize accidentals",type:"toggle",option:{context:"songPreferences",key:"harmonizeAccidentals"}},preferredAccidentals:{label:"Preferred accidentals",type:"select",typeOptions:{allChoices:[{id:"preferredAccidentalsAuto",label:"Auto",value:"auto"},{id:"preferredAccidentalsSharp",label:"",value:"sharp"},{id:"preferredAccidentalsFlat",label:"",value:"flat"}]},option:{context:"songPreferences",key:"preferredAccidentals"}}}},preferences:{label:"Preferences",type:"optionsGroup",icon:"tune",groupWidgetsOrder:["chartFormat","chartType","alignChordsWithLyrics","alignBars","autoRepeatChords","expandSectionCopy"],allGroupWidgets:{chartFormat:{label:"Export format",type:"select",typeOptions:{allChoices:[{id:"formatChordMark",label:"ChordMark",value:"chordmark"},{id:"formatChordMarkSrc",label:"ChordMark (Source)",value:"chordmarkSrc"},{id:"formatChordpro",label:"ChordPro",value:"chordpro"}]},option:{context:"songFormatting",key:"chartFormat"}},chartType:{label:"Chart type",type:"select",typeOptions:{allChoices:[{id:"typedisplayAll",label:"Complete",value:"all"},{id:"typedisplayLyrics",label:"Lyrics only",value:"lyrics"},{id:"typedisplayChords",label:"Chords only",value:"chords"},{id:"typedisplayChordsFirstLyricLine",label:"Chords + First lyric line",value:"chordsFirstLyricLine"}]},option:{context:"songFormatting",key:"chartType"}},alignChordsWithLyrics:{label:"Align chords with lyrics",type:"toggle",option:{context:"songFormatting",key:"alignChordsWithLyrics"}},alignBars:{label:"Align bars",type:"toggle",option:{context:"songFormatting",key:"alignBars"}},autoRepeatChords:{label:"Auto repeat chords",type:"toggle",option:{context:"songFormatting",key:"autoRepeatChords"}},expandSectionCopy:{label:"Expand copied sections",type:"toggle",option:{context:"songFormatting",key:"expandSectionCopy"}}}},layout:{type:"optionsGroup",label:"Layout",icon:"view_compact",groupWidgetsOrder:["columnsCount","columnBreakOnParagraph","documentMargins"],allGroupWidgets:{columnsCount:{label:"Columns",type:"slider",typeOptions:{min:1,max:4},option:{context:"songFormatting",key:"columnsCount"}},columnBreakOnParagraph:{label:"Break on paragraph",type:"toggle",option:{context:"songFormatting",key:"columnBreakOnParagraph"}},documentMargins:{label:"Margins",type:"slider",typeOptions:{min:1,max:5},option:{context:"songFormatting",key:"documentMargins"}}}},style:{type:"optionsGroup",label:"Style",icon:"format_size",groupWidgetsOrder:["fontSize","chordsColor","highlightChords"],allGroupWidgets:{fontSize:{label:"Font size",type:"slider",typeOptions:{min:-5,max:5,showPlusSymbol:!0},option:{context:"songFormatting",key:"fontSize"}},chordsColor:{label:"Chords color",type:"select",typeOptions:{allChoices:[{id:"chordsColor",label:"Base",value:"base"},{id:"chordsColorRed",label:"Red",value:"red"},{id:"chordsColorYellow",label:"Yellow",value:"yellow"},{id:"chordsColorGreen",label:"Green",value:"green"}]},option:{context:"songFormatting",key:"chordsColor"}},highlightChords:{label:"Highlight Chords",type:"toggle",option:{context:"songFormatting",key:"highlightChords"}}}}}},(function(e){var t=[],n=te(e,"songFormatting","chartType");"lyrics"===n?(t.push("alignChordsWithLyrics"),t.push("alignBars"),t.push("autoRepeatChords")):"chords"===n&&t.push("alignChordsWithLyrics");var r=te(e,"songFormatting","chartFormat");return["chordmarkSrc","chordpro"].includes(r)&&(t.push("chartType"),t.push("alignChordsWithLyrics"),t.push("alignBars"),t.push("autoRepeatChords")),"chordmarkSrc"===r&&t.push("expandSectionCopy"),te(e,"songPreferences","harmonizeAccidentals")||t.push("preferredAccidentals"),t}),(function(e){var t=[],n=Object.keys(Bo(Bo({},ne(e,"songFormatting")),ne(e,"songPreferences")));if(!w(e))return n;var r=E(e),o=Io()(n,H[r]);return t.push.apply(t,Ao(o)),t}),(function(e){return Ve.createElement("div",{className:"renderingOptionsPanel"},Ve.createElement("div",{className:"renderingOptionsPanel-isCollapsed"},Ve.createElement("span",{className:"renderingOptionsPanel-icon"},Ve.createElement(st,{iconName:"settings"}))),Ve.createElement("div",{className:"renderingOptionsPanel-isExpanded"},Ve.createElement(qo,ko({},e,{id:"rendering"}))))}));function zo(){var e=Ve.createElement(rr,null),t=Ve.createElement(Lo,null);return Ve.createElement(Sn,{leftBar:e,rightBar:t},Ve.createElement(po,null))}var Wo=[{path:"/editor",action:function(){return zo}}],Ho=new Ge.Z(Wo);const Go=function(e){return Ho.resolve(e).then((function(e){return t=e,void $e.render(Ve.createElement(Ze.zt,{store:_e()},Ve.createElement(Ve.StrictMode,null,Ve.createElement(rt,null,Ve.createElement(t,null)))),document.getElementById("app"));var t}))};var Vo=n("jwii"),$o=n("9jg7");window.addEventListener("message",He),Me(),function(){var e=_e(),t=e.getState();0===D(t).length&&(e.dispatch(Et("Hallelujah - Leonard Cohen",$o)),e.dispatch(Et("Getting started",Vo)))}(),Go("/editor")},"/ysv":(e,t,n)=>{e.exports=n.p+"33725b71b01853fb41bf.png"},jwii:e=>{e.exports="Welcome to Chord Charts Studio!\n\nChord Charts Studio is the official editor of the ChordMark format. \nYou can use it to quickly write accurate transcription of songs made up of chords and lyrics. \n\nA % D7.. E7..\n_Just write _some chords, some _lyrics\n%\n_And see how it _looks: _terrific!\n\nWhere to start? You can either:\n- check the sample song on the left\n- read the user guide, by clicking the big yellow button in the top right corner\n\nHave fun!\n"},"9jg7":e=>{e.exports="#i\nC.. Am.. %\n%\n\n#v\nC.. Am..\nI _heard there was a _secret chord\n%\nThat _David played and it _pleased the lord\nF... G. C.. G..\nBut _you don't really care for _music, _do you?\nC.. F. G.\nWell it _goes like this the _fourth, the _fifth\nAm.. F..\nThe _minor fall and the _major lift\nG.. E7.. Am\nThe _baffled king com_posing halle_lujah\n\n#c\nF\nHalle_lujah\nAm\nHalle_lujah\nF\nHalle_lujah\nC.. G.. C.. Am..\nHalle_lu_u_jah\n\n#v\nWell, your _faith was strong but you _needed proof\nYou _saw her bathing _on the roof\nHer _beauty and the moonlight _over_threw you\nShe _tied you to her _kitchen _chair\nShe _broke your throne and she _cut your hair\nAnd _from your lips she _drew the halle_lujah\n\n#c\n"}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,o,i]=e[u],l=!0,c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](n[c])))?n.splice(c--,1):(l=!1,i<a&&(a=i));if(l){e.splice(u--,1);var s=o();void 0!==s&&(t=s)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,l,c]=n,s=0;if(a.some((t=>0!==e[t]))){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(c)var u=c(r)}for(t&&t(n);s<a.length;s++)i=a[s],r.o(e,i)&&e[i]&&e[i][0](),e[a[s]]=0;return r.O(u)},n=self.webpackChunk_touffi_chords_charts_studio=self.webpackChunk_touffi_chords_charts_studio||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[216],(()=>r("SF5+")));o=r.O(o)})();
//# sourceMappingURL=main.e57b2f1a1a4debfe1406.js.map